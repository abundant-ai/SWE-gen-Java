diff --git a/core-processor/src/main/java/io/micronaut/inject/annotation/AbstractAnnotationMetadataBuilder.java b/core-processor/src/main/java/io/micronaut/inject/annotation/AbstractAnnotationMetadataBuilder.java
index 8e93bfdd25..359dd19660 100644
--- a/core-processor/src/main/java/io/micronaut/inject/annotation/AbstractAnnotationMetadataBuilder.java
+++ b/core-processor/src/main/java/io/micronaut/inject/annotation/AbstractAnnotationMetadataBuilder.java
@@ -1848,6 +1848,16 @@ public abstract class AbstractAnnotationMetadataBuilder<T, A> {
          */
         void update(@NonNull AnnotationMetadata annotationMetadata);
 
+        /**
+         * @return Was the metadata cleared by a previous processor.
+         */
+        boolean wasCleared();
+
+        /**
+         * Mark as cleared.
+         */
+        void markCleared();
+
     }
 
     /**
@@ -1887,6 +1897,7 @@ public abstract class AbstractAnnotationMetadataBuilder<T, A> {
         @Nullable
         private AnnotationMetadata annotationMetadata;
         private boolean isMutated;
+        private boolean cleared;
 
         public DefaultCachedAnnotationMetadata(AnnotationMetadata annotationMetadata) {
             if (annotationMetadata instanceof AbstractAnnotationMetadataBuilder.CachedAnnotationMetadata) {
@@ -1916,6 +1927,16 @@ public abstract class AbstractAnnotationMetadataBuilder<T, A> {
             this.annotationMetadata = annotationMetadata;
             isMutated = true;
         }
+
+        @Override
+        public boolean wasCleared() {
+            return cleared;
+        }
+
+        @Override
+        public void markCleared() {
+            this.cleared = true;
+        }
     }
 
 }
diff --git a/core-processor/src/main/java/io/micronaut/inject/ast/annotation/AbstractElementAnnotationMetadataFactory.java b/core-processor/src/main/java/io/micronaut/inject/ast/annotation/AbstractElementAnnotationMetadataFactory.java
index 4c57fda9f5..f30c60e784 100644
--- a/core-processor/src/main/java/io/micronaut/inject/ast/annotation/AbstractElementAnnotationMetadataFactory.java
+++ b/core-processor/src/main/java/io/micronaut/inject/ast/annotation/AbstractElementAnnotationMetadataFactory.java
@@ -224,6 +224,16 @@ public abstract class AbstractElementAnnotationMetadataFactory<K, A> implements
             public void update(AnnotationMetadata annotationMetadata) {
                 throw new IllegalStateException("Class element: [" + classElement + "] doesn't support type annotations!");
             }
+
+            @Override
+            public boolean wasCleared() {
+                return false;
+            }
+
+            @Override
+            public void markCleared() {
+                // no-op
+            }
         };
     }
 
diff --git a/inject-java/src/main/java/io/micronaut/annotation/processing/BeanDefinitionInjectProcessor.java b/inject-java/src/main/java/io/micronaut/annotation/processing/BeanDefinitionInjectProcessor.java
index 09488dbf39..533847122e 100644
--- a/inject-java/src/main/java/io/micronaut/annotation/processing/BeanDefinitionInjectProcessor.java
+++ b/inject-java/src/main/java/io/micronaut/annotation/processing/BeanDefinitionInjectProcessor.java
@@ -179,8 +179,11 @@ public class BeanDefinitionInjectProcessor extends AbstractInjectAnnotationProce
                         PostponeToNextRoundException nextRoundException = postponed.get(className);
                         if (nextRoundException != null) {
                             Object errorElement = nextRoundException.getErrorElement();
-                            if (errorElement != null) {
-                                AbstractAnnotationMetadataBuilder.clearMutated(errorElement);
+                            if (errorElement instanceof Element element) {
+                                AbstractAnnotationMetadataBuilder.CachedAnnotationMetadata cachedAnnotationMetadata = javaVisitorContext.getAnnotationMetadataBuilder().lookupOrBuildForType(element);
+                                if (!cachedAnnotationMetadata.wasCleared()) {
+                                    AbstractAnnotationMetadataBuilder.clearMutated(errorElement);
+                                }
                             }
                         }
                         try {
diff --git a/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java b/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java
index 90b80f4a0b..4aaef051ef 100644
--- a/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java
+++ b/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java
@@ -459,7 +459,13 @@ public class JavaAnnotationMetadataBuilder extends AbstractAnnotationMetadataBui
     private boolean isValidDefaultValue(ExecutableElement executableElement) {
         AnnotationValue defaultValue = executableElement.getDefaultValue();
         if (defaultValue != null) {
-            Object v = defaultValue.getValue();
+            Object v;
+            try {
+                v = defaultValue.getValue();
+            } catch (UnsupportedOperationException e) {
+                // if this is Attribute it can throw UnsupportedOperationException
+                return false;
+            }
             if (v != null) {
                 if (v instanceof String string) {
                     return StringUtils.isNotEmpty(string);
diff --git a/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java b/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java
index e68fac8b28..9c8d9f2ec4 100644
--- a/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java
+++ b/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java
@@ -245,6 +245,10 @@ public class TypeElementVisitorProcessor extends AbstractInjectAnnotationProcess
 
             for (Object nativeType : postponedTypes.values()) {
                 AbstractAnnotationMetadataBuilder.clearMutated(nativeType);
+                if (nativeType instanceof Element element) {
+                    AbstractAnnotationMetadataBuilder.CachedAnnotationMetadata cachedAnnotationMetadata = javaVisitorContext.getAnnotationMetadataBuilder().lookupOrBuildForType(element);
+                    cachedAnnotationMetadata.markCleared();
+                }
             }
             postponedTypes.keySet().stream().map(elementUtils::getTypeElement).filter(Objects::nonNull).forEach(elements::add);
             postponedTypes.clear();
