diff --git a/settings.gradle.kts b/settings.gradle.kts
index 0803799cd..cdaa0e66e 100644
--- a/settings.gradle.kts
+++ b/settings.gradle.kts
@@ -9,7 +9,6 @@ include("deprecatedPluginsTest",
     "kotlinTest",
     "kotlinReleaseCoroutinesTest",
     "android",
-    "androidTest",
     "junit-jupiter",
     "junitJupiterExtensionTest",
     "junitJupiterInlineMockMakerExtensionTest",
@@ -19,6 +18,12 @@ include("deprecatedPluginsTest",
     "junitJupiterParallelTest",
     "osgi-test")
 
+if (System.getenv("ANDROID_SDK_ROOT") != null || File(".local.properties").exists()) {
+    include("androidTest")
+} else {
+    logger.info("Not including android test project due to missing SDK configuration")
+}
+
 rootProject.name = "mockito"
 
 val koltinBuildScriptProject = hashSetOf("junitJupiterExtensionTest", "junitJupiterInlineMockMakerExtensionTest")
diff --git a/src/main/java/org/mockito/internal/creation/bytebuddy/SubclassBytecodeGenerator.java b/src/main/java/org/mockito/internal/creation/bytebuddy/SubclassBytecodeGenerator.java
index 46ecb7868..f67fdfc5a 100644
--- a/src/main/java/org/mockito/internal/creation/bytebuddy/SubclassBytecodeGenerator.java
+++ b/src/main/java/org/mockito/internal/creation/bytebuddy/SubclassBytecodeGenerator.java
@@ -44,7 +44,6 @@ import net.bytebuddy.implementation.FieldAccessor;
 import net.bytebuddy.implementation.Implementation;
 import net.bytebuddy.implementation.attribute.MethodAttributeAppender;
 import net.bytebuddy.matcher.ElementMatcher;
-import org.mockito.Answers;
 import org.mockito.codegen.InjectionBase;
 import org.mockito.exceptions.base.MockitoException;
 import org.mockito.internal.creation.bytebuddy.ByteBuddyCrossClassLoaderSerializationSupport.CrossClassLoaderSerializableMock;
@@ -241,21 +240,11 @@ class SubclassBytecodeGenerator implements BytecodeGenerator {
                         .serialVersionUid(42L)
                         .defineField("mockitoInterceptor", MockMethodInterceptor.class, PRIVATE)
                         .implement(MockAccess.class)
-                        .intercept(FieldAccessor.ofBeanProperty());
-
-        if (features.defaultAnswer != Answers.CALLS_REAL_METHODS) {
-            builder =
-                    builder.method(isHashCode())
-                            .intercept(hashCode)
-                            .method(isEquals())
-                            .intercept(equals);
-        } else {
-            builder =
-                    builder.method(isHashCode())
-                            .intercept(dispatcher)
-                            .method(isEquals())
-                            .intercept(dispatcher);
-        }
+                        .intercept(FieldAccessor.ofBeanProperty())
+                        .method(isHashCode())
+                        .intercept(hashCode)
+                        .method(isEquals())
+                        .intercept(equals);
         if (features.serializableMode == SerializableMode.ACROSS_CLASSLOADERS) {
             builder =
                     builder.implement(CrossClassLoaderSerializableMock.class)
diff --git a/src/main/java/org/mockito/internal/creation/bytebuddy/TypeCachingBytecodeGenerator.java b/src/main/java/org/mockito/internal/creation/bytebuddy/TypeCachingBytecodeGenerator.java
index 5ce57b111..30ed949bf 100644
--- a/src/main/java/org/mockito/internal/creation/bytebuddy/TypeCachingBytecodeGenerator.java
+++ b/src/main/java/org/mockito/internal/creation/bytebuddy/TypeCachingBytecodeGenerator.java
@@ -5,14 +5,12 @@
 package org.mockito.internal.creation.bytebuddy;
 
 import java.lang.ref.ReferenceQueue;
-import java.util.Objects;
 import java.util.Set;
 import java.util.concurrent.locks.ReadWriteLock;
 import java.util.concurrent.locks.ReentrantReadWriteLock;
 
 import net.bytebuddy.TypeCache;
 import org.mockito.mock.SerializableMode;
-import org.mockito.stubbing.Answer;
 
 class TypeCachingBytecodeGenerator extends ReferenceQueue<ClassLoader>
         implements BytecodeGenerator {
@@ -45,8 +43,7 @@ class TypeCachingBytecodeGenerator extends ReferenceQueue<ClassLoader>
                                     params.mockedType,
                                     params.interfaces,
                                     params.serializableMode,
-                                    params.stripAnnotations,
-                                    params.defaultAnswer),
+                                    params.stripAnnotations),
                             () -> bytecodeGenerator.mockClass(params),
                             BOOTSTRAP_LOCK);
         } catch (IllegalArgumentException exception) {
@@ -86,18 +83,15 @@ class TypeCachingBytecodeGenerator extends ReferenceQueue<ClassLoader>
 
         private final SerializableMode serializableMode;
         private final boolean stripAnnotations;
-        private final Answer defaultAnswer;
 
         private MockitoMockKey(
                 Class<?> type,
                 Set<Class<?>> additionalType,
                 SerializableMode serializableMode,
-                boolean stripAnnotations,
-                Answer defaultAnswer) {
+                boolean stripAnnotations) {
             super(type, additionalType);
             this.serializableMode = serializableMode;
             this.stripAnnotations = stripAnnotations;
-            this.defaultAnswer = defaultAnswer;
         }
 
         @Override
@@ -113,8 +107,7 @@ class TypeCachingBytecodeGenerator extends ReferenceQueue<ClassLoader>
             }
             MockitoMockKey that = (MockitoMockKey) object;
             return stripAnnotations == that.stripAnnotations
-                    && serializableMode.equals(that.serializableMode)
-                    && Objects.equals(defaultAnswer, that.defaultAnswer);
+                    && serializableMode.equals(that.serializableMode);
         }
 
         @Override
@@ -122,7 +115,6 @@ class TypeCachingBytecodeGenerator extends ReferenceQueue<ClassLoader>
             int result = super.hashCode();
             result = 31 * result + (stripAnnotations ? 1 : 0);
             result = 31 * result + serializableMode.hashCode();
-            result = 31 * result + Objects.hashCode(defaultAnswer);
             return result;
         }
     }
