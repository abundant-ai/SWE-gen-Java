diff --git a/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt b/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt
index 337fc26fe..9fea41599 100644
--- a/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt
+++ b/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt
@@ -100,7 +100,7 @@ internal fun mockwebserver3.RecordedRequest.unwrap(): RecordedRequest =
     chunkSizes = chunkSizes,
     bodySize = bodySize,
     body = Buffer().write(body ?: ByteString.EMPTY),
-    sequenceNumber = sequenceNumber,
+    sequenceNumber = exchangeIndex,
     failure = failure,
     method = method,
     path = url.encodedPath,
diff --git a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt
index 966d98596..deff392c3 100644
--- a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt
+++ b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt
@@ -16,7 +16,6 @@
 package mockwebserver3.junit5
 
 import mockwebserver3.junit5.internal.StartStopExtension
-import okhttp3.ExperimentalOkHttpApi
 import org.junit.jupiter.api.extension.ExtendWith
 
 /**
@@ -38,5 +37,4 @@ import org.junit.jupiter.api.extension.ExtendWith
 @Target(AnnotationTarget.FIELD)
 @Retention(AnnotationRetention.RUNTIME)
 @ExtendWith(StartStopExtension::class)
-@ExperimentalOkHttpApi
 annotation class StartStop
diff --git a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt
index 459873ff7..ab4a7dc5f 100644
--- a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt
+++ b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt
@@ -18,7 +18,6 @@ package mockwebserver3.junit5.internal
 import java.lang.reflect.Modifier
 import mockwebserver3.MockWebServer
 import mockwebserver3.junit5.StartStop
-import okhttp3.ExperimentalOkHttpApi
 import org.junit.jupiter.api.extension.BeforeAllCallback
 import org.junit.jupiter.api.extension.BeforeEachCallback
 import org.junit.jupiter.api.extension.ExtensionContext
@@ -26,7 +25,6 @@ import org.junit.jupiter.api.extension.ExtensionContext.Namespace
 import org.junit.platform.commons.support.AnnotationSupport.findAnnotatedFields
 
 /** Implements the policy specified by [StartStop]. */
-@ExperimentalOkHttpApi
 internal class StartStopExtension :
   BeforeEachCallback,
   BeforeAllCallback {
diff --git a/mockwebserver/api/mockwebserver3.api b/mockwebserver/api/mockwebserver3.api
index 119571dc3..24d8a0d64 100644
--- a/mockwebserver/api/mockwebserver3.api
+++ b/mockwebserver/api/mockwebserver3.api
@@ -144,18 +144,19 @@ public class mockwebserver3/QueueDispatcher : mockwebserver3/Dispatcher {
 }
 
 public final class mockwebserver3/RecordedRequest {
-	public fun <init> (ILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;)V
-	public synthetic fun <init> (ILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
+	public fun <init> (IILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;)V
+	public synthetic fun <init> (IILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
 	public final fun getBody ()Lokio/ByteString;
 	public final fun getBodySize ()J
 	public final fun getChunkSizes ()Ljava/util/List;
+	public final fun getConnectionIndex ()I
+	public final fun getExchangeIndex ()I
 	public final fun getFailure ()Ljava/io/IOException;
 	public final fun getHandshake ()Lokhttp3/Handshake;
 	public final fun getHandshakeServerNames ()Ljava/util/List;
 	public final fun getHeaders ()Lokhttp3/Headers;
 	public final fun getMethod ()Ljava/lang/String;
 	public final fun getRequestLine ()Ljava/lang/String;
-	public final fun getSequenceNumber ()I
 	public final fun getTarget ()Ljava/lang/String;
 	public final fun getUrl ()Lokhttp3/HttpUrl;
 	public final fun getVersion ()Ljava/lang/String;
diff --git a/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt b/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt
index 2134ea299..2c081a882 100644
--- a/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt
+++ b/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt
@@ -385,6 +385,7 @@ public class MockWebServer : Closeable {
 
   @Throws(Exception::class)
   private fun acceptConnections() {
+    var nextConnectionIndex = 0
     while (true) {
       val socket: Socket
       try {
@@ -396,11 +397,11 @@ public class MockWebServer : Closeable {
 
       val socketPolicy = dispatcher.peek().socketPolicy
       if (socketPolicy === DisconnectAtStart) {
-        dispatchBookkeepingRequest(0, socket)
+        dispatchBookkeepingRequest(nextConnectionIndex++, 0, socket)
         socket.close()
       } else {
         openClientSockets.add(socket)
-        serveConnection(socket)
+        serveConnection(nextConnectionIndex++, socket)
       }
     }
   }
@@ -424,10 +425,13 @@ public class MockWebServer : Closeable {
     taskRunnerBackend.shutdown()
   }
 
-  private fun serveConnection(raw: Socket) {
+  private fun serveConnection(
+    connectionIndex: Int,
+    raw: Socket,
+  ) {
     taskRunner.newQueue().execute("MockWebServer ${raw.remoteSocketAddress}", cancelable = false) {
       try {
-        SocketHandler(raw).handle()
+        SocketHandler(connectionIndex, raw).handle()
       } catch (e: IOException) {
         logger.fine("$this connection from ${raw.inetAddress} failed: $e")
       } catch (e: Exception) {
@@ -437,9 +441,10 @@ public class MockWebServer : Closeable {
   }
 
   internal inner class SocketHandler(
+    private val connectionIndex: Int,
     private val raw: Socket,
   ) {
-    private var sequenceNumber = 0
+    private var nextExchangeIndex = 0
 
     @Throws(Exception::class)
     fun handle() {
@@ -451,7 +456,7 @@ public class MockWebServer : Closeable {
       when {
         sslSocketFactory != null -> {
           if (socketPolicy === FailHandshake) {
-            dispatchBookkeepingRequest(sequenceNumber, raw)
+            dispatchBookkeepingRequest(connectionIndex, nextExchangeIndex++, raw)
             processHandshakeFailure(raw)
             return
           }
@@ -501,12 +506,12 @@ public class MockWebServer : Closeable {
       }
 
       if (socketPolicy === StallSocketAtStart) {
-        dispatchBookkeepingRequest(sequenceNumber, socket)
+        dispatchBookkeepingRequest(connectionIndex, nextExchangeIndex++, socket)
         return // Ignore the socket until the server is shut down!
       }
 
       if (protocol === Protocol.HTTP_2 || protocol === Protocol.H2_PRIOR_KNOWLEDGE) {
-        val http2SocketHandler = Http2SocketHandler(socket, protocol)
+        val http2SocketHandler = Http2SocketHandler(connectionIndex, socket, protocol)
         val connection =
           Http2Connection
             .Builder(false, taskRunner)
@@ -527,7 +532,7 @@ public class MockWebServer : Closeable {
       while (processOneRequest(socket, source, sink)) {
       }
 
-      if (sequenceNumber == 0) {
+      if (nextExchangeIndex == 0) {
         logger.warning(
           "${this@MockWebServer} connection from ${raw.inetAddress} didn't make a request",
         )
@@ -575,7 +580,7 @@ public class MockWebServer : Closeable {
         return false // No more requests on this socket.
       }
 
-      val request = readRequest(socket, source, sink, sequenceNumber)
+      val request = readRequest(socket, source, sink, connectionIndex, nextExchangeIndex)
       atomicRequestCount.incrementAndGet()
       requestQueue.add(request)
 
@@ -628,7 +633,7 @@ public class MockWebServer : Closeable {
         else -> {
         }
       }
-      sequenceNumber++
+      nextExchangeIndex++
       return reuseSocket
     }
   }
@@ -655,7 +660,8 @@ public class MockWebServer : Closeable {
 
   @Throws(InterruptedException::class)
   private fun dispatchBookkeepingRequest(
-    sequenceNumber: Int,
+    connectionIndex: Int,
+    exchangeIndex: Int,
     socket: Socket,
   ) {
     val request =
@@ -665,7 +671,8 @@ public class MockWebServer : Closeable {
         chunkSizes = emptyList(),
         bodySize = 0L,
         body = null,
-        sequenceNumber = sequenceNumber,
+        connectionIndex = connectionIndex,
+        exchangeIndex = exchangeIndex,
         socket = socket,
       )
     atomicRequestCount.incrementAndGet()
@@ -673,13 +680,14 @@ public class MockWebServer : Closeable {
     dispatcher.dispatch(request)
   }
 
-  /** @param sequenceNumber the index of this request on this connection.*/
+  /** @param exchangeIndex the index of this request on this connection.*/
   @Throws(IOException::class)
   private fun readRequest(
     socket: Socket,
     source: BufferedSource,
     sink: BufferedSink,
-    sequenceNumber: Int,
+    connectionIndex: Int,
+    exchangeIndex: Int,
   ): RecordedRequest {
     var request: RequestLine = DEFAULT_REQUEST_LINE
     val headers = Headers.Builder()
@@ -776,7 +784,8 @@ public class MockWebServer : Closeable {
           hasBody -> requestBody.buffer.readByteString()
           else -> null
         },
-      sequenceNumber = sequenceNumber,
+      connectionIndex = connectionIndex,
+      exchangeIndex = exchangeIndex,
       socket = socket,
       failure = failure,
     )
@@ -986,16 +995,17 @@ public class MockWebServer : Closeable {
 
   /** Processes HTTP requests layered over HTTP/2. */
   private inner class Http2SocketHandler(
+    private val connectionIndex: Int,
     private val socket: Socket,
     private val protocol: Protocol,
   ) : Http2Connection.Listener() {
-    private val sequenceNumber = AtomicInteger()
+    private val nextExchangeIndex = AtomicInteger()
 
     @Throws(IOException::class)
     override fun onStream(stream: Http2Stream) {
       val peekedResponse = dispatcher.peek()
       if (peekedResponse.socketPolicy is ResetStreamAtStart) {
-        dispatchBookkeepingRequest(sequenceNumber.getAndIncrement(), socket)
+        dispatchBookkeepingRequest(connectionIndex, nextExchangeIndex.getAndIncrement(), socket)
         stream.close(ErrorCode.fromHttp2(peekedResponse.socketPolicy.http2ErrorCode)!!, null)
         return
       }
@@ -1107,7 +1117,8 @@ public class MockWebServer : Closeable {
             HttpMethod.permitsRequestBody(method) -> bodyByteString
             else -> null
           },
-        sequenceNumber = sequenceNumber.getAndIncrement(),
+        connectionIndex = connectionIndex,
+        exchangeIndex = nextExchangeIndex.getAndIncrement(),
         socket = socket,
         failure = exception,
       )
@@ -1213,7 +1224,8 @@ public class MockWebServer : Closeable {
             chunkSizes = chunkSizes,
             bodySize = 0,
             body = null,
-            sequenceNumber = sequenceNumber.getAndIncrement(),
+            connectionIndex = connectionIndex,
+            exchangeIndex = nextExchangeIndex.getAndIncrement(),
             socket = socket,
           ),
         )
diff --git a/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt b/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt
index e98b45554..d3648fe89 100644
--- a/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt
+++ b/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt
@@ -27,10 +27,15 @@ import okio.ByteString
 @ExperimentalOkHttpApi
 public class RecordedRequest(
   /**
-   * The index of this request on its HTTP connection. Since a single HTTP connection may serve
-   * multiple requests, each request is assigned its own sequence number.
+   * The index of the socket connection that carried this request. If two recorded requests share a
+   * connection index, they also shared a socket connection.
    */
-  public val sequenceNumber: Int,
+  public val connectionIndex: Int,
+  /**
+   * The index of this exchange on its HTTP connection. A request is uniquely identified by the
+   * (connection index, exchange index) pair.
+   */
+  public val exchangeIndex: Int,
   /**
    * The TLS handshake of the connection that carried this request, or null if the request was
    * received without TLS.
diff --git a/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt b/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt
index 8869e4267..80b2f1e7b 100644
--- a/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt
+++ b/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt
@@ -36,7 +36,8 @@ internal fun RecordedRequest(
   chunkSizes: List<Int>,
   bodySize: Long,
   body: ByteString?,
-  sequenceNumber: Int,
+  connectionIndex: Int,
+  exchangeIndex: Int,
   socket: Socket,
   failure: IOException? = null,
 ): RecordedRequest {
@@ -63,7 +64,8 @@ internal fun RecordedRequest(
       ?: requestUrl(socket, requestLine, headers)
 
   return RecordedRequest(
-    sequenceNumber = sequenceNumber,
+    connectionIndex = connectionIndex,
+    exchangeIndex = exchangeIndex,
     handshake = handshake,
     handshakeServerNames = handshakeServerNames,
     method = requestLine.method,
