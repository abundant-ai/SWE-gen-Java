diff --git a/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt b/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt
index 9fea41599..337fc26fe 100644
--- a/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt
+++ b/mockwebserver-deprecated/src/main/kotlin/okhttp3/mockwebserver/DeprecationBridge.kt
@@ -100,7 +100,7 @@ internal fun mockwebserver3.RecordedRequest.unwrap(): RecordedRequest =
     chunkSizes = chunkSizes,
     bodySize = bodySize,
     body = Buffer().write(body ?: ByteString.EMPTY),
-    sequenceNumber = exchangeIndex,
+    sequenceNumber = sequenceNumber,
     failure = failure,
     method = method,
     path = url.encodedPath,
diff --git a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt
index deff392c3..966d98596 100644
--- a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt
+++ b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/StartStop.kt
@@ -16,6 +16,7 @@
 package mockwebserver3.junit5
 
 import mockwebserver3.junit5.internal.StartStopExtension
+import okhttp3.ExperimentalOkHttpApi
 import org.junit.jupiter.api.extension.ExtendWith
 
 /**
@@ -37,4 +38,5 @@ import org.junit.jupiter.api.extension.ExtendWith
 @Target(AnnotationTarget.FIELD)
 @Retention(AnnotationRetention.RUNTIME)
 @ExtendWith(StartStopExtension::class)
+@ExperimentalOkHttpApi
 annotation class StartStop
diff --git a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt
index ab4a7dc5f..459873ff7 100644
--- a/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt
+++ b/mockwebserver-junit5/src/main/kotlin/mockwebserver3/junit5/internal/StartStopExtension.kt
@@ -18,6 +18,7 @@ package mockwebserver3.junit5.internal
 import java.lang.reflect.Modifier
 import mockwebserver3.MockWebServer
 import mockwebserver3.junit5.StartStop
+import okhttp3.ExperimentalOkHttpApi
 import org.junit.jupiter.api.extension.BeforeAllCallback
 import org.junit.jupiter.api.extension.BeforeEachCallback
 import org.junit.jupiter.api.extension.ExtensionContext
@@ -25,6 +26,7 @@ import org.junit.jupiter.api.extension.ExtensionContext.Namespace
 import org.junit.platform.commons.support.AnnotationSupport.findAnnotatedFields
 
 /** Implements the policy specified by [StartStop]. */
+@ExperimentalOkHttpApi
 internal class StartStopExtension :
   BeforeEachCallback,
   BeforeAllCallback {
diff --git a/mockwebserver/api/mockwebserver3.api b/mockwebserver/api/mockwebserver3.api
index 24d8a0d64..119571dc3 100644
--- a/mockwebserver/api/mockwebserver3.api
+++ b/mockwebserver/api/mockwebserver3.api
@@ -144,19 +144,18 @@ public class mockwebserver3/QueueDispatcher : mockwebserver3/Dispatcher {
 }
 
 public final class mockwebserver3/RecordedRequest {
-	public fun <init> (IILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;)V
-	public synthetic fun <init> (IILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
+	public fun <init> (ILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;)V
+	public synthetic fun <init> (ILokhttp3/Handshake;Ljava/util/List;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lokhttp3/HttpUrl;Lokhttp3/Headers;Lokio/ByteString;JLjava/util/List;Ljava/io/IOException;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
 	public final fun getBody ()Lokio/ByteString;
 	public final fun getBodySize ()J
 	public final fun getChunkSizes ()Ljava/util/List;
-	public final fun getConnectionIndex ()I
-	public final fun getExchangeIndex ()I
 	public final fun getFailure ()Ljava/io/IOException;
 	public final fun getHandshake ()Lokhttp3/Handshake;
 	public final fun getHandshakeServerNames ()Ljava/util/List;
 	public final fun getHeaders ()Lokhttp3/Headers;
 	public final fun getMethod ()Ljava/lang/String;
 	public final fun getRequestLine ()Ljava/lang/String;
+	public final fun getSequenceNumber ()I
 	public final fun getTarget ()Ljava/lang/String;
 	public final fun getUrl ()Lokhttp3/HttpUrl;
 	public final fun getVersion ()Ljava/lang/String;
diff --git a/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt b/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt
index 2c081a882..2134ea299 100644
--- a/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt
+++ b/mockwebserver/src/main/kotlin/mockwebserver3/MockWebServer.kt
@@ -385,7 +385,6 @@ public class MockWebServer : Closeable {
 
   @Throws(Exception::class)
   private fun acceptConnections() {
-    var nextConnectionIndex = 0
     while (true) {
       val socket: Socket
       try {
@@ -397,11 +396,11 @@ public class MockWebServer : Closeable {
 
       val socketPolicy = dispatcher.peek().socketPolicy
       if (socketPolicy === DisconnectAtStart) {
-        dispatchBookkeepingRequest(nextConnectionIndex++, 0, socket)
+        dispatchBookkeepingRequest(0, socket)
         socket.close()
       } else {
         openClientSockets.add(socket)
-        serveConnection(nextConnectionIndex++, socket)
+        serveConnection(socket)
       }
     }
   }
@@ -425,13 +424,10 @@ public class MockWebServer : Closeable {
     taskRunnerBackend.shutdown()
   }
 
-  private fun serveConnection(
-    connectionIndex: Int,
-    raw: Socket,
-  ) {
+  private fun serveConnection(raw: Socket) {
     taskRunner.newQueue().execute("MockWebServer ${raw.remoteSocketAddress}", cancelable = false) {
       try {
-        SocketHandler(connectionIndex, raw).handle()
+        SocketHandler(raw).handle()
       } catch (e: IOException) {
         logger.fine("$this connection from ${raw.inetAddress} failed: $e")
       } catch (e: Exception) {
@@ -441,10 +437,9 @@ public class MockWebServer : Closeable {
   }
 
   internal inner class SocketHandler(
-    private val connectionIndex: Int,
     private val raw: Socket,
   ) {
-    private var nextExchangeIndex = 0
+    private var sequenceNumber = 0
 
     @Throws(Exception::class)
     fun handle() {
@@ -456,7 +451,7 @@ public class MockWebServer : Closeable {
       when {
         sslSocketFactory != null -> {
           if (socketPolicy === FailHandshake) {
-            dispatchBookkeepingRequest(connectionIndex, nextExchangeIndex++, raw)
+            dispatchBookkeepingRequest(sequenceNumber, raw)
             processHandshakeFailure(raw)
             return
           }
@@ -506,12 +501,12 @@ public class MockWebServer : Closeable {
       }
 
       if (socketPolicy === StallSocketAtStart) {
-        dispatchBookkeepingRequest(connectionIndex, nextExchangeIndex++, socket)
+        dispatchBookkeepingRequest(sequenceNumber, socket)
         return // Ignore the socket until the server is shut down!
       }
 
       if (protocol === Protocol.HTTP_2 || protocol === Protocol.H2_PRIOR_KNOWLEDGE) {
-        val http2SocketHandler = Http2SocketHandler(connectionIndex, socket, protocol)
+        val http2SocketHandler = Http2SocketHandler(socket, protocol)
         val connection =
           Http2Connection
             .Builder(false, taskRunner)
@@ -532,7 +527,7 @@ public class MockWebServer : Closeable {
       while (processOneRequest(socket, source, sink)) {
       }
 
-      if (nextExchangeIndex == 0) {
+      if (sequenceNumber == 0) {
         logger.warning(
           "${this@MockWebServer} connection from ${raw.inetAddress} didn't make a request",
         )
@@ -580,7 +575,7 @@ public class MockWebServer : Closeable {
         return false // No more requests on this socket.
       }
 
-      val request = readRequest(socket, source, sink, connectionIndex, nextExchangeIndex)
+      val request = readRequest(socket, source, sink, sequenceNumber)
       atomicRequestCount.incrementAndGet()
       requestQueue.add(request)
 
@@ -633,7 +628,7 @@ public class MockWebServer : Closeable {
         else -> {
         }
       }
-      nextExchangeIndex++
+      sequenceNumber++
       return reuseSocket
     }
   }
@@ -660,8 +655,7 @@ public class MockWebServer : Closeable {
 
   @Throws(InterruptedException::class)
   private fun dispatchBookkeepingRequest(
-    connectionIndex: Int,
-    exchangeIndex: Int,
+    sequenceNumber: Int,
     socket: Socket,
   ) {
     val request =
@@ -671,8 +665,7 @@ public class MockWebServer : Closeable {
         chunkSizes = emptyList(),
         bodySize = 0L,
         body = null,
-        connectionIndex = connectionIndex,
-        exchangeIndex = exchangeIndex,
+        sequenceNumber = sequenceNumber,
         socket = socket,
       )
     atomicRequestCount.incrementAndGet()
@@ -680,14 +673,13 @@ public class MockWebServer : Closeable {
     dispatcher.dispatch(request)
   }
 
-  /** @param exchangeIndex the index of this request on this connection.*/
+  /** @param sequenceNumber the index of this request on this connection.*/
   @Throws(IOException::class)
   private fun readRequest(
     socket: Socket,
     source: BufferedSource,
     sink: BufferedSink,
-    connectionIndex: Int,
-    exchangeIndex: Int,
+    sequenceNumber: Int,
   ): RecordedRequest {
     var request: RequestLine = DEFAULT_REQUEST_LINE
     val headers = Headers.Builder()
@@ -784,8 +776,7 @@ public class MockWebServer : Closeable {
           hasBody -> requestBody.buffer.readByteString()
           else -> null
         },
-      connectionIndex = connectionIndex,
-      exchangeIndex = exchangeIndex,
+      sequenceNumber = sequenceNumber,
       socket = socket,
       failure = failure,
     )
@@ -995,17 +986,16 @@ public class MockWebServer : Closeable {
 
   /** Processes HTTP requests layered over HTTP/2. */
   private inner class Http2SocketHandler(
-    private val connectionIndex: Int,
     private val socket: Socket,
     private val protocol: Protocol,
   ) : Http2Connection.Listener() {
-    private val nextExchangeIndex = AtomicInteger()
+    private val sequenceNumber = AtomicInteger()
 
     @Throws(IOException::class)
     override fun onStream(stream: Http2Stream) {
       val peekedResponse = dispatcher.peek()
       if (peekedResponse.socketPolicy is ResetStreamAtStart) {
-        dispatchBookkeepingRequest(connectionIndex, nextExchangeIndex.getAndIncrement(), socket)
+        dispatchBookkeepingRequest(sequenceNumber.getAndIncrement(), socket)
         stream.close(ErrorCode.fromHttp2(peekedResponse.socketPolicy.http2ErrorCode)!!, null)
         return
       }
@@ -1117,8 +1107,7 @@ public class MockWebServer : Closeable {
             HttpMethod.permitsRequestBody(method) -> bodyByteString
             else -> null
           },
-        connectionIndex = connectionIndex,
-        exchangeIndex = nextExchangeIndex.getAndIncrement(),
+        sequenceNumber = sequenceNumber.getAndIncrement(),
         socket = socket,
         failure = exception,
       )
@@ -1224,8 +1213,7 @@ public class MockWebServer : Closeable {
             chunkSizes = chunkSizes,
             bodySize = 0,
             body = null,
-            connectionIndex = connectionIndex,
-            exchangeIndex = nextExchangeIndex.getAndIncrement(),
+            sequenceNumber = sequenceNumber.getAndIncrement(),
             socket = socket,
           ),
         )
diff --git a/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt b/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt
index d3648fe89..e98b45554 100644
--- a/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt
+++ b/mockwebserver/src/main/kotlin/mockwebserver3/RecordedRequest.kt
@@ -27,15 +27,10 @@ import okio.ByteString
 @ExperimentalOkHttpApi
 public class RecordedRequest(
   /**
-   * The index of the socket connection that carried this request. If two recorded requests share a
-   * connection index, they also shared a socket connection.
+   * The index of this request on its HTTP connection. Since a single HTTP connection may serve
+   * multiple requests, each request is assigned its own sequence number.
    */
-  public val connectionIndex: Int,
-  /**
-   * The index of this exchange on its HTTP connection. A request is uniquely identified by the
-   * (connection index, exchange index) pair.
-   */
-  public val exchangeIndex: Int,
+  public val sequenceNumber: Int,
   /**
    * The TLS handshake of the connection that carried this request, or null if the request was
    * received without TLS.
diff --git a/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt b/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt
index 80b2f1e7b..8869e4267 100644
--- a/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt
+++ b/mockwebserver/src/main/kotlin/mockwebserver3/internal/RecordedRequestFactory.kt
@@ -36,8 +36,7 @@ internal fun RecordedRequest(
   chunkSizes: List<Int>,
   bodySize: Long,
   body: ByteString?,
-  connectionIndex: Int,
-  exchangeIndex: Int,
+  sequenceNumber: Int,
   socket: Socket,
   failure: IOException? = null,
 ): RecordedRequest {
@@ -64,8 +63,7 @@ internal fun RecordedRequest(
       ?: requestUrl(socket, requestLine, headers)
 
   return RecordedRequest(
-    connectionIndex = connectionIndex,
-    exchangeIndex = exchangeIndex,
+    sequenceNumber = sequenceNumber,
     handshake = handshake,
     handshakeServerNames = handshakeServerNames,
     method = requestLine.method,
diff --git a/mockwebserver/src/test/java/mockwebserver3/MockWebServerTest.kt b/mockwebserver/src/test/java/mockwebserver3/MockWebServerTest.kt
index 851afd20a..701ad1bfb 100644
--- a/mockwebserver/src/test/java/mockwebserver3/MockWebServerTest.kt
+++ b/mockwebserver/src/test/java/mockwebserver3/MockWebServerTest.kt
@@ -284,12 +284,8 @@ class MockWebServerTest {
     assertThat(in2.read()).isEqualTo('E'.code)
     assertThat(in2.read()).isEqualTo('F'.code)
     assertThat(in2.read()).isEqualTo(-1)
-    val c0e0 = server.takeRequest()
-    assertThat(c0e0.connectionIndex).isEqualTo(0)
-    assertThat(c0e0.exchangeIndex).isEqualTo(0)
-    val c1e0 = server.takeRequest()
-    assertThat(c1e0.connectionIndex).isEqualTo(1)
-    assertThat(c1e0.exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Disabled("Not actually failing where expected")
diff --git a/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt b/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt
index 4c532bb50..57d4d5fe3 100644
--- a/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt
+++ b/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt
@@ -39,7 +39,7 @@ class RecordedRequestTest {
         localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
         localPort = 80,
       )
-    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
+    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://127.0.0.1/")
   }
 
@@ -50,7 +50,7 @@ class RecordedRequestTest {
         localPort = 80,
       )
     val requestLine = decodeRequestLine("CONNECT example.com:8080 HTTP/1.1")
-    val request = RecordedRequest(requestLine, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
+    val request = RecordedRequest(requestLine, headers, emptyList(), 0, ByteString.EMPTY, 0, socket)
     assertThat(request.target).isEqualTo("example.com:8080")
     assertThat(request.url.toString()).isEqualTo("http://example.com:8080/")
   }
@@ -62,7 +62,7 @@ class RecordedRequestTest {
         localPort = 80,
       )
     val requestLine = decodeRequestLine("GET http://example.com:8080/index.html HTTP/1.1")
-    val request = RecordedRequest(requestLine, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
+    val request = RecordedRequest(requestLine, headers, emptyList(), 0, ByteString.EMPTY, 0, socket)
     assertThat(request.target).isEqualTo("http://example.com:8080/index.html")
     assertThat(request.url.toString()).isEqualTo("http://example.com:8080/index.html")
   }
@@ -82,7 +82,6 @@ class RecordedRequestTest {
         0,
         ByteString.EMPTY,
         0,
-        0,
         socket,
       )
     assertThat(request.target).isEqualTo("*")
@@ -99,7 +98,7 @@ class RecordedRequestTest {
           ),
         localPort = 80,
       )
-    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
+    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://[::1]/")
   }
 
@@ -109,7 +108,7 @@ class RecordedRequestTest {
         localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
         localPort = 80,
       )
-    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
+    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://127.0.0.1/")
   }
 
@@ -124,7 +123,7 @@ class RecordedRequestTest {
           ),
         localPort = 80,
       )
-    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
+    val request = RecordedRequest(DEFAULT_REQUEST_LINE, headers, emptyList(), 0, ByteString.EMPTY, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://host-from-header.com/")
   }
 
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/CacheTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/CacheTest.kt
index 5b6caec05..ac909faa2 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/CacheTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/CacheTest.kt
@@ -479,15 +479,13 @@ class CacheTest {
     assertThat(response1.body.string()).isEqualTo("ABC")
     val recordedRequest1 = server.takeRequest()
     assertThat(recordedRequest1.requestLine).isEqualTo("GET /foo HTTP/1.1")
-    assertThat(recordedRequest1.connectionIndex).isEqualTo(0)
-    assertThat(recordedRequest1.exchangeIndex).isEqualTo(0)
+    assertThat(recordedRequest1.sequenceNumber).isEqualTo(0)
     val request2 = Request.Builder().url(server.url("/bar")).build()
     val response2 = client.newCall(request2).execute()
     assertThat(response2.body.string()).isEqualTo("ABC")
     val recordedRequest2 = server.takeRequest()
     assertThat(recordedRequest2.requestLine).isEqualTo("GET /bar HTTP/1.1")
-    assertThat(recordedRequest2.connectionIndex).isEqualTo(0)
-    assertThat(recordedRequest2.exchangeIndex).isEqualTo(1)
+    assertThat(recordedRequest2.sequenceNumber).isEqualTo(1)
 
     // an unrelated request should reuse the pooled connection
     val request3 = Request.Builder().url(server.url("/baz")).build()
@@ -495,8 +493,7 @@ class CacheTest {
     assertThat(response3.body.string()).isEqualTo("DEF")
     val recordedRequest3 = server.takeRequest()
     assertThat(recordedRequest3.requestLine).isEqualTo("GET /baz HTTP/1.1")
-    assertThat(recordedRequest3.connectionIndex).isEqualTo(0)
-    assertThat(recordedRequest3.exchangeIndex).isEqualTo(2)
+    assertThat(recordedRequest3.sequenceNumber).isEqualTo(2)
   }
 
   @Test
@@ -2163,15 +2160,9 @@ class CacheTest {
     assertThat(get(server.url("/a")).body.string()).isEqualTo("A")
     assertThat(get(server.url("/a")).body.string()).isEqualTo("A")
     assertThat(get(server.url("/b")).body.string()).isEqualTo("B")
-    val c0e0 = server.takeRequest()
-    assertThat(c0e0.connectionIndex).isEqualTo(0)
-    assertThat(c0e0.exchangeIndex).isEqualTo(0)
-    val c0e1 = server.takeRequest()
-    assertThat(c0e1.connectionIndex).isEqualTo(0)
-    assertThat(c0e1.exchangeIndex).isEqualTo(1)
-    val c0e2 = server.takeRequest()
-    assertThat(c0e2.connectionIndex).isEqualTo(0)
-    assertThat(c0e2.exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Test
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/CallKotlinTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/CallKotlinTest.kt
index ccacf3e46..f173dd4f9 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/CallKotlinTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/CallKotlinTest.kt
@@ -210,7 +210,7 @@ class CallKotlinTest {
     val responseA = client.newCall(requestA).execute()
 
     assertThat(responseA.body.string()).isEqualTo("a")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Give the socket a chance to become stale.
     connection!!.idleAtNs -= IDLE_CONNECTION_HEALTHY_NS
@@ -223,7 +223,7 @@ class CallKotlinTest {
       )
     val responseB = client.newCall(requestB).execute()
     assertThat(responseB.body.string()).isEqualTo("b")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   /** Confirm suppressed exceptions that occur while connecting are returned. */
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/CallTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/CallTest.kt
index 3e7f6be32..59e36c0af 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/CallTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/CallTest.kt
@@ -336,8 +336,8 @@ open class CallTest {
     executeSynchronously(getRequest)
       .assertCode(200)
       .assertBody("abc")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -364,8 +364,8 @@ open class CallTest {
     executeSynchronously(getRequest)
       .assertCode(200)
       .assertBody("abc")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -856,9 +856,9 @@ open class CallTest {
     executeSynchronously("/a").assertBody("abc")
     executeSynchronously("/b").assertBody("def")
     executeSynchronously("/c").assertBody("ghi")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   /**
@@ -893,9 +893,9 @@ open class CallTest {
         .proxy(server.proxyAddress)
         .build()
     executeSynchronously("/c").assertBody("ghi")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Test
@@ -914,9 +914,9 @@ open class CallTest {
     executeSynchronously("/b").assertBody("def")
     client = client.newBuilder().build()
     executeSynchronously("/c").assertBody("ghi")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Test
@@ -930,9 +930,9 @@ open class CallTest {
     callback.await(server.url("/b")).assertBody("def")
     client.newCall(Request.Builder().url(server.url("/c")).build()).enqueue(callback)
     callback.await(server.url("/c")).assertBody("ghi")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Test
@@ -963,9 +963,9 @@ open class CallTest {
     )
     callback.await(server.url("/b")).assertCode(200).assertBody("def")
     // New connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Connection reuse!
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -1194,8 +1194,8 @@ open class CallTest {
     assertThat(response2.code).isEqualTo(200)
 
     // Use sequence numbers to confirm the connection was pooled.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -1218,8 +1218,8 @@ open class CallTest {
     assertThat(body2.timeout().hasDeadline()).isFalse()
 
     // Use sequence numbers to confirm the connection was pooled.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -1751,14 +1751,14 @@ open class CallTest {
     )
 
     val get = server.takeRequest()
-    assertThat(get.exchangeIndex).isEqualTo(0)
+    assertThat(get.sequenceNumber).isEqualTo(0)
 
     val post1 = server.takeRequest()
     assertThat(post1.body?.utf8()).isEqualTo("body!")
-    assertThat(post1.exchangeIndex).isEqualTo(1)
+    assertThat(post1.sequenceNumber).isEqualTo(1)
 
     val get2 = server.takeRequest()
-    assertThat(get2.exchangeIndex).isEqualTo(0)
+    assertThat(get2.sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -1779,13 +1779,13 @@ open class CallTest {
     val response2 = client.newCall(request2).execute()
     assertThat(response2.body.string()).isEqualTo("def")
     val get = server.takeRequest()
-    assertThat(get.exchangeIndex).isEqualTo(0)
+    assertThat(get.sequenceNumber).isEqualTo(0)
     val post1 = server.takeRequest()
     assertThat(post1.body?.utf8()).isEqualTo("body!")
-    assertThat(post1.exchangeIndex).isEqualTo(1)
+    assertThat(post1.sequenceNumber).isEqualTo(1)
     val post2 = server.takeRequest()
     assertThat(post2.body?.utf8()).isEqualTo("body!")
-    assertThat(post2.exchangeIndex).isEqualTo(0)
+    assertThat(post2.sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -2174,11 +2174,11 @@ open class CallTest {
       .assertHeader("Test", "Redirect from /a to /b")
 
     // New connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Connection reused.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
     // Connection reused again!
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Test
@@ -2626,11 +2626,11 @@ open class CallTest {
       .assertHeader("Test", "Redirect from /a to /b")
 
     // New connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Connection reused.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
     // Connection reused again!
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Tag("Slow")
@@ -3192,9 +3192,9 @@ open class CallTest {
     // Make another request just to confirm that that connection can be reused...
     executeSynchronously("/").assertBody("def")
     // New connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Connection reused.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
 
     // ... even before we close the response body!
     response.body.close()
@@ -3488,8 +3488,8 @@ open class CallTest {
         .build(),
     )
     executeSynchronously(Request(server.url("/")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Tag("Slow")
@@ -3513,8 +3513,8 @@ open class CallTest {
         .build(),
     )
     executeSynchronously(Request(server.url("/")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -3532,8 +3532,8 @@ open class CallTest {
         .build(),
     )
     executeSynchronously(Request(server.url("/")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   /** We forbid non-ASCII characters in outgoing request headers, but accept UTF-8.  */
@@ -3836,13 +3836,13 @@ open class CallTest {
     assertThat(response.body.string()).isEqualTo("response body")
 
     // First CONNECT call needs a new connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Second CONNECT call needs a new connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // GET reuses the connection from the second connect.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionCoalescingTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionCoalescingTest.kt
index f7333f638..b0978a3c9 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionCoalescingTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionCoalescingTest.kt
@@ -435,10 +435,10 @@ class ConnectionCoalescingTest {
     server.enqueue(MockResponse())
     assert200Http2Response(execute(url), "san.com")
     assertThat(client.connectionPool.connectionCount()).isEqualTo(2)
-    val c0e0 = server.takeRequest()
-    assertThat(c0e0.connectionIndex).isEqualTo(0) // Fresh connection.
-    val c1e0 = server.takeRequest()
-    assertThat(c1e0.connectionIndex).isEqualTo(1) // Fresh connection.
+    assertThat(server.takeRequest().sequenceNumber)
+      .isEqualTo(0) // Fresh connection.
+    assertThat(server.takeRequest().sequenceNumber)
+      .isEqualTo(0) // Fresh connection.
   }
 
   /**
@@ -545,15 +545,10 @@ class ConnectionCoalescingTest {
       assertThat(response.priorResponse!!.code).isEqualTo(421)
       assertThat(response.body.string()).isEqualTo("after misdirect")
     }
-    val c0e0 = server.takeRequest()
-    assertThat(c0e0.connectionIndex).isEqualTo(0)
-    assertThat(c0e0.exchangeIndex).isEqualTo(0)
-    val c0e1 = server.takeRequest()
-    assertThat(c0e1.connectionIndex).isEqualTo(0)
-    assertThat(c0e1.exchangeIndex).isEqualTo(1)
-    val c1e0 = server.takeRequest()
-    assertThat(c1e0.connectionIndex).isEqualTo(1) // Fresh connection.
-    assertThat(c1e0.exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber)
+      .isEqualTo(0) // Fresh connection.
     assertThat(client.connectionPool.connectionCount()).isEqualTo(2)
   }
 
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionReuseTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionReuseTest.kt
index a4d903b4c..b2dafc46d 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionReuseTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/ConnectionReuseTest.kt
@@ -157,8 +157,8 @@ class ConnectionReuseTest {
     val request = Request(server.url("/"))
     val response = client.newCall(request).execute()
     assertThat(response.body.string()).isEqualTo("b")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -181,8 +181,8 @@ class ConnectionReuseTest {
     val request = Request(server.url("/"))
     val response = client.newCall(request).execute()
     assertThat(response.body.string()).isEqualTo("b")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -193,11 +193,11 @@ class ConnectionReuseTest {
     val request = Request(server.url("/"))
     val responseA = client.newCall(request).execute()
     assertThat(responseA.body.string()).isEqualTo("a")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     val responseB = client.newCall(request).execute()
     assertThat(responseB.body.string()).isEqualTo("b")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -210,8 +210,8 @@ class ConnectionReuseTest {
     val response2 = client.newCall(request).execute()
     response1.body.string() // Discard the response body.
     response2.body.string() // Discard the response body.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -231,8 +231,8 @@ class ConnectionReuseTest {
     Thread.sleep(500)
     val response2 = client.newCall(request).execute()
     assertThat(response2.body.string()).isEqualTo("b")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -282,8 +282,8 @@ class ConnectionReuseTest {
         .build()
     val response2 = anotherClient.newCall(request).execute()
     response2.body.close()
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   /**
@@ -336,9 +336,9 @@ class ConnectionReuseTest {
         response.body.string(),
       ).isEqualTo("unrelated response body!")
     }
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // No connection reuse.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     for (response in responsesNotClosed) {
       response!!.closeQuietly()
     }
@@ -371,7 +371,7 @@ class ConnectionReuseTest {
     for (i in requests.indices) {
       val response = client.newCall(requests[i]!!).execute()
       response.body.string() // Discard the response body.
-      assertThat(server.takeRequest().exchangeIndex).isEqualTo(i)
+      assertThat(server.takeRequest().sequenceNumber).isEqualTo(i)
     }
   }
 
@@ -379,7 +379,7 @@ class ConnectionReuseTest {
     for (request in requests) {
       val response = client.newCall(request!!).execute()
       response.body.string() // Discard the response body.
-      assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+      assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     }
   }
 }
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/EventListenerTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/EventListenerTest.kt
index 26467918a..f67401e83 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/EventListenerTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/EventListenerTest.kt
@@ -1988,8 +1988,8 @@ class EventListenerTest {
       "ConnectionReleased",
       "CallEnd",
     )
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/FastFallbackTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/FastFallbackTest.kt
index d8d5886a8..e522e7984 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/FastFallbackTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/FastFallbackTest.kt
@@ -322,7 +322,7 @@ class FastFallbackTest {
     val call = client.newCall(Request(url))
     val response = call.execute()
     assertThat(response.body.string()).isEqualTo("this was the 2nd request on IPv4")
-    assertThat(serverIpv4.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(serverIpv4.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(serverIpv4.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(serverIpv4.takeRequest().sequenceNumber).isEqualTo(1)
   }
 }
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/URLConnectionTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/URLConnectionTest.kt
index 8ec83e90f..809740445 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/URLConnectionTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/URLConnectionTest.kt
@@ -342,11 +342,11 @@ class URLConnectionTest {
     server.enqueue(response)
     server.enqueue(response)
     assertContent("ABCDEFGHIJKLMNOPQR", getResponse(newRequest("/foo")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     assertContent("ABCDEFGHIJKLMNOPQR", getResponse(newRequest("/bar?baz=quux")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
     assertContent("ABCDEFGHIJKLMNOPQR", getResponse(newRequest("/z")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Test
@@ -360,11 +360,11 @@ class URLConnectionTest {
     server.enqueue(response)
     server.enqueue(response)
     assertContent("ABCDEFGHIJKLMNOPQR", getResponse(newRequest("/foo")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     assertContent("ABCDEFGHIJKLMNOPQR", getResponse(newRequest("/bar?baz=quux")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
     assertContent("ABCDEFGHIJKLMNOPQR", getResponse(newRequest("/z")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @Test
@@ -416,7 +416,7 @@ class URLConnectionTest {
       .timeout()
       .timeout(100, TimeUnit.MILLISECONDS)
     assertContent("This connection won't pool properly", response1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Give the server time to enact the socket policy if it's one that could happen after the
     // client has received the response.
@@ -435,9 +435,9 @@ class URLConnectionTest {
     // of recording is non-deterministic.
     val requestAfter = server.takeRequest()
     assertThat(
-      requestAfter.exchangeIndex == 0 ||
+      requestAfter.sequenceNumber == 0 ||
         server.requestCount == 3 &&
-        server.takeRequest().exchangeIndex == 0,
+        server.takeRequest().sequenceNumber == 0,
     ).isTrue()
   }
 
@@ -585,8 +585,8 @@ class URLConnectionTest {
     }
     val response2 = getResponse(newRequest("/"))
     assertContent("another response via HTTPS", response2)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -1571,7 +1571,7 @@ class URLConnectionTest {
       )
     val gunzippedIn: InputStream = GZIPInputStream(response1.body.byteStream())
     assertThat(readAscii(gunzippedIn, Int.MAX_VALUE)).isEqualTo("one (gzipped)")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     val response2 =
       getResponse(
         Request
@@ -1580,7 +1580,7 @@ class URLConnectionTest {
           .build(),
       )
     assertThat(readAscii(response2.body.byteStream(), Int.MAX_VALUE)).isEqualTo("two (identity)")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -1607,9 +1607,9 @@ class URLConnectionTest {
 
     // This connection will need to be recovered. When it is, transparent gzip should still work!
     assertContent("b", getResponse(newRequest("/")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Connection is not pooled.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -1657,9 +1657,9 @@ class URLConnectionTest {
     assertThat(readAscii(in2, 5)).isEqualTo("LMNOP")
     in2.close()
     call2.cancel()
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Connection is pooled!
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @Test
@@ -1689,9 +1689,9 @@ class URLConnectionTest {
 
     // Do another request to confirm that the discarded connection was not pooled.
     assertContent("A", getResponse(newRequest("/")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Connection is not pooled.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -2335,7 +2335,7 @@ class URLConnectionTest {
     val retry = server.takeRequest()
     assertThat(retry.requestLine).isEqualTo("GET /foo HTTP/1.1")
     if (reuse) {
-      assertThat(retry.exchangeIndex, "Expected connection reuse")
+      assertThat(retry.sequenceNumber, "Expected connection reuse")
         .isEqualTo(1)
     }
   }
@@ -2369,7 +2369,7 @@ class URLConnectionTest {
     assertThat(first.requestLine).isEqualTo("GET / HTTP/1.1")
     val retry = server.takeRequest()
     assertThat(retry.requestLine).isEqualTo("GET /foo HTTP/1.1")
-    assertThat(retry.exchangeIndex, "Expected connection reuse")
+    assertThat(retry.sequenceNumber, "Expected connection reuse")
       .isEqualTo(1)
   }
 
@@ -2522,9 +2522,9 @@ class URLConnectionTest {
     val server2Host = server2.hostName + ":" + server2.port
     assertThat(server.takeRequest().headers["Host"]).isEqualTo(server1Host)
     assertThat(server2.takeRequest().headers["Host"]).isEqualTo(server2Host)
-    assertThat(server.takeRequest().exchangeIndex, "Expected connection reuse")
+    assertThat(server.takeRequest().sequenceNumber, "Expected connection reuse")
       .isEqualTo(1)
-    assertThat(server2.takeRequest().exchangeIndex, "Expected connection reuse")
+    assertThat(server2.takeRequest().sequenceNumber, "Expected connection reuse")
       .isEqualTo(1)
   }
 
@@ -3110,9 +3110,9 @@ class URLConnectionTest {
     assertThat(a.code).isEqualTo(200)
     val b = getResponse(newRequest("/"))
     assertThat(b.code).isEqualTo(200)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     assertThat(
-      server.takeRequest().exchangeIndex,
+      server.takeRequest().sequenceNumber,
       "When connection: close is used, each request should get its own connection",
     ).isEqualTo(0)
   }
@@ -3125,9 +3125,9 @@ class URLConnectionTest {
     assertThat(a.code).isEqualTo(200)
     val b = getResponse(newRequest("/"))
     assertThat(b.code).isEqualTo(200)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     assertThat(
-      server.takeRequest().exchangeIndex,
+      server.takeRequest().sequenceNumber,
       "When connection: close is used, each request should get its own connection",
     ).isEqualTo(0)
   }
@@ -3151,9 +3151,9 @@ class URLConnectionTest {
     assertThat(readAscii(response.body.byteStream(), Int.MAX_VALUE)).isEqualTo(
       "This is the new location!",
     )
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     assertThat(
-      server.takeRequest().exchangeIndex,
+      server.takeRequest().sequenceNumber,
       "When connection: close is used, each request should get its own connection",
     ).isEqualTo(0)
   }
@@ -3173,8 +3173,8 @@ class URLConnectionTest {
     )
     server.enqueue(MockResponse(body = "This is the new page!"))
     assertContent("This is the new page!", getResponse(newRequest("/")))
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -3535,13 +3535,13 @@ class URLConnectionTest {
       )
     assertContent("def", post)
     val get = server.takeRequest()
-    assertThat(get.exchangeIndex).isEqualTo(0)
+    assertThat(get.sequenceNumber).isEqualTo(0)
     val post1 = server.takeRequest()
     assertThat(post1.body?.utf8()).isEqualTo("body!")
-    assertThat(post1.exchangeIndex).isEqualTo(1)
+    assertThat(post1.sequenceNumber).isEqualTo(1)
     val post2 = server.takeRequest()
     assertThat(post2.body?.utf8()).isEqualTo("body!")
-    assertThat(post2.exchangeIndex).isEqualTo(0)
+    assertThat(post2.sequenceNumber).isEqualTo(0)
   }
 
   @Test
@@ -4093,9 +4093,9 @@ class URLConnectionTest {
     assertThat(response2.code).isEqualTo(HttpURLConnection.HTTP_OK)
     assertContent("b", response2)
     val requestA = server.takeRequest()
-    assertThat(requestA.exchangeIndex).isEqualTo(0)
+    assertThat(requestA.sequenceNumber).isEqualTo(0)
     val requestB = server.takeRequest()
-    assertThat(requestB.exchangeIndex).isEqualTo(1)
+    assertThat(requestB.sequenceNumber).isEqualTo(1)
   }
 
   /**
@@ -4119,9 +4119,9 @@ class URLConnectionTest {
     val response = getResponse(newRequest("/"))
     assertContent("This is the new page!", response)
     val requestA = server.takeRequest()
-    assertThat(requestA.exchangeIndex).isEqualTo(0)
+    assertThat(requestA.sequenceNumber).isEqualTo(0)
     val requestB = server.takeRequest()
-    assertThat(requestB.exchangeIndex).isEqualTo(1)
+    assertThat(requestB.sequenceNumber).isEqualTo(1)
   }
 
   /**
@@ -4255,10 +4255,10 @@ class URLConnectionTest {
       ),
     )
     val request1 = server.takeRequest()
-    assertThat(request1.exchangeIndex).isEqualTo(0)
+    assertThat(request1.sequenceNumber).isEqualTo(0)
     val request2 = server.takeRequest()
     assertThat(request2.body?.utf8()).isEqualTo("123")
-    assertThat(request2.exchangeIndex).isEqualTo(0)
+    assertThat(request2.sequenceNumber).isEqualTo(0)
   }
 
   @Test
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/internal/http2/HttpOverHttp2Test.kt b/okhttp/src/jvmTest/kotlin/okhttp3/internal/http2/HttpOverHttp2Test.kt
index e58203539..87535a203 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/internal/http2/HttpOverHttp2Test.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/internal/http2/HttpOverHttp2Test.kt
@@ -360,12 +360,8 @@ class HttpOverHttp2Test {
     assertThat(response2.body.source().readUtf8(3)).isEqualTo("GHI")
     assertThat(response1.body.source().readUtf8(3)).isEqualTo("DEF")
     assertThat(response2.body.source().readUtf8(3)).isEqualTo("JKL")
-    val c0e0 = server.takeRequest()
-    assertThat(c0e0.connectionIndex).isEqualTo(0)
-    assertThat(c0e0.exchangeIndex).isEqualTo(0)
-    val c0e1 = server.takeRequest()
-    assertThat(c0e1.connectionIndex).isEqualTo(0)
-    assertThat(c0e1.exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
     response1.close()
     response2.close()
   }
@@ -488,8 +484,8 @@ class HttpOverHttp2Test {
     executor.execute(AsyncRequest("/r1", countDownLatch))
     executor.execute(AsyncRequest("/r2", countDownLatch))
     countDownLatch.await()
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @ParameterizedTest
@@ -601,8 +597,8 @@ class HttpOverHttp2Test {
     assertThat(response2.body.string()).isEqualTo("A")
 
     // Confirm that the connection was reused.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   /**
@@ -675,8 +671,8 @@ class HttpOverHttp2Test {
     assertThat(response2.body.string()).isEqualTo(body)
 
     // Confirm that the connection was reused.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @ParameterizedTest
@@ -723,8 +719,8 @@ class HttpOverHttp2Test {
     }
 
     // Confirm that the connection was reused.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @ParameterizedTest
@@ -884,7 +880,7 @@ class HttpOverHttp2Test {
     val call2 = client.newCall(Request(server.url("/")))
     val response2 = call2.execute()
     assertThat(response2.body.string()).isEqualTo("def")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Clean up the connection.
     response.close()
@@ -923,12 +919,12 @@ class HttpOverHttp2Test {
     val request = Request(server.url("/"))
     val response = client.newCall(request).execute()
     assertThat(response.body.string()).isEqualTo("abc")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Note that although we have two routes available, we only use one. The retry is permitted
     // because there are routes available, but it chooses the existing connection since it isn't
     // yet considered unhealthy.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @ParameterizedTest
@@ -956,9 +952,9 @@ class HttpOverHttp2Test {
     }.also { expected ->
       assertThat(expected.errorCode).isEqualTo(ErrorCode.REFUSED_STREAM)
     }
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0) // New connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1) // Pooled connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0) // New connection.
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0) // New connection.
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1) // Pooled connection.
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0) // New connection.
   }
 
   @ParameterizedTest
@@ -977,12 +973,12 @@ class HttpOverHttp2Test {
     }.also { expected ->
       assertThat(expected.errorCode).isEqualTo(ErrorCode.REFUSED_STREAM)
     }
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Second call succeeds on the pooled connection.
     val response = client.newCall(request).execute()
     assertThat(response.body.string()).isEqualTo("abc")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @ParameterizedTest
@@ -1005,19 +1001,19 @@ class HttpOverHttp2Test {
     }.also { expected ->
       assertThat(expected.errorCode).isEqualTo(ErrorCode.REFUSED_STREAM)
     }
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0) // New connection.
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0) // New connection.
 
     // Second call attempts the pooled connection, and it fails. Then it retries a new route which
     // succeeds.
     val response2 = client.newCall(request).execute()
     assertThat(response2.body.string()).isEqualTo("abc")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1) // Pooled connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0) // New connection.
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1) // Pooled connection.
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0) // New connection.
 
     // Third call reuses the second connection.
     val response3 = client.newCall(request).execute()
     assertThat(response3.body.string()).isEqualTo("def")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1) // New connection.
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1) // New connection.
   }
 
   /**
@@ -1075,13 +1071,9 @@ class HttpOverHttp2Test {
     assertThat(response.body.string()).isEqualTo("abc")
 
     // New connection.
-    val c0e0 = server.takeRequest()
-    assertThat(c0e0.connectionIndex).isEqualTo(0)
-    assertThat(c0e0.exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // New connection.
-    val c1e0 = server.takeRequest()
-    assertThat(c1e0.connectionIndex).isEqualTo(1)
-    assertThat(c1e0.exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @ParameterizedTest
@@ -1105,11 +1097,11 @@ class HttpOverHttp2Test {
     assertThat(response.body.string()).isEqualTo("abc")
 
     // New connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Reused connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
     // New connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @ParameterizedTest
@@ -1150,7 +1142,7 @@ class HttpOverHttp2Test {
     val call = client.newCall(Request(server.url("/")))
     val response = call.execute()
     assertThat(response.body.string()).isEqualTo("def")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   @ParameterizedTest
@@ -1201,7 +1193,7 @@ class HttpOverHttp2Test {
     val call = client.newCall(Request(server.url("/")))
     val response = call.execute()
     assertThat(response.body.string()).isEqualTo("ghi")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   private class RespondAfterCancelDispatcher(
@@ -1251,7 +1243,7 @@ class HttpOverHttp2Test {
         }
       },
     )
-    assertThat(server.takeRequest().exchangeIndex)
+    assertThat(server.takeRequest().sequenceNumber)
       .isEqualTo(expectedSequenceNumber)
     responseDequeuedLatch!!.await()
     call.cancel()
@@ -1353,23 +1345,23 @@ class HttpOverHttp2Test {
     blockingAuthClient.newCall(request).enqueue(callback)
     val response1 = responses.take()
     assertThat(response1).isEqualTo("")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Now make the second request which will restrict the first HTTP/2 connection from creating new
     // streams.
     client.newCall(request).enqueue(callback)
     val response2 = responses.take()
     assertThat(response2).isEqualTo("DEF")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
 
     // Let the first request proceed. It should discard the the held HTTP/2 connection and get a new
     // one.
     latch.countDown()
     val response3 = responses.take()
     assertThat(response3).isEqualTo("ABC")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   @ParameterizedTest
@@ -1678,9 +1670,9 @@ class HttpOverHttp2Test {
     }
 
     // All calls share a connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
   }
 
   private fun firstFrame(
@@ -1748,13 +1740,13 @@ class HttpOverHttp2Test {
     assertThat(response2.body.string()).isEqualTo("DEF")
     assertThat(response3.body.string()).isEqualTo("GHI")
     // Settings connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
     // Reuse settings connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(1)
     // Reuse settings connection.
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(2)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(2)
     // New connection!
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @ParameterizedTest
@@ -1795,8 +1787,8 @@ class HttpOverHttp2Test {
     val call2 = localClient.newCall(Request(server.url("/")))
     val response2 = call2.execute()
     assertThat(response2.body.string()).isEqualTo("DEF")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Throws(InterruptedException::class, TimeoutException::class)
@@ -1859,8 +1851,8 @@ class HttpOverHttp2Test {
     val call = client2.newCall(Request(server.url("/")))
     val response = call.execute()
     assertThat(response.body.string()).isEqualTo("DEF")
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(server.takeRequest().exchangeIndex).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(server.takeRequest().sequenceNumber).isEqualTo(0)
   }
 
   @Flaky @ParameterizedTest
@@ -1994,18 +1986,18 @@ class HttpOverHttp2Test {
     assertThat(response2.body.string()).isEqualTo("call1 response")
     val call1Connect = server.takeRequest()
     assertThat(call1Connect.method).isEqualTo("CONNECT")
-    assertThat(call1Connect.exchangeIndex).isEqualTo(0)
+    assertThat(call1Connect.sequenceNumber).isEqualTo(0)
     val call2Connect = server.takeRequest()
     assertThat(call2Connect.method).isEqualTo("CONNECT")
-    assertThat(call2Connect.exchangeIndex).isEqualTo(0)
+    assertThat(call2Connect.sequenceNumber).isEqualTo(0)
     val call2Get = server.takeRequest()
     assertThat(call2Get.method).isEqualTo("GET")
     assertThat(call2Get.url.encodedPath).isEqualTo("/call2")
-    assertThat(call2Get.exchangeIndex).isEqualTo(0)
+    assertThat(call2Get.sequenceNumber).isEqualTo(0)
     val call1Get = server.takeRequest()
     assertThat(call1Get.method).isEqualTo("GET")
     assertThat(call1Get.url.encodedPath).isEqualTo("/call1")
-    assertThat(call1Get.exchangeIndex).isEqualTo(1)
+    assertThat(call1Get.sequenceNumber).isEqualTo(1)
     assertThat(client.connectionPool.connectionCount()).isEqualTo(1)
   }
 
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/internal/ws/WebSocketHttpTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/internal/ws/WebSocketHttpTest.kt
index 240941961..77ec3c95b 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/internal/ws/WebSocketHttpTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/internal/ws/WebSocketHttpTest.kt
@@ -1040,8 +1040,8 @@ class WebSocketHttpTest {
         .build()
     val response = client.newCall(regularRequest).execute()
     response.close()
-    assertThat(webServer.takeRequest().exchangeIndex).isEqualTo(0)
-    assertThat(webServer.takeRequest().exchangeIndex).isEqualTo(1)
+    assertThat(webServer.takeRequest().sequenceNumber).isEqualTo(0)
+    assertThat(webServer.takeRequest().sequenceNumber).isEqualTo(1)
   }
 
   /** https://github.com/square/okhttp/issues/5705  */
