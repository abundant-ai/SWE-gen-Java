diff --git a/kotlin/codegen/pom.xml b/kotlin/codegen/pom.xml
index bd1ce548..d5cbed94 100644
--- a/kotlin/codegen/pom.xml
+++ b/kotlin/codegen/pom.xml
@@ -217,6 +217,10 @@
                   <pattern>com.squareup.kotlinpoet.classinspector</pattern>
                   <shadedPattern>com.squareup.moshi.kotlinpoet.classinspector</shadedPattern>
                 </relocation>
+                <relocation>
+                  <pattern>kotlinpoet.classinspector.elements.shaded</pattern>
+                  <shadedPattern>com.squareup.moshi.kotlinpoet.classinspector.elements.shaded</shadedPattern>
+                </relocation>
                 <relocation>
                   <pattern>kotlinx.metadata</pattern>
                   <shadedPattern>com.squareup.moshi.kotlinx.metadata</shadedPattern>
diff --git a/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/DualKotlinTest.kt b/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/DualKotlinTest.kt
index e6579a77..6a1d7698 100644
--- a/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/DualKotlinTest.kt
+++ b/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/DualKotlinTest.kt
@@ -12,7 +12,6 @@ import com.squareup.moshi.Types
 import com.squareup.moshi.kotlin.reflect.KotlinJsonAdapterFactory
 import com.squareup.moshi.kotlin.reflect.adapter
 import org.assertj.core.api.Assertions.assertThat
-import org.intellij.lang.annotations.Language
 import org.junit.Assert.fail
 import org.junit.Test
 import org.junit.runner.RunWith
@@ -274,34 +273,13 @@ class DualKotlinTest(useReflection: Boolean) {
 
     val consumer = InlineConsumer(InlineClass(23))
 
-    @Language("JSON")
-    val expectedJson = """{"inline":{"i":23}}"""
+    val expectedJson= """{"inline":{"i":23}}"""
     assertThat(adapter.toJson(consumer)).isEqualTo(expectedJson)
 
-    @Language("JSON")
     val testJson = """{"inline":{"i":42}}"""
     val result = adapter.fromJson(testJson)!!
     assertThat(result.inline.i).isEqualTo(42)
   }
-
-  // Regression test for https://github.com/square/moshi/issues/955
-  @Test fun backwardReferencingTypeVars() {
-    val adapter = moshi.adapter<TextAssetMetaData>()
-
-    @Language("JSON")
-    val testJson = """{"text":"text"}"""
-
-    assertThat(adapter.toJson(TextAssetMetaData("text"))).isEqualTo(testJson)
-
-    val result = adapter.fromJson(testJson)!!
-    assertThat(result.text).isEqualTo("text")
-  }
-
-  @JsonClass(generateAdapter = true)
-  class TextAssetMetaData(val text: String) : AssetMetaData<TextAsset>()
-  class TextAsset : Asset<TextAsset>()
-  abstract class Asset<A : Asset<A>>
-  abstract class AssetMetaData<A : Asset<A>>
 }
 
 // Has to be outside since inline classes are only allowed on top level
diff --git a/pom.xml b/pom.xml
index 48628c24..a26d3cfb 100644
--- a/pom.xml
+++ b/pom.xml
@@ -36,8 +36,8 @@
     <incap.version>0.2</incap.version>
     <okio.version>1.16.0</okio.version>
     <okio2.version>2.1.0</okio2.version>
-    <kotlin.version>1.3.50</kotlin.version>
-    <kotlinpoet.version>1.4.1</kotlinpoet.version>
+    <kotlin.version>1.3.40</kotlin.version>
+    <kotlinpoet.version>1.4.0</kotlinpoet.version>
     <kotlinx-metadata.version>0.1.0</kotlinx-metadata.version>
     <maven-assembly.version>3.1.0</maven-assembly.version>
 
