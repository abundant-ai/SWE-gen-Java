diff --git a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt
index 2db1c1d8..f2769211 100644
--- a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt
+++ b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt
@@ -17,12 +17,14 @@ package com.squareup.moshi.kotlin.codegen
 
 import com.squareup.kotlinpoet.ARRAY
 import com.squareup.kotlinpoet.AnnotationSpec
+import com.squareup.kotlinpoet.ClassName
 import com.squareup.kotlinpoet.CodeBlock
 import com.squareup.kotlinpoet.FileSpec
 import com.squareup.kotlinpoet.FunSpec
 import com.squareup.kotlinpoet.KModifier
 import com.squareup.kotlinpoet.NameAllocator
 import com.squareup.kotlinpoet.ParameterSpec
+import com.squareup.kotlinpoet.ParameterizedTypeName
 import com.squareup.kotlinpoet.ParameterizedTypeName.Companion.parameterizedBy
 import com.squareup.kotlinpoet.PropertySpec
 import com.squareup.kotlinpoet.TypeSpec
@@ -38,6 +40,7 @@ import me.eugeniomarletti.kotlin.metadata.isDataClass
 import me.eugeniomarletti.kotlin.metadata.shadow.metadata.ProtoBuf.Visibility
 import me.eugeniomarletti.kotlin.metadata.visibility
 import java.lang.reflect.Type
+import javax.annotation.processing.Messager
 import javax.lang.model.element.TypeElement
 
 /** Generates a JSON adapter for a target type. */
@@ -47,6 +50,7 @@ internal class AdapterGenerator(
 ) {
   private val className = target.name
   private val isDataClass = target.proto.isDataClass
+  private val companionObjectName = target.companionObjectName
   private val visibility = target.proto.visibility!!
   private val typeVariables = target.typeVariables
 
@@ -83,18 +87,21 @@ internal class AdapterGenerator(
           JsonReader.Options::class.asTypeName())
       .build()
 
-  fun generateFile(generatedOption: TypeElement?): FileSpec {
+  fun generateFile(messager: Messager, generatedOption: TypeElement?): FileSpec {
     for (property in propertyList) {
       property.allocateNames(nameAllocator)
     }
 
     val result = FileSpec.builder(className.packageName, adapterName)
     result.addComment("Code generated by moshi-kotlin-codegen. Do not edit.")
-    result.addType(generateType(generatedOption))
+    companionObjectName?.let {
+      result.addFunction(generateJsonAdapterFun(it))
+    }
+    result.addType(generateType(messager, generatedOption))
     return result.build()
   }
 
-  private fun generateType(generatedOption: TypeElement?): TypeSpec {
+  private fun generateType(messager: Messager, generatedOption: TypeElement?): TypeSpec {
     val result = TypeSpec.classBuilder(adapterName)
 
     generatedOption?.let {
@@ -304,4 +311,31 @@ internal class AdapterGenerator(
 
     return result.build()
   }
+
+  private fun generateJsonAdapterFun(name: String): FunSpec {
+    val rawType = when (originalTypeName) {
+      is TypeVariableName -> throw IllegalArgumentException("Cannot get raw type of TypeVariable!")
+      is ParameterizedTypeName -> originalTypeName.rawType
+      else -> originalTypeName as ClassName
+    }
+
+    val result = FunSpec.builder("jsonAdapter")
+        .receiver(rawType.nestedClass(name))
+        .returns(jsonAdapterTypeName)
+        .addParameter(moshiParam)
+
+    if (visibility == Visibility.INTERNAL) {
+      result.addModifiers(KModifier.INTERNAL)
+    }
+
+    if (typeVariables.isNotEmpty()) {
+      result.addParameter(typesParam)
+      result.addTypeVariables(typeVariables)
+      result.addStatement("return %N(%N, %N)", adapterName, moshiParam, typesParam)
+    } else {
+      result.addStatement("return %N(%N)", adapterName, moshiParam)
+    }
+
+    return result.build()
+  }
 }
diff --git a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/JsonClassCodegenProcessor.kt b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/JsonClassCodegenProcessor.kt
index 7f622d64..c62f092f 100644
--- a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/JsonClassCodegenProcessor.kt
+++ b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/JsonClassCodegenProcessor.kt
@@ -125,7 +125,7 @@ class JsonClassCodegenProcessor : KotlinAbstractProcessor(), KotlinMetadataUtils
   }
 
   private fun AdapterGenerator.generateAndWrite(generatedOption: TypeElement?) {
-    val fileSpec = generateFile(generatedOption)
+    val fileSpec = generateFile(messager, generatedOption)
     val adapterName = fileSpec.members.filterIsInstance<TypeSpec>().first().name!!
     val outputDir = generatedDir ?: mavenGeneratedDir(adapterName)
     fileSpec.writeTo(outputDir)
diff --git a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt
index 6d93fd91..cd521b48 100644
--- a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt
+++ b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt
@@ -53,7 +53,8 @@ internal data class TargetType(
   val element: TypeElement,
   val constructor: TargetConstructor,
   val properties: Map<String, TargetProperty>,
-  val typeVariables: List<TypeVariableName>
+  val typeVariables: List<TypeVariableName>,
+  val companionObjectName: String?
 ) {
   val name = element.className
 
@@ -128,7 +129,12 @@ internal data class TargetType(
           properties.putIfAbsent(name, property)
         }
       }
-      return TargetType(proto, element, constructor, properties, typeVariables)
+      val companionObjectName = if (proto.hasCompanionObjectName()) {
+        typeMetadata.data.nameResolver.getQualifiedClassName(proto.companionObjectName)
+      } else {
+        null
+      }
+      return TargetType(proto, element, constructor, properties, typeVariables, companionObjectName)
     }
 
     /** Returns the properties declared by `typeElement`. */
diff --git a/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt b/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt
index 3f754393..793cdb92 100644
--- a/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt
+++ b/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt
@@ -824,6 +824,22 @@ class GeneratedAdaptersTest {
   @JsonClass(generateAdapter = true)
   class DuplicateValue(var a: Int = -1, var b: Int = -2)
 
+  @Test fun companionObjectsTests() {
+    val moshi = Moshi.Builder().build()
+    val standardAdapter = CompanionObjectClass.jsonAdapter(moshi)
+    val customNameAdapter = NamedCompanionObjectClass.jsonAdapter(moshi)
+  }
+
+  @JsonClass(generateAdapter = true)
+  data class CompanionObjectClass(val foo: String) {
+    companion object
+  }
+
+  @JsonClass(generateAdapter = true)
+  data class NamedCompanionObjectClass(val foo: String) {
+    companion object CustomCompanionObject
+  }
+
   @Test fun extensionProperty() {
     val moshi = Moshi.Builder().build()
     val jsonAdapter = moshi.adapter(ExtensionProperty::class.java)
