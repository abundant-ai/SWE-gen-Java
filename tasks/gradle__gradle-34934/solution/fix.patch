diff --git a/platforms/software/platform-base/src/main/java/org/gradle/api/internal/resolve/DefaultProjectModelResolver.java b/platforms/software/platform-base/src/main/java/org/gradle/api/internal/resolve/DefaultProjectModelResolver.java
index bed4797c937..42fb1c0739d 100644
--- a/platforms/software/platform-base/src/main/java/org/gradle/api/internal/resolve/DefaultProjectModelResolver.java
+++ b/platforms/software/platform-base/src/main/java/org/gradle/api/internal/resolve/DefaultProjectModelResolver.java
@@ -30,7 +30,7 @@ public DefaultProjectModelResolver(ProjectRegistry delegate) {
 
     @Override
     public ModelRegistry resolveProjectModel(String path) {
-        ProjectInternal projectInternal = delegate.getProject(path);
+        ProjectInternal projectInternal = delegate.getProjectInternal(path);
         if (projectInternal == null) {
             throw new UnknownProjectException("Project with path '" + path + "' not found.");
         }
diff --git a/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultCrossProjectModelAccess.java b/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultCrossProjectModelAccess.java
index 17b112b5570..41bb4bb23f1 100644
--- a/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultCrossProjectModelAccess.java
+++ b/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultCrossProjectModelAccess.java
@@ -48,7 +48,7 @@ public ProjectInternal access(ProjectInternal referrer, ProjectInternal project)
             throw new IllegalArgumentException("Project path must be absolute");
         }
 
-        return projectRegistry.getProject(path.asString());
+        return projectRegistry.getProjectInternal(path.asString());
     }
 
     @Override
diff --git a/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultProjectRegistry.java b/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultProjectRegistry.java
index 644fec14e75..a89aeb9b949 100644
--- a/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultProjectRegistry.java
+++ b/subprojects/core/src/main/java/org/gradle/api/internal/project/DefaultProjectRegistry.java
@@ -15,6 +15,9 @@
  */
 package org.gradle.api.internal.project;
 
+import org.gradle.internal.scan.UsedByScanPlugin;
+import org.gradle.internal.service.scopes.Scope;
+import org.gradle.internal.service.scopes.ServiceScope;
 import org.jspecify.annotations.Nullable;
 
 import java.util.Collections;
@@ -23,6 +26,11 @@
 import java.util.Map;
 import java.util.Set;
 
+// This default implementation is referenced by the Develocity plugin in ImportJUnitXmlReports.
+// We must leave this type in until we no longer support a Develocity plugin version that use this API.
+@Deprecated
+@ServiceScope(Scope.Build.class)
+@UsedByScanPlugin("ImportJUnitXmlReports")
 public class DefaultProjectRegistry implements ProjectRegistry, HoldsProjectState {
 
     private final Map<String, ProjectInternal> projects = new HashMap<>();
@@ -53,7 +61,12 @@ private void addProjectToParentSubProjects(ProjectInternal project) {
     }
 
     @Override
-    public @Nullable ProjectInternal getProject(String path) {
+    public @Nullable ProjectIdentifier getProject(String path) {
+        return projects.get(path);
+    }
+
+    @Override
+    public @Nullable ProjectInternal getProjectInternal(String path) {
         return projects.get(path);
     }
 
diff --git a/subprojects/core/src/main/java/org/gradle/api/internal/project/ProjectRegistry.java b/subprojects/core/src/main/java/org/gradle/api/internal/project/ProjectRegistry.java
index 6a6fddb7b5e..6c6ba58045e 100644
--- a/subprojects/core/src/main/java/org/gradle/api/internal/project/ProjectRegistry.java
+++ b/subprojects/core/src/main/java/org/gradle/api/internal/project/ProjectRegistry.java
@@ -15,8 +15,10 @@
  */
 package org.gradle.api.internal.project;
 
+import org.gradle.internal.scan.UsedByScanPlugin;
 import org.gradle.internal.service.scopes.Scope;
 import org.gradle.internal.service.scopes.ServiceScope;
+import org.gradle.util.Path;
 import org.jspecify.annotations.Nullable;
 
 import java.util.Set;
@@ -29,11 +31,22 @@
  * instances instead of raw {@link ProjectInternal} instances.
  */
 @ServiceScope(Scope.Build.class)
+@UsedByScanPlugin("ImportJUnitXmlReports")
 public interface ProjectRegistry extends HoldsProjectState {
 
     void addProject(ProjectInternal project);
 
-    @Nullable ProjectInternal getProject(String path);
+    // This is only here because it is used by the Develocity plugin in ImportJUnitXmlReports.
+    // The ProjectRegistry and ProjectIdentifier types are legacy and should be
+    // removed once we no longer support Develocity plugins that use this API.
+    @Deprecated
+    @UsedByScanPlugin("ImportJUnitXmlReports")
+    @Nullable ProjectIdentifier getProject(String path);
+
+    /**
+     * Prefer {@link ProjectStateRegistry#findProjectState(Path)}.
+     */
+    @Nullable ProjectInternal getProjectInternal(String path);
 
     Set<ProjectInternal> getAllProjects(String path);
 
diff --git a/subprojects/core/src/main/java/org/gradle/api/internal/project/taskfactory/TaskIdentity.java b/subprojects/core/src/main/java/org/gradle/api/internal/project/taskfactory/TaskIdentity.java
index 6dd6a4924fe..6adb60731b3 100644
--- a/subprojects/core/src/main/java/org/gradle/api/internal/project/taskfactory/TaskIdentity.java
+++ b/subprojects/core/src/main/java/org/gradle/api/internal/project/taskfactory/TaskIdentity.java
@@ -48,6 +48,7 @@
      * @deprecated Use {@link #getPath()} instead.
      */
     @Deprecated
+    @UsedByScanPlugin("ImportJUnitXmlReports")
     public final Path projectPath;
 
     /**
@@ -64,6 +65,7 @@
      * @deprecated Use {@link #getProjectIdentity()} instead.
      */
     @Deprecated
+    @UsedByScanPlugin("ImportJUnitXmlReports")
     public final Path buildPath;
 
     /**
@@ -167,6 +169,7 @@ public String getProjectPath() {
     public String getIdentityPath() {
         return getBuildTreePath().asString();
     }
+
     /**
      * @deprecated Use {@link #getProjectIdentity()} instead.
      */
diff --git a/subprojects/core/src/main/java/org/gradle/internal/service/scopes/BuildScopeServices.java b/subprojects/core/src/main/java/org/gradle/internal/service/scopes/BuildScopeServices.java
index 89ef52c98a7..fbc6f94a5ad 100644
--- a/subprojects/core/src/main/java/org/gradle/internal/service/scopes/BuildScopeServices.java
+++ b/subprojects/core/src/main/java/org/gradle/internal/service/scopes/BuildScopeServices.java
@@ -53,7 +53,6 @@
 import org.gradle.api.internal.plugins.PluginInspector;
 import org.gradle.api.internal.plugins.PluginRegistry;
 import org.gradle.api.internal.project.BuildScopedTaskResolver;
-import org.gradle.api.internal.project.DefaultProjectRegistry;
 import org.gradle.api.internal.project.DefaultProjectTaskLister;
 import org.gradle.api.internal.project.HoldsProjectState;
 import org.gradle.api.internal.project.IProjectFactory;
@@ -209,6 +208,7 @@
 import org.gradle.internal.resource.TextFileResourceLoader;
 import org.gradle.internal.resources.ResourceLockCoordinationService;
 import org.gradle.internal.resources.SharedResourceLeaseRegistry;
+import org.gradle.internal.scan.UsedByScanPlugin;
 import org.gradle.internal.scripts.ScriptExecutionListener;
 import org.gradle.internal.service.CachingServiceLocator;
 import org.gradle.internal.service.Provides;
@@ -359,9 +359,11 @@ protected TaskStatistics createTaskStatistics() {
         return new TaskStatistics();
     }
 
-    @Provides
-    protected ProjectRegistry createProjectRegistry() {
-        return new DefaultProjectRegistry();
+    @SuppressWarnings("deprecation")
+    @UsedByScanPlugin("ImportJUnitXmlReports")
+    @Provides({ProjectRegistry.class, org.gradle.api.internal.project.DefaultProjectRegistry.class})
+    protected org.gradle.api.internal.project.DefaultProjectRegistry createProjectRegistry() {
+        return new org.gradle.api.internal.project.DefaultProjectRegistry();
     }
 
     @Provides
diff --git a/testing/smoke-test/src/smokeTest/groovy/org/gradle/smoketests/DevelocityPluginSmokeTest.groovy b/testing/smoke-test/src/smokeTest/groovy/org/gradle/smoketests/DevelocityPluginSmokeTest.groovy
index edb6a579f85..0c1482cc945 100644
--- a/testing/smoke-test/src/smokeTest/groovy/org/gradle/smoketests/DevelocityPluginSmokeTest.groovy
+++ b/testing/smoke-test/src/smokeTest/groovy/org/gradle/smoketests/DevelocityPluginSmokeTest.groovy
@@ -169,6 +169,7 @@ class DevelocityPluginSmokeTest extends AbstractSmokeTest {
     private static final VersionNumber FIRST_VERSION_SUPPORTING_ISOLATED_PROJECTS_FOR_TEST_ACCELERATION = VersionNumber.parse("3.17")
     private static final VersionNumber FIRST_VERSION_SUPPORTING_SAFE_MODE = VersionNumber.parse("3.15")
     private static final VersionNumber FIRST_VERSION_UNDER_DEVELOCITY_BRAND = VersionNumber.parse("3.17")
+    private static final VersionNumber FIRST_VERSION_WITH_IMPORT_JUNIT_XML_REPORTS = VersionNumber.parse("3.17")
 
     def "coverage at least up to auto-applied version"() {
         expect:
@@ -461,6 +462,48 @@ public class MyFlakyTest {
         ciScriptVersion = ci.gitRef
     }
 
+    def "can use ImportJUnitXmlReports"() {
+        when:
+        usePluginVersion version
+
+        and:
+        settingsFile < < """
+            include('sub')
+        """
+        buildFile << """
+            tasks.register('fakeTest', Copy) {
+                from("androidTest-results/TEST-Pixel_5_API_30(AVD) - 11-app-.xml")
+                into(layout.buildDirectory.dir("result"))
+            }
+        """
+        file("sub/build.gradle") << """
+            import com.gradle.develocity.agent.gradle.test.ImportJUnitXmlReports
+            import com.gradle.develocity.agent.gradle.test.JUnitXmlDialect
+
+            def testTask = project(':').tasks.named('fakeTest')
+            ImportJUnitXmlReports.register(tasks, testTask, JUnitXmlDialect.ANDROID_CONNECTED)
+        """
+
+        file("androidTest-results/TEST-Pixel_5_API_30(AVD) - 11-app-.xml").text = """<?xml version='1.0' encoding='UTF-8' ?>
+<testsuite name="com.example.ClassName" tests="1" failures="1" errors="0" skipped="0" time="1.419" timestamp="2021-08-26T09:42:57" hostname="localhost">
+  <properties>
+    <property name="device" value="Pixel_5_API_30(AVD) - 11" />
+    <property name="flavor" value="" />
+    <property name="project" value="app" />
+  </properties>
+  <testcase name="tooDeepStackTrace" classname="com.example.ClassName" time="0.286">
+    <failure>foo</failure>
+  </testcase>
+</testsuite>"""
+
+        then:
+        def result = build(":fakeTest")
+        result.task(":sub:fakeTestImportJUnitXmlReports").outcome == TaskOutcome.SUCCESS
+
+        where:
+        version << SUPPORTED.findAll { VersionNumber.parse(it) >= FIRST_VERSION_WITH_IMPORT_JUNIT_XML_REPORTS }
+    }
+
     private static boolean supportsSafeMode(VersionNumber pluginVersion) {
         pluginVersion >= FIRST_VERSION_SUPPORTING_SAFE_MODE
     }
