diff --git a/core/src/main/java/io/micronaut/core/annotation/AnnotationValue.java b/core/src/main/java/io/micronaut/core/annotation/AnnotationValue.java
index e1968d947c..72d394c8ab 100644
--- a/core/src/main/java/io/micronaut/core/annotation/AnnotationValue.java
+++ b/core/src/main/java/io/micronaut/core/annotation/AnnotationValue.java
@@ -181,6 +181,14 @@ public class AnnotationValue<A extends Annotation> implements AnnotationValueRes
         this.stereotypes = target.stereotypes;
     }
 
+    /**
+     * @return The value mapper.
+     * @since 4.0.2
+     */
+    protected @Nullable Function<Object, Object> getValueMapper() {
+        return valueMapper;
+    }
+
     /**
      * Creates a builder with the initial value of this annotation.
      *
diff --git a/inject/src/main/java/io/micronaut/inject/annotation/EnvironmentAnnotationValue.java b/inject/src/main/java/io/micronaut/inject/annotation/EnvironmentAnnotationValue.java
index 4b6b749e1d..e0f10b03ce 100644
--- a/inject/src/main/java/io/micronaut/inject/annotation/EnvironmentAnnotationValue.java
+++ b/inject/src/main/java/io/micronaut/inject/annotation/EnvironmentAnnotationValue.java
@@ -25,6 +25,7 @@ import java.lang.annotation.Annotation;
 import java.util.Arrays;
 import java.util.List;
 import java.util.Optional;
+import java.util.function.Function;
 import java.util.stream.Collectors;
 import java.util.stream.Stream;
 
@@ -87,6 +88,11 @@ class EnvironmentAnnotationValue<A extends Annotation> extends AnnotationValue<A
         this.environment = environment;
     }
 
+    @Override
+    protected Function<Object, Object> getValueMapper() {
+        return super.getValueMapper();
+    }
+
     @Override
     public @NonNull
     <T extends Annotation> List<AnnotationValue<T>> getAnnotations(String member, Class<T> type) {
diff --git a/inject/src/main/java/io/micronaut/inject/annotation/EvaluatedAnnotationValue.java b/inject/src/main/java/io/micronaut/inject/annotation/EvaluatedAnnotationValue.java
index 938207f52e..874b70986b 100644
--- a/inject/src/main/java/io/micronaut/inject/annotation/EvaluatedAnnotationValue.java
+++ b/inject/src/main/java/io/micronaut/inject/annotation/EvaluatedAnnotationValue.java
@@ -22,6 +22,7 @@ import io.micronaut.core.annotation.Nullable;
 import io.micronaut.core.expressions.EvaluatedExpression;
 
 import java.lang.annotation.Annotation;
+import java.util.function.Function;
 
 /**
  * An EvaluatedAnnotationValue is a {@link AnnotationValue} that contains one or more expressions.
@@ -42,6 +43,11 @@ public final class EvaluatedAnnotationValue<A extends Annotation> extends Annota
             value -> {
                 if (value instanceof EvaluatedExpression expression) {
                     return expression.evaluate(evaluationContext);
+                } else if (annotationValue instanceof EnvironmentAnnotationValue<A> eav) {
+                    Function<Object, Object> valueMapper = eav.getValueMapper();
+                    if (valueMapper != null) {
+                        return valueMapper.apply(value);
+                    }
                 }
                 return value;
             }
