diff --git a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt
index ac76ae82..a5dbbdd6 100644
--- a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt
+++ b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/AdapterGenerator.kt
@@ -49,7 +49,7 @@ internal class AdapterGenerator(
 ) {
   private val className = target.name
   private val isDataClass = target.proto.isDataClass
-  private val companionObjectName = target.companionObjectName
+  private val hasCompanionObject = target.hasCompanionObject
   private val visibility = target.proto.visibility!!
   private val typeVariables = target.typeVariables
 
@@ -94,8 +94,8 @@ internal class AdapterGenerator(
 
     val result = FileSpec.builder(className.packageName(), adapterName)
     result.addComment("Code generated by moshi-kotlin-codegen. Do not edit.")
-    companionObjectName?.let {
-      result.addFunction(generateJsonAdapterFun(it))
+    if (hasCompanionObject) {
+      result.addFunction(generateJsonAdapterFun())
     }
     result.addType(generateType(messager, generatedOption))
     return result.build()
@@ -312,7 +312,7 @@ internal class AdapterGenerator(
     return result.build()
   }
 
-  private fun generateJsonAdapterFun(name: String): FunSpec {
+  private fun generateJsonAdapterFun(): FunSpec {
     val rawType = when (originalTypeName) {
       is TypeVariableName -> throw IllegalArgumentException("Cannot get raw type of TypeVariable!")
       is ParameterizedTypeName -> originalTypeName.rawType
@@ -320,7 +320,7 @@ internal class AdapterGenerator(
     }
 
     val result = FunSpec.builder("jsonAdapter")
-        .receiver(rawType.nestedClass(name))
+        .receiver(rawType.nestedClass("Companion"))
         .returns(jsonAdapterTypeName)
         .addParameter(moshiParam)
 
diff --git a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt
index 3a9aa470..c354bff3 100644
--- a/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt
+++ b/kotlin/codegen/src/main/java/com/squareup/moshi/kotlin/codegen/TargetType.kt
@@ -53,10 +53,10 @@ internal data class TargetType(
   val element: TypeElement,
   val constructor: TargetConstructor,
   val properties: Map<String, TargetProperty>,
-  val typeVariables: List<TypeVariableName>,
-  val companionObjectName: String?
+  val typeVariables: List<TypeVariableName>
 ) {
   val name = element.className
+  val hasCompanionObject = proto.hasCompanionObjectName()
 
   companion object {
     private val OBJECT_CLASS = ClassName("java.lang", "Object")
@@ -129,12 +129,7 @@ internal data class TargetType(
           properties.putIfAbsent(name, property)
         }
       }
-      val companionObjectName = if (proto.hasCompanionObjectName()) {
-        typeMetadata.data.nameResolver.getQualifiedClassName(proto.companionObjectName)
-      } else {
-        null
-      }
-      return TargetType(proto, element, constructor, properties, typeVariables, companionObjectName)
+      return TargetType(proto, element, constructor, properties, typeVariables)
     }
 
     /** Returns the properties declared by `typeElement`. */
diff --git a/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt b/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt
index 5d582c05..b3325168 100644
--- a/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt
+++ b/kotlin/tests/src/test/kotlin/com/squareup/moshi/kotlin/codgen/GeneratedAdaptersTest.kt
@@ -786,22 +786,6 @@ class GeneratedAdaptersTest {
   @JsonClass(generateAdapter = true)
   class DuplicateValue(var a: Int = -1, var b: Int = -2)
 
-  @Test fun companionObjectsTests() {
-    val moshi = Moshi.Builder().build()
-    val standardAdapter = CompanionObjectClass.jsonAdapter(moshi)
-    val customNameAdapter = NamedCompanionObjectClass.jsonAdapter(moshi)
-  }
-
-  @JsonClass(generateAdapter = true)
-  data class CompanionObjectClass(val foo: String) {
-    companion object
-  }
-
-  @JsonClass(generateAdapter = true)
-  data class NamedCompanionObjectClass(val foo: String) {
-    companion object CustomCompanionObject
-  }
-
   @JsonQualifier
   annotation class Uppercase(val inFrench: Boolean, val onSundays: Boolean = false)
 
