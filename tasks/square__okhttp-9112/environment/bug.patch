diff --git a/okhttp-logging-interceptor/src/main/kotlin/okhttp3/logging/HttpLoggingInterceptor.kt b/okhttp-logging-interceptor/src/main/kotlin/okhttp3/logging/HttpLoggingInterceptor.kt
index ed4d5c618..29b937459 100644
--- a/okhttp-logging-interceptor/src/main/kotlin/okhttp3/logging/HttpLoggingInterceptor.kt
+++ b/okhttp-logging-interceptor/src/main/kotlin/okhttp3/logging/HttpLoggingInterceptor.kt
@@ -35,8 +35,8 @@ import okhttp3.ResponseBody
 import okhttp3.internal.charsetOrUtf8
 import okhttp3.internal.connection.RealCall
 import okhttp3.internal.http.promisesBody
-import okhttp3.internal.isProbablyUtf8
 import okhttp3.internal.platform.Platform
+import okhttp3.logging.internal.isProbablyUtf8
 import okio.Buffer
 import okio.BufferedSink
 import okio.BufferedSource
@@ -336,7 +336,7 @@ class HttpLoggingInterceptor
           val charset: Charset = requestBody.contentType().charsetOrUtf8()
 
           logger.log("")
-          if (!buffer.isProbablyUtf8(16L)) {
+          if (!buffer.isProbablyUtf8()) {
             logger.log(
               "--> END ${request.method} (binary ${requestBody.contentLength()}-byte body omitted)",
             )
@@ -403,7 +403,7 @@ class HttpLoggingInterceptor
 
           val charset: Charset = responseBody.contentType().charsetOrUtf8()
 
-          if (!buffer.isProbablyUtf8(16L)) {
+          if (!buffer.isProbablyUtf8()) {
             logger.log("")
             logger.log("<-- END HTTP (${totalMs}ms, binary ${buffer.size}-byte body omitted)")
             return response
diff --git a/okhttp/src/commonJvmAndroid/kotlin/okhttp3/internal/IsProbablyUtf8.kt b/okhttp-logging-interceptor/src/main/kotlin/okhttp3/logging/internal/IsProbablyUtf8.kt
similarity index 65%
rename from okhttp/src/commonJvmAndroid/kotlin/okhttp3/internal/IsProbablyUtf8.kt
rename to okhttp-logging-interceptor/src/main/kotlin/okhttp3/logging/internal/IsProbablyUtf8.kt
index 76894e615..dbe831473 100644
--- a/okhttp/src/commonJvmAndroid/kotlin/okhttp3/internal/IsProbablyUtf8.kt
+++ b/okhttp-logging-interceptor/src/main/kotlin/okhttp3/logging/internal/IsProbablyUtf8.kt
@@ -13,26 +13,26 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.internal
+package okhttp3.logging.internal
 
 import java.io.EOFException
-import okio.BufferedSource
+import okio.Buffer
 
 /**
- * Returns true if the body in question probably contains human-readable text. Uses a small
- * sample of code points to detect Unicode control characters commonly used in binary file
+ * Returns true if the body in question probably contains human readable text. Uses a small
+ * sample of code points to detect unicode control characters commonly used in binary file
  * signatures.
- *
- * @param codePointLimit the number of code points to read in order to make a decision.
  */
-internal fun BufferedSource.isProbablyUtf8(codePointLimit: Long = Long.MAX_VALUE): Boolean {
+fun Buffer.isProbablyUtf8(): Boolean {
   try {
-    val peek = peek()
-    for (i in 0 until codePointLimit) {
-      if (peek.exhausted()) {
+    val prefix = Buffer()
+    val byteCount = size.coerceAtMost(64)
+    copyTo(prefix, 0, byteCount)
+    for (i in 0 until 16) {
+      if (prefix.exhausted()) {
         break
       }
-      val codePoint = peek.readUtf8CodePoint()
+      val codePoint = prefix.readUtf8CodePoint()
       if (Character.isISOControl(codePoint) && !Character.isWhitespace(codePoint)) {
         return false
       }
diff --git a/okhttp-logging-interceptor/src/test/java/okhttp3/logging/IsProbablyUtf8Test.kt b/okhttp-logging-interceptor/src/test/java/okhttp3/logging/IsProbablyUtf8Test.kt
new file mode 100644
index 000000000..f965ff6c0
--- /dev/null
+++ b/okhttp-logging-interceptor/src/test/java/okhttp3/logging/IsProbablyUtf8Test.kt
@@ -0,0 +1,35 @@
+/*
+ * Copyright (C) 2015 Square, Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package okhttp3.logging
+
+import assertk.assertThat
+import assertk.assertions.isFalse
+import assertk.assertions.isTrue
+import okhttp3.logging.internal.isProbablyUtf8
+import okio.Buffer
+import org.junit.jupiter.api.Test
+
+class IsProbablyUtf8Test {
+  @Test fun isProbablyUtf8() {
+    assertThat(Buffer().isProbablyUtf8()).isTrue()
+    assertThat(Buffer().writeUtf8("abc").isProbablyUtf8()).isTrue()
+    assertThat(Buffer().writeUtf8("new\r\nlines").isProbablyUtf8()).isTrue()
+    assertThat(Buffer().writeUtf8("white\t space").isProbablyUtf8()).isTrue()
+    assertThat(Buffer().writeByte(0x80).isProbablyUtf8()).isTrue()
+    assertThat(Buffer().writeByte(0x00).isProbablyUtf8()).isFalse()
+    assertThat(Buffer().writeByte(0xc0).isProbablyUtf8()).isFalse()
+  }
+}
diff --git a/okhttp/api/android/okhttp.api b/okhttp/api/android/okhttp.api
index 5eac24e23..afe561643 100644
--- a/okhttp/api/android/okhttp.api
+++ b/okhttp/api/android/okhttp.api
@@ -37,6 +37,16 @@ public abstract interface class okhttp3/Authenticator {
 public final class okhttp3/Authenticator$Companion {
 }
 
+public final class okhttp3/BinaryMode : java/lang/Enum {
+	public static final field FILE Lokhttp3/BinaryMode;
+	public static final field HEX Lokhttp3/BinaryMode;
+	public static final field OMIT Lokhttp3/BinaryMode;
+	public static final field STDIN Lokhttp3/BinaryMode;
+	public static fun getEntries ()Lkotlin/enums/EnumEntries;
+	public static fun valueOf (Ljava/lang/String;)Lokhttp3/BinaryMode;
+	public static fun values ()[Lokhttp3/BinaryMode;
+}
+
 public final class okhttp3/Cache : java/io/Closeable, java/io/Flushable {
 	public static final field Companion Lokhttp3/Cache$Companion;
 	public final fun -deprecated_directory ()Ljava/io/File;
@@ -1020,9 +1030,10 @@ public final class okhttp3/Request {
 	public final fun tag ()Ljava/lang/Object;
 	public final fun tag (Ljava/lang/Class;)Ljava/lang/Object;
 	public final fun tag (Lkotlin/reflect/KClass;)Ljava/lang/Object;
-	public final fun toCurl ()Ljava/lang/String;
-	public final fun toCurl (Z)Ljava/lang/String;
-	public static synthetic fun toCurl$default (Lokhttp3/Request;ZILjava/lang/Object;)Ljava/lang/String;
+  public final fun toCurl ()Ljava/lang/String;
+  public final fun toCurl (Lokhttp3/BinaryMode;)Ljava/lang/String;
+  public final fun toCurl (Lokhttp3/BinaryMode;Ljava/lang/String;)Ljava/lang/String;
+  public static synthetic fun toCurl$default (Lokhttp3/Request;Lokhttp3/BinaryMode;Ljava/lang/String;ILjava/lang/Object;)Ljava/lang/String;
 	public fun toString ()Ljava/lang/String;
 	public final fun url ()Lokhttp3/HttpUrl;
 }
diff --git a/okhttp/api/jvm/okhttp.api b/okhttp/api/jvm/okhttp.api
index f627f4de1..9f882b062 100644
--- a/okhttp/api/jvm/okhttp.api
+++ b/okhttp/api/jvm/okhttp.api
@@ -37,6 +37,16 @@ public abstract interface class okhttp3/Authenticator {
 public final class okhttp3/Authenticator$Companion {
 }
 
+public final class okhttp3/BinaryMode : java/lang/Enum {
+	public static final field FILE Lokhttp3/BinaryMode;
+	public static final field HEX Lokhttp3/BinaryMode;
+	public static final field OMIT Lokhttp3/BinaryMode;
+	public static final field STDIN Lokhttp3/BinaryMode;
+	public static fun getEntries ()Lkotlin/enums/EnumEntries;
+	public static fun valueOf (Ljava/lang/String;)Lokhttp3/BinaryMode;
+	public static fun values ()[Lokhttp3/BinaryMode;
+}
+
 public final class okhttp3/Cache : java/io/Closeable, java/io/Flushable {
 	public static final field Companion Lokhttp3/Cache$Companion;
 	public final fun -deprecated_directory ()Ljava/io/File;
@@ -1020,8 +1030,9 @@ public final class okhttp3/Request {
 	public final fun tag (Ljava/lang/Class;)Ljava/lang/Object;
 	public final fun tag (Lkotlin/reflect/KClass;)Ljava/lang/Object;
 	public final fun toCurl ()Ljava/lang/String;
-	public final fun toCurl (Z)Ljava/lang/String;
-	public static synthetic fun toCurl$default (Lokhttp3/Request;ZILjava/lang/Object;)Ljava/lang/String;
+	public final fun toCurl (Lokhttp3/BinaryMode;)Ljava/lang/String;
+	public final fun toCurl (Lokhttp3/BinaryMode;Ljava/lang/String;)Ljava/lang/String;
+	public static synthetic fun toCurl$default (Lokhttp3/Request;Lokhttp3/BinaryMode;Ljava/lang/String;ILjava/lang/Object;)Ljava/lang/String;
 	public fun toString ()Ljava/lang/String;
 	public final fun url ()Lokhttp3/HttpUrl;
 }
diff --git a/okhttp/src/commonJvmAndroid/kotlin/okhttp3/BinaryMode.kt b/okhttp/src/commonJvmAndroid/kotlin/okhttp3/BinaryMode.kt
new file mode 100644
index 000000000..e2115f1ff
--- /dev/null
+++ b/okhttp/src/commonJvmAndroid/kotlin/okhttp3/BinaryMode.kt
@@ -0,0 +1,8 @@
+package okhttp3
+
+enum class BinaryMode {
+  HEX, // hex encode
+  OMIT, // "[binary body omitted]"
+  FILE, // --data-binary @filename
+  STDIN, // --data-binary @-
+}
diff --git a/okhttp/src/commonJvmAndroid/kotlin/okhttp3/Request.kt b/okhttp/src/commonJvmAndroid/kotlin/okhttp3/Request.kt
index cc5e073c3..a7c603f53 100644
--- a/okhttp/src/commonJvmAndroid/kotlin/okhttp3/Request.kt
+++ b/okhttp/src/commonJvmAndroid/kotlin/okhttp3/Request.kt
@@ -16,13 +16,13 @@
 package okhttp3
 
 import java.net.URL
+import java.nio.charset.StandardCharsets
 import kotlin.reflect.KClass
 import kotlin.reflect.cast
 import okhttp3.Headers.Companion.headersOf
 import okhttp3.HttpUrl.Companion.toHttpUrl
 import okhttp3.internal.http.GzipRequestBody
 import okhttp3.internal.http.HttpMethod
-import okhttp3.internal.isProbablyUtf8
 import okhttp3.internal.isSensitiveHeader
 import okio.Buffer
 
@@ -462,55 +462,104 @@ class Request internal constructor(
   }
 
   /**
-   * Returns a cURL command equivalent to this request, useful for debugging and reproducing
-   * requests.
+   * Returns a cURL command equivalent to this request, useful for debugging and reproducing requests.
    *
    * This includes the HTTP method, headers, request body (if present), and URL.
    *
    * Example:
-   *
    * ```
-   * curl 'https://example.com/api' \
-   *   -X PUT \
-   *   -H 'Authorization: Bearer token' \
-   *   --data '{\"key\":\"value\"}'
+   * curl -X POST -H "Authorization: Bearer token" --data "{\"key\":\"value\"}" "https://example.com/api"
    * ```
    *
-   * **Note:** This will consume the request body. This may have side effects if the [RequestBody]
-   * is streaming or can be consumed only once.
+   * **Note:** This method will write the body
+   * to a temporary [okio.Buffer] in memory. This may have side effects if the [RequestBody] is streaming
+   * or can be consumed only once. Calling this method might prevent re-sending the request body later.
+   *
+   * @param binaryFileName default file name to use when dumping binary body data to a file (default: `"request_body.bin"`)
+   * @param binaryMode default mode to use when writing binary body data (default: `"BinaryMode.STDIN"`)
+   * @return a cURL command string representing this request.
    */
   @JvmOverloads
-  fun toCurl(includeBody: Boolean = true): String =
-    buildString {
-      append("curl ${url.toString().shellEscape()}")
+  fun toCurl(
+    binaryMode: BinaryMode = BinaryMode.STDIN,
+    binaryFileName: String? = "request_body.bin",
+  ): String {
+    val curl = StringBuilder("curl")
+
+    // Add method if not GET
+    if (method != "GET") {
+      curl.append(" -X ").append(method)
+    }
 
-      // Add method if not the default.
-      val defaultMethod =
-        when {
-          includeBody && body != null -> "POST"
-          else -> "GET"
-        }
-      if (method != defaultMethod) {
-        append(" \\\n  -X ${method.shellEscape()}")
-      }
+    // Append headers
+    for ((name, value) in headers) {
+      curl
+        .append(" -H \"")
+        .append(name)
+        .append(": ")
+        .append(value)
+        .append("\"")
+    }
 
-      // Append headers.
-      for ((name, value) in headers) {
-        append(" \\\n  -H ${"$name: $value".shellEscape()}")
+    // Append body if present
+    body?.let { requestBody ->
+      val buffer = Buffer()
+      requestBody.writeTo(buffer)
+
+      // Clone so we can read multiple times without consuming
+      val peekBuffer = buffer.clone()
+      val isBinary = isBinaryData(peekBuffer)
+
+      if (isBinary) {
+        when (binaryMode) {
+          BinaryMode.HEX -> {
+            curl.append(" --data-binary \"")
+            val hexBuffer = buffer.clone()
+            while (!hexBuffer.exhausted()) {
+              val b = hexBuffer.readByte().toInt() and 0xFF
+              curl.append("%02x".format(b))
+            }
+            curl.append("\"")
+          }
+          BinaryMode.FILE -> {
+            curl.append(" --data-binary @").append(binaryFileName)
+          }
+          BinaryMode.STDIN -> {
+            curl.append(" --data-binary @-")
+          }
+          BinaryMode.OMIT -> {
+            curl.append(" --data-binary \"[binary body omitted]\"")
+          }
+        }
+      } else {
+        val bodyString = buffer.readString(StandardCharsets.UTF_8)
+        curl
+          .append(" --data \"")
+          .append(bodyString.replace("\"", "\\\""))
+          .append("\"")
       }
+    }
 
-      // Append body if present.
-      if (includeBody && body != null) {
-        val bodyBuffer = Buffer()
-        body.writeTo(bodyBuffer)
+    curl.append(" \"").append(url).append("\"")
+    return curl.toString()
+  }
 
-        if (bodyBuffer.isProbablyUtf8()) {
-          append(" \\\n  --data ${bodyBuffer.readUtf8().shellEscape()}")
-        } else {
-          append(" \\\n  --data-binary ${bodyBuffer.readByteString().hex().shellEscape()}")
-        }
+  /**
+   * Detects binary data by checking for non-printable characters in a buffer.
+   */
+  private fun isBinaryData(peekBuffer: Buffer): Boolean {
+    var totalBytes = 0
+    var binaryCount = 0
+    val textSafeBytes = intArrayOf(0x09, 0x0A, 0x0D) // tab, LF, CR
+
+    while (!peekBuffer.exhausted() && totalBytes < 4096) { // limit to first 4KB for performance
+      val b = peekBuffer.readByte().toInt() and 0xFF
+      if ((b < 0x20 && b !in textSafeBytes) || b > 0x7E) {
+        binaryCount++
       }
+      totalBytes++
     }
 
-  private fun String.shellEscape(): String = "'${replace("'", "'\\''")}'"
+    return totalBytes > 0 && binaryCount > totalBytes * 0.1
+  }
 }
diff --git a/okhttp/src/commonTest/kotlin/okhttp3/internal/IsProbablyUtf8Test.kt b/okhttp/src/commonTest/kotlin/okhttp3/internal/IsProbablyUtf8Test.kt
deleted file mode 100644
index 7cf67bf57..000000000
--- a/okhttp/src/commonTest/kotlin/okhttp3/internal/IsProbablyUtf8Test.kt
+++ /dev/null
@@ -1,69 +0,0 @@
-/*
- * Copyright (C) 2015 Square, Inc.
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-package okhttp3.internal
-
-import assertk.assertThat
-import assertk.assertions.isEqualTo
-import assertk.assertions.isFalse
-import assertk.assertions.isTrue
-import okio.Buffer
-import okio.Source
-import okio.Timeout
-import okio.buffer
-import org.junit.jupiter.api.Test
-
-class IsProbablyUtf8Test {
-  @Test fun isProbablyUtf8() {
-    assertThat(Buffer().isProbablyUtf8(16L)).isTrue()
-    assertThat(Buffer().writeUtf8("abc").isProbablyUtf8(16L)).isTrue()
-    assertThat(Buffer().writeUtf8("new\r\nlines").isProbablyUtf8(16L)).isTrue()
-    assertThat(Buffer().writeUtf8("white\t space").isProbablyUtf8(16L)).isTrue()
-    assertThat(Buffer().writeUtf8("Слава Україні!").isProbablyUtf8(16L)).isTrue()
-    assertThat(Buffer().writeByte(0x80).isProbablyUtf8(16L)).isTrue()
-    assertThat(Buffer().writeByte(0x00).isProbablyUtf8(16L)).isFalse()
-    assertThat(Buffer().writeByte(0xc0).isProbablyUtf8(16L)).isFalse()
-  }
-
-  @Test fun doesNotConsumeBuffer() {
-    val buffer = Buffer()
-    buffer.writeUtf8("hello ".repeat(1024))
-    assertThat(buffer.isProbablyUtf8(100L)).isTrue()
-    assertThat(buffer.readUtf8()).isEqualTo("hello ".repeat(1024))
-  }
-
-  /** Confirm [isProbablyUtf8] doesn't attempt to read the entire stream. */
-  @Test fun doesNotReadEntireSource() {
-    val unlimitedSource =
-      object : Source {
-        override fun read(
-          sink: Buffer,
-          byteCount: Long,
-        ): Long {
-          sink.writeUtf8("a".repeat(byteCount.toInt()))
-          return byteCount
-        }
-
-        override fun close() {
-        }
-
-        override fun timeout() = Timeout.NONE
-      }
-
-    assertThat(unlimitedSource.buffer().isProbablyUtf8(1L)).isTrue()
-    assertThat(unlimitedSource.buffer().isProbablyUtf8(1024L)).isTrue()
-    assertThat(unlimitedSource.buffer().isProbablyUtf8(1024L * 1024L)).isTrue()
-  }
-}
diff --git a/okhttp/src/jvmTest/kotlin/okhttp3/RequestTest.kt b/okhttp/src/jvmTest/kotlin/okhttp3/RequestTest.kt
index 8564e1174..91ad40576 100644
--- a/okhttp/src/jvmTest/kotlin/okhttp3/RequestTest.kt
+++ b/okhttp/src/jvmTest/kotlin/okhttp3/RequestTest.kt
@@ -663,12 +663,7 @@ class RequestTest {
 
     val curl = request.toCurl()
     assertThat(curl)
-      .isEqualTo(
-        """
-        |curl 'https://example.com/' \
-        |  -H 'Authorization: Bearer abc123'
-        """.trimMargin(),
-      )
+      .isEqualTo("curl -H \"Authorization: Bearer abc123\" \"https://example.com/\"")
   }
 
   @Test
@@ -685,92 +680,77 @@ class RequestTest {
         .addHeader("Authorization", "Bearer abc123")
         .build()
 
-    assertThat(request.toCurl())
+    val curl = request.toCurl()
+    assertThat(curl)
       .isEqualTo(
-        """
-        |curl 'https://api.example.com/data' \
-        |  -H 'Content-Type: application/json' \
-        |  -H 'Authorization: Bearer abc123' \
-        |  --data '{"key":"value"}'
-        """.trimMargin(),
+        "curl -X POST -H \"Content-Type: application/json\" -H \"Authorization: Bearer abc123\" --data \"{\\\"key\\\":\\\"value\\\"}\" \"https://api.example.com/data\"",
       )
   }
 
-  /** Put is not the default method so `-X 'PUT'` is included. */
   @Test
-  fun curlPutWithBody() {
+  fun curlPostWithComplexBody() {
     val mediaType = "application/json".toMediaType()
-    val body = "{\"key\":\"value\"}".toRequestBody(mediaType)
+    val jsonBody =
+      """
+      {
+        "user": {
+          "id": 123,
+          "name": "John Doe"
+        },
+        "roles": ["admin", "editor"],
+        "active": true
+      }
+      """.trimIndent()
+
+    val body = jsonBody.toRequestBody(mediaType)
 
     val request =
       Request
         .Builder()
-        .url("https://api.example.com/data")
-        .put(body)
+        .url("https://api.example.com/users")
+        .post(body)
         .addHeader("Content-Type", "application/json")
-        .addHeader("Authorization", "Bearer abc123")
+        .addHeader("Authorization", "Bearer xyz789")
         .build()
 
-    assertThat(request.toCurl())
+    val curl = request.toCurl()
+    assertThat(curl)
       .isEqualTo(
-        """
-        |curl 'https://api.example.com/data' \
-        |  -X 'PUT' \
-        |  -H 'Content-Type: application/json' \
-        |  -H 'Authorization: Bearer abc123' \
-        |  --data '{"key":"value"}'
-        """.trimMargin(),
+        "curl -X POST -H \"Content-Type: application/json\" -H \"Authorization: Bearer xyz789\" --data \"{\n" +
+          "  \\\"user\\\": {\n" +
+          "    \\\"id\\\": 123,\n" +
+          "    \\\"name\\\": \\\"John Doe\\\"\n" +
+          "  },\n" +
+          "  \\\"roles\\\": [\\\"admin\\\", \\\"editor\\\"],\n" +
+          "  \\\"active\\\": true\n" +
+          "}\" \"https://api.example.com/users\"",
       )
   }
 
   @Test
-  fun curlPostWithComplexBody() {
-    val mediaType = "application/json".toMediaType()
-    val jsonBody =
-      """
-      |{
-      |  "user": {
-      |    "id": 123,
-      |    "name": "Tim O'Reilly"
-      |  },
-      |  "roles": ["admin", "editor"],
-      |  "active": true
-      |}
-      |
-      """.trimMargin()
+  fun curlPostWithBinaryBody_DefaultSTDIN() {
+    val mediaType = "application/octet-stream".toMediaType()
+    val binaryData = byteArrayOf(0x00, 0x01, 0x02, 0x03)
 
-    val body = jsonBody.toRequestBody(mediaType)
+    val body = binaryData.toRequestBody(mediaType)
 
     val request =
       Request
         .Builder()
-        .url("https://api.example.com/users")
+        .url("https://api.example.com/upload")
         .post(body)
-        .addHeader("Content-Type", "application/json")
-        .addHeader("Authorization", "Bearer xyz789")
+        .addHeader("Content-Type", "application/octet-stream")
         .build()
 
-    assertThat(request.toCurl())
+    val curl = request.toCurl() // default is BinaryMode.STDIN
+    assertThat(curl)
       .isEqualTo(
-        """
-        |curl 'https://api.example.com/users' \
-        |  -H 'Content-Type: application/json' \
-        |  -H 'Authorization: Bearer xyz789' \
-        |  --data '{
-        |  "user": {
-        |    "id": 123,
-        |    "name": "Tim O'\''Reilly"
-        |  },
-        |  "roles": ["admin", "editor"],
-        |  "active": true
-        |}
-        |'
-        """.trimMargin(),
+        "curl -X POST -H \"Content-Type: application/octet-stream\" --data-binary @- \"https://api.example.com/upload\"",
       )
   }
 
   @Test
-  fun curlPostWithBinaryBody() {
+  fun curlPostWithBinaryBody_HexMode() {
     val mediaType = "application/octet-stream".toMediaType()
     val binaryData = byteArrayOf(0x00, 0x01, 0x02, 0x03)
 
@@ -784,19 +764,37 @@ class RequestTest {
         .addHeader("Content-Type", "application/octet-stream")
         .build()
 
-    val curl = request.toCurl()
+    val curl = request.toCurl(BinaryMode.HEX)
+    assertThat(curl)
+      .isEqualTo(
+        "curl -X POST -H \"Content-Type: application/octet-stream\" --data-binary \"00010203\" \"https://api.example.com/upload\"",
+      )
+  }
+
+  @Test
+  fun curlPostWithBinaryBody_FileMode() {
+    val mediaType = "application/octet-stream".toMediaType()
+    val binaryData = byteArrayOf(0xAA.toByte(), 0xBB.toByte())
+
+    val body = binaryData.toRequestBody(mediaType)
+
+    val request =
+      Request
+        .Builder()
+        .url("https://api.example.com/upload")
+        .post(body)
+        .addHeader("Content-Type", "application/octet-stream")
+        .build()
+
+    val curl = request.toCurl(BinaryMode.FILE, "mydata.bin")
     assertThat(curl)
       .isEqualTo(
-        """
-        |curl 'https://api.example.com/upload' \
-        |  -H 'Content-Type: application/octet-stream' \
-        |  --data-binary '00010203'
-        """.trimMargin(),
+        "curl -X POST -H \"Content-Type: application/octet-stream\" --data-binary @mydata.bin \"https://api.example.com/upload\"",
       )
   }
 
   @Test
-  fun curlPostWithBinaryBodyOmitted() {
+  fun curlPostWithBinaryBody_OmitMode() {
     val mediaType = "application/octet-stream".toMediaType()
     val binaryData = byteArrayOf(0x10, 0x20)
 
@@ -810,14 +808,10 @@ class RequestTest {
         .addHeader("Content-Type", "application/octet-stream")
         .build()
 
-    val curl = request.toCurl(includeBody = false)
+    val curl = request.toCurl(BinaryMode.OMIT)
     assertThat(curl)
       .isEqualTo(
-        """
-        |curl 'https://api.example.com/upload' \
-        |  -X 'POST' \
-        |  -H 'Content-Type: application/octet-stream'
-        """.trimMargin(),
+        "curl -X POST -H \"Content-Type: application/octet-stream\" --data-binary \"[binary body omitted]\" \"https://api.example.com/upload\"",
       )
   }
 
