diff --git a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/ConfigurationCacheKey.kt b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/ConfigurationCacheKey.kt
index 6bc616af600..2e202d5a62d 100644
--- a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/ConfigurationCacheKey.kt
+++ b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/ConfigurationCacheKey.kt
@@ -55,7 +55,7 @@ class ConfigurationCacheKey(
 
         putAll(
             startParameter.includedBuilds.map {
-                relativePathOf(it, startParameter.rootDirectory)
+                relativePathOf(it, startParameter.buildTreeRootDirectory)
             }
         )
 
@@ -108,14 +108,14 @@ class ConfigurationCacheKey(
             if (projectDir != null) {
                 relativePathOf(
                     projectDir,
-                    startParameter.rootDirectory
+                    startParameter.buildTreeRootDirectory
                 ).let { relativeProjectDir ->
                     putString(relativeProjectDir)
                 }
             } else {
                 relativeChildPathOrNull(
                     startParameter.currentDirectory,
-                    startParameter.rootDirectory
+                    startParameter.buildTreeRootDirectory
                 )?.let { relativeSubDir ->
                     putString(relativeSubDir)
                 }
diff --git a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultConfigurationCache.kt b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultConfigurationCache.kt
index ca71b014640..a537169e35f 100644
--- a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultConfigurationCache.kt
+++ b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultConfigurationCache.kt
@@ -851,7 +851,7 @@ class DefaultConfigurationCache internal constructor(
 
     private
     fun loadGradleProperties() {
-        gradlePropertiesController.loadGradlePropertiesFrom(startParameter.settingsDirectory, true)
+        gradlePropertiesController.loadGradlePropertiesFrom(startParameter.buildTreeRootDirectory, true)
     }
 
     private
diff --git a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultIgnoredConfigurationInputs.kt b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultIgnoredConfigurationInputs.kt
index 009e731d670..86b72e70b2a 100644
--- a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultIgnoredConfigurationInputs.kt
+++ b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/DefaultIgnoredConfigurationInputs.kt
@@ -30,7 +30,7 @@ import javax.inject.Inject
 class DefaultIgnoredConfigurationInputs(
     ignoredPathsString: String?,
     isCaseSensitive: Boolean,
-    private val rootDirectory: File
+    private val buildTreeRootDirectory: File
 ) : IgnoredConfigurationInputs {
 
     @Inject
@@ -41,7 +41,7 @@ class DefaultIgnoredConfigurationInputs(
     ) : this(
         ignoredPathsString = configurationCacheStartParameter.ignoredFileSystemCheckInputs,
         isCaseSensitive = fileSystem.isCaseSensitive,
-        rootDirectory = configurationCacheStartParameter.rootDirectory
+        buildTreeRootDirectory = configurationCacheStartParameter.buildTreeRootDirectory
     )
 
     private
@@ -75,7 +75,7 @@ class DefaultIgnoredConfigurationInputs(
 
     private
     fun maybeRelativize(file: File): File =
-        if (!file.isAbsolute) file else File(GFileUtils.relativePathOf(file, rootDirectory))
+        if (!file.isAbsolute) file else File(GFileUtils.relativePathOf(file, buildTreeRootDirectory))
 
     private
     fun wildcardsToRegexPatternString(pathWithWildcards: String): String {
diff --git a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/fingerprint/ConfigurationCacheInputFileChecker.kt b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/fingerprint/ConfigurationCacheInputFileChecker.kt
index bbc59a61467..25103cc277a 100644
--- a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/fingerprint/ConfigurationCacheInputFileChecker.kt
+++ b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/fingerprint/ConfigurationCacheInputFileChecker.kt
@@ -82,7 +82,7 @@ internal class DefaultConfigurationCacheInputFileCheckerHost(
         }
 
     override fun displayNameOf(fileOrDirectory: File): String =
-        GFileUtils.relativePathOf(fileOrDirectory, startParameter.rootDirectory)
+        GFileUtils.relativePathOf(fileOrDirectory, startParameter.buildTreeRootDirectory)
 
     private fun locationSnapshot(file: File): FileSystemLocationSnapshot =
         fileSystemAccess.read(file.absolutePath)
diff --git a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/initialization/ConfigurationCacheStartParameter.kt b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/initialization/ConfigurationCacheStartParameter.kt
index aedb0e3c672..a0f9782958d 100644
--- a/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/initialization/ConfigurationCacheStartParameter.kt
+++ b/platforms/core-configuration/configuration-cache/src/main/kotlin/org/gradle/internal/cc/impl/initialization/ConfigurationCacheStartParameter.kt
@@ -20,7 +20,7 @@ import org.gradle.StartParameter
 import org.gradle.api.internal.StartParameterInternal
 import org.gradle.api.logging.LogLevel
 import org.gradle.initialization.StartParameterBuildOptions.ConfigurationCacheProblemsOption
-import org.gradle.initialization.layout.BuildLayout
+import org.gradle.initialization.layout.BuildTreeLocations
 import org.gradle.internal.buildoption.InternalOptions
 import org.gradle.internal.buildtree.BuildModelParameters
 import org.gradle.internal.cc.impl.ConfigurationCacheLoggingParameters
@@ -35,7 +35,7 @@ import java.io.File
 
 @ServiceScope(Scope.BuildTree::class)
 class ConfigurationCacheStartParameter internal constructor(
-    private val buildLayout: BuildLayout,
+    private val buildTreeLocations: BuildTreeLocations,
     private val startParameter: StartParameterInternal,
     options: InternalOptions,
     private val modelParameters: BuildModelParameters,
@@ -131,11 +131,8 @@ class ConfigurationCacheStartParameter internal constructor(
     val currentDirectory: File
         get() = startParameter.currentDir
 
-    val settingsDirectory: File
-        get() = buildLayout.settingsDir
-
-    val rootDirectory: File
-        get() = buildLayout.rootDirectory
+    val buildTreeRootDirectory: File
+        get() = buildTreeLocations.buildTreeRootDirectory
 
     val isOffline
         get() = startParameter.isOffline
diff --git a/platforms/core-runtime/launcher/src/main/java/org/gradle/tooling/internal/provider/LauncherServices.java b/platforms/core-runtime/launcher/src/main/java/org/gradle/tooling/internal/provider/LauncherServices.java
index de145e5cfbe..2d892fe4218 100644
--- a/platforms/core-runtime/launcher/src/main/java/org/gradle/tooling/internal/provider/LauncherServices.java
+++ b/platforms/core-runtime/launcher/src/main/java/org/gradle/tooling/internal/provider/LauncherServices.java
@@ -31,7 +31,7 @@
 import org.gradle.initialization.BuildCancellationToken;
 import org.gradle.initialization.BuildEventConsumer;
 import org.gradle.initialization.BuildRequestMetaData;
-import org.gradle.initialization.layout.BuildLayout;
+import org.gradle.initialization.layout.BuildTreeLocations;
 import org.gradle.internal.build.BuildLayoutValidator;
 import org.gradle.internal.build.BuildStateRegistry;
 import org.gradle.internal.build.event.BuildEventListenerFactory;
@@ -216,7 +216,7 @@ BuildTreeActionExecutor createActionExecutor(
             FileHasherStatistics.Collector fileHasherStatisticsCollector,
             DirectorySnapshotterStatistics.Collector directorySnapshotterStatisticsCollector,
             BuildOperationRunner buildOperationRunner,
-            BuildLayout buildLayout,
+            BuildTreeLocations buildTreeLocations,
             ExceptionAnalyser exceptionAnalyser,
             List<ProblemReporter> problemReporters,
             BuildLoggerFactory buildLoggerFactory,
@@ -257,7 +257,7 @@ BuildTreeActionExecutor createActionExecutor(
                                     registry,
                                     new ProblemReportingBuildActionRunner(
                                         exceptionAnalyser,
-                                        buildLayout,
+                                        buildTreeLocations,
                                         problemReporters,
                                         new ChainingBuildActionRunner(buildActionRunners)
                                     )
diff --git a/platforms/software/dependency-management/src/main/java/org/gradle/api/internal/artifacts/DependencyManagementBuildTreeScopeServices.java b/platforms/software/dependency-management/src/main/java/org/gradle/api/internal/artifacts/DependencyManagementBuildTreeScopeServices.java
index e965c0ee93f..0d4544ed907 100644
--- a/platforms/software/dependency-management/src/main/java/org/gradle/api/internal/artifacts/DependencyManagementBuildTreeScopeServices.java
+++ b/platforms/software/dependency-management/src/main/java/org/gradle/api/internal/artifacts/DependencyManagementBuildTreeScopeServices.java
@@ -72,7 +72,7 @@
 import org.gradle.api.internal.filestore.DefaultArtifactIdentifierFileStore;
 import org.gradle.api.internal.filestore.TwoStageArtifactIdentifierFileStore;
 import org.gradle.api.internal.project.HoldsProjectState;
-import org.gradle.initialization.layout.BuildLayout;
+import org.gradle.initialization.layout.BuildTreeLocations;
 import org.gradle.internal.component.external.model.ModuleComponentGraphResolveStateFactory;
 import org.gradle.internal.component.local.model.LocalComponentGraphResolveStateFactory;
 import org.gradle.internal.component.model.ComponentIdGenerator;
@@ -177,9 +177,8 @@ ModuleDescriptorHashModuleSource.CODEC_ID, new ModuleDescriptorHashCodec()
     }
 
     @Provides
-    StartParameterResolutionOverride createStartParameterResolutionOverride(StartParameter startParameter, BuildLayout buildLayout) {
-        File rootDirectory = buildLayout.getRootDirectory();
-        File gradleDir = new File(rootDirectory, "gradle");
+    StartParameterResolutionOverride createStartParameterResolutionOverride(StartParameter startParameter, BuildTreeLocations buildTreeLocations) {
+        File gradleDir = new File(buildTreeLocations.getBuildTreeRootDirectory(), "gradle");
         return new StartParameterResolutionOverride(startParameter, gradleDir);
     }
 
diff --git a/subprojects/core/src/main/java/org/gradle/internal/buildtree/ProblemReportingBuildActionRunner.java b/subprojects/core/src/main/java/org/gradle/internal/buildtree/ProblemReportingBuildActionRunner.java
index f301d1e8a48..083244d3700 100644
--- a/subprojects/core/src/main/java/org/gradle/internal/buildtree/ProblemReportingBuildActionRunner.java
+++ b/subprojects/core/src/main/java/org/gradle/internal/buildtree/ProblemReportingBuildActionRunner.java
@@ -18,7 +18,7 @@
 
 import com.google.common.collect.ImmutableList;
 import org.gradle.api.invocation.Gradle;
-import org.gradle.initialization.layout.BuildLayout;
+import org.gradle.initialization.layout.BuildTreeLocations;
 import org.gradle.internal.InternalBuildAdapter;
 import org.gradle.internal.exception.ExceptionAnalyser;
 import org.gradle.internal.invocation.BuildAction;
@@ -33,18 +33,18 @@
 public class ProblemReportingBuildActionRunner implements BuildActionRunner {
     private final BuildActionRunner delegate;
     private final ExceptionAnalyser exceptionAnalyser;
-    private final BuildLayout buildLayout;
+    private final BuildTreeLocations buildTreeLocations;
     private final List<? extends ProblemReporter> reporters;
 
     public ProblemReportingBuildActionRunner(
         ExceptionAnalyser exceptionAnalyser,
-        BuildLayout buildLayout,
+        BuildTreeLocations buildTreeLocations,
         List<? extends ProblemReporter> reporters,
         BuildActionRunner delegate
     ) {
         this.delegate = delegate;
         this.exceptionAnalyser = exceptionAnalyser;
-        this.buildLayout = buildLayout;
+        this.buildTreeLocations = buildTreeLocations;
         this.reporters = ImmutableList.sortedCopyOf(Comparator.comparing(ProblemReporter::getId), reporters);
     }
 
@@ -80,7 +80,7 @@ private RootProjectBuildDirCollectingListener getRootProjectBuildDirCollectingLi
     }
 
     private File defaultRootBuildDirOf() {
-        return new File(buildLayout.getRootDirectory(), "build");
+        return new File(buildTreeLocations.getBuildTreeRootDirectory(), "build");
     }
 
     private static class RootProjectBuildDirCollectingListener extends InternalBuildAdapter {
diff --git a/subprojects/core/src/main/java/org/gradle/internal/service/scopes/CoreBuildSessionServices.java b/subprojects/core/src/main/java/org/gradle/internal/service/scopes/CoreBuildSessionServices.java
index 17ec1fb7f5b..ebf632fad07 100644
--- a/subprojects/core/src/main/java/org/gradle/internal/service/scopes/CoreBuildSessionServices.java
+++ b/subprojects/core/src/main/java/org/gradle/internal/service/scopes/CoreBuildSessionServices.java
@@ -42,6 +42,7 @@
 import org.gradle.initialization.layout.BuildLayout;
 import org.gradle.initialization.layout.BuildLayoutConfiguration;
 import org.gradle.initialization.layout.BuildLayoutFactory;
+import org.gradle.initialization.layout.BuildTreeLocations;
 import org.gradle.initialization.layout.ProjectCacheDir;
 import org.gradle.internal.build.BuildLayoutValidator;
 import org.gradle.internal.buildevents.BuildStartedTime;
@@ -102,24 +103,25 @@ CrossProjectConfigurator createCrossProjectConfigurator(BuildOperationRunner bui
     }
 
     @Provides
-    BuildLayout createBuildLocations(BuildLayoutFactory buildLayoutFactory, StartParameter startParameter) {
-        return buildLayoutFactory.getLayoutFor(new BuildLayoutConfiguration(startParameter));
+    BuildTreeLocations createBuildTreeLocations(BuildLayoutFactory buildLayoutFactory, StartParameter startParameter) {
+        BuildLayout rootBuildLayout = buildLayoutFactory.getLayoutFor(new BuildLayoutConfiguration(startParameter));
+        return new BuildTreeLocations(rootBuildLayout);
     }
 
     @Provides
-    FileResolver createFileResolver(FileLookup fileLookup, BuildLayout buildLayout) {
-        return fileLookup.getFileResolver(buildLayout.getRootDirectory());
+    FileResolver createFileResolver(FileLookup fileLookup, BuildTreeLocations buildTreeLocations) {
+        return fileLookup.getFileResolver(buildTreeLocations.getBuildTreeRootDirectory());
     }
 
     @Provides
     ProjectCacheDir createProjectCacheDir(
         GradleUserHomeDirProvider userHomeDirProvider,
-        BuildLayout buildLayout,
+        BuildTreeLocations buildTreeLocations,
         Deleter deleter,
         BuildOperationRunner buildOperationRunner,
         StartParameter startParameter
     ) {
-        BuildScopeCacheDir cacheDir = new BuildScopeCacheDir(userHomeDirProvider, buildLayout, startParameter);
+        BuildScopeCacheDir cacheDir = new BuildScopeCacheDir(userHomeDirProvider, buildTreeLocations.getRootBuildLayout(), startParameter);
         return new ProjectCacheDir(cacheDir.getDir(), buildOperationRunner, deleter);
     }
 
diff --git a/testing/architecture-test/src/changes/archunit-store/internal-api-nullability.txt b/testing/architecture-test/src/changes/archunit-store/internal-api-nullability.txt
index 5d1800f5ef9..9b13efc9325 100644
--- a/testing/architecture-test/src/changes/archunit-store/internal-api-nullability.txt
+++ b/testing/architecture-test/src/changes/archunit-store/internal-api-nullability.txt
@@ -1387,13 +1387,6 @@ Class <org.gradle.initialization.exception.ExceptionCollector> is not annotated
 Class <org.gradle.initialization.exception.InitializationException> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (InitializationException.java:0)
 Class <org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (MultipleBuildFailuresExceptionAnalyser.java:0)
 Class <org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (StackTraceSanitizingExceptionAnalyser.java:0)
-Class <org.gradle.initialization.layout.BuildLayout> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (BuildLayout.java:0)
-Class <org.gradle.initialization.layout.BuildLayoutConfiguration> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (BuildLayoutConfiguration.java:0)
-Class <org.gradle.initialization.layout.BuildLayoutFactory> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (BuildLayoutFactory.java:0)
-Class <org.gradle.initialization.layout.GlobalCacheDir> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (GlobalCacheDir.java:0)
-Class <org.gradle.initialization.layout.ProjectCacheDir$1> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (ProjectCacheDir.java:0)
-Class <org.gradle.initialization.layout.ProjectCacheDir> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (ProjectCacheDir.java:0)
-Class <org.gradle.initialization.layout.ResolvedBuildLayout> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (ResolvedBuildLayout.java:0)
 Class <org.gradle.initialization.properties.DefaultProjectPropertiesLoader> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (DefaultProjectPropertiesLoader.java:0)
 Class <org.gradle.initialization.properties.DefaultSystemPropertiesInstaller> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (DefaultSystemPropertiesInstaller.java:0)
 Class <org.gradle.initialization.properties.MutableGradleProperties> is not annotated (directly or via its package) with @org.jspecify.annotations.NullMarked in (MutableGradleProperties.java:0)
