diff --git a/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java b/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java
index 4aaef051ef..89791c58a3 100644
--- a/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java
+++ b/inject-java/src/main/java/io/micronaut/annotation/processing/JavaAnnotationMetadataBuilder.java
@@ -373,15 +373,18 @@ public class JavaAnnotationMetadataBuilder extends AbstractAnnotationMetadataBui
             Object resolvedValue = resolver.resolvedValue;
 
             if (resolvedValue != null) {
-                if ("<error>".equals(resolvedValue) &&
-                    Class.class.getName().equals(this.modelUtils.resolveTypeName(((ExecutableElement) member).getReturnType()))) {
-                    resolvedValue = new AnnotationClassValue<>(
-                        new AnnotationClassValue.UnresolvedClass(new PostponeToNextRoundException(
-                            originatingElement,
-                            originatingElement.getSimpleName().toString() + "@" + annotationName + "(" + memberName + ")"
-                        ))
-                    );
-                    annotationValues.put(memberName, resolvedValue);
+                if ("<error>".equals(resolvedValue)) {
+                    if (Class.class.getName().equals(this.modelUtils.resolveTypeName(((ExecutableElement) member).getReturnType()))) {
+                        resolvedValue = new AnnotationClassValue<>(
+                            new AnnotationClassValue.UnresolvedClass(new PostponeToNextRoundException(
+                                originatingElement,
+                                originatingElement.getSimpleName().toString() + "@" + annotationName + "(" + memberName + ")"
+                            ))
+                        );
+                        annotationValues.put(memberName, resolvedValue);
+                    } else {
+                        throw new PostponeToNextRoundException(originatingElement,  memberName);
+                    }
                 } else {
                     if (isEvaluatedExpression(resolvedValue)) {
                         resolvedValue = buildEvaluatedExpressionReference(originatingElement, annotationName, memberName, resolvedValue);
diff --git a/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java b/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java
index 185d04562c..ad3a25daac 100644
--- a/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java
+++ b/inject-java/src/main/java/io/micronaut/annotation/processing/TypeElementVisitorProcessor.java
@@ -274,12 +274,15 @@ public class TypeElementVisitorProcessor extends AbstractInjectAnnotationProcess
                 List<JavaClassElement> javaClassElements = elements.stream()
                     .map(typeElement -> elementFactory.newSourceClassElement(typeElement, elementAnnotationMetadataFactory))
                     .collect(Collectors.toCollection(() -> new ArrayList<>(elements.size())));
-
                 List<ClassElement> extraClasses = new ArrayList<>();
-                for (JavaClassElement javaClassElement : javaClassElements) {
-                    extraClasses.addAll(VisitorUtils.collectImportedElements(javaClassElement, javaVisitorContext));
+                for (JavaClassElement javaClassElement : new ArrayList<>(javaClassElements)) {
+                    try {
+                        extraClasses.addAll(VisitorUtils.collectImportedElements(javaClassElement, javaVisitorContext));
+                        javaClassElements.addAll((Collection) extraClasses);
+                    } catch (PostponeToNextRoundException e) {
+                        postponeElement(javaClassElement, e.getNativeErrorElement(), e);
+                    }
                 }
-                javaClassElements.addAll((Collection) extraClasses);
 
                 for (LoadedVisitor loadedVisitor : loadedVisitors) {
                     for (JavaClassElement javaClassElement : javaClassElements) {
