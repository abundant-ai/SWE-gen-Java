diff --git a/.github/dependabot.yml b/.github/dependabot.yml
index 96ab685e8..5c19f255d 100644
--- a/.github/dependabot.yml
+++ b/.github/dependabot.yml
@@ -18,3 +18,18 @@ updates:
     schedule:
       interval: "weekly"
     labels: [ ]
+  - package-ecosystem: "github-actions"
+    directory: "/.github/actions/main-build"
+    schedule:
+      interval: "weekly"
+    labels: [ ]
+  - package-ecosystem: "github-actions"
+    directory: "/.github/actions/run-gradle"
+    schedule:
+      interval: "weekly"
+    labels: [ ]
+  - package-ecosystem: "github-actions"
+    directory: "/.github/actions/setup-test-jdk"
+    schedule:
+      interval: "weekly"
+    labels: [ ]
diff --git a/README.md b/README.md
index 21d803d3a..61f0b3fe3 100644
--- a/README.md
+++ b/README.md
@@ -78,6 +78,10 @@ consumption in other projects via the following command.
 
 ## Dependency Metadata
 
+[![JUnit Jupiter version](https://img.shields.io/maven-central/v/org.junit.jupiter/junit-jupiter/5..svg?color=25a162&label=Jupiter)](https://central.sonatype.com/search?namespace=org.junit.jupiter)
+[![JUnit Vintage version](https://img.shields.io/maven-central/v/org.junit.vintage/junit-vintage-engine/5..svg?color=25a162&label=Vintage)](https://central.sonatype.com/search?namespace=org.junit.vintage)
+[![JUnit Platform version](https://img.shields.io/maven-central/v/org.junit.platform/junit-platform-commons/1..svg?color=25a162&label=Platform)](https://central.sonatype.com/search?namespace=org.junit.platform)
+
 Consult the [Dependency Metadata] section of the [User Guide] for a list of all artifacts
 of the JUnit Platform, JUnit Jupiter, and JUnit Vintage.
 
diff --git a/documentation/documentation.gradle.kts b/documentation/documentation.gradle.kts
index 947d80f8c..5167b3caf 100644
--- a/documentation/documentation.gradle.kts
+++ b/documentation/documentation.gradle.kts
@@ -66,6 +66,7 @@ asciidoctorj {
 		diagram.use()
 		pdf.version(libs.versions.asciidoctor.pdf)
 	}
+	requires(file("src/docs/asciidoc/resources/themes/rouge_junit.rb"))
 }
 
 val snapshot = rootProject.version.toString().contains("SNAPSHOT")
@@ -249,6 +250,7 @@ tasks {
 				"standaloneConsoleLauncherShadowedArtifactsFile" to standaloneConsoleLauncherShadowedArtifactsFile.get(),
 				"outdir" to outputDir.absolutePath,
 				"source-highlighter" to "rouge",
+				"rouge-style" to "junit",
 				"tabsize" to "4",
 				"toc" to "left",
 				"icons" to "font",
diff --git a/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc b/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc
index 4fa7d747f..9a11fb59b 100644
--- a/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc
+++ b/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc
@@ -30,6 +30,12 @@ repository on GitHub.
   `@Suite` and related annotations, and others.
 * All utility methods in `ReflectionSupport` that return a `List` now have counterparts
   which return a `Stream`.
+* `ReflectionSupport.findMethod(Class<?>, String, String)` now uses the `ClassLoader` of
+  the supplied `Class` to load parameter types instead of using the _default_
+  `ClassLoader`. This allows parameter types to be resolved in non-standard `ClassLoader`
+  arrangements (such as OSGi). Consequently,
+  `DiscoverySelectors.selectMethod(Class<?>, String, String)` also now works properly in
+  non-standard `ClassLoader` arrangements.
 * For consistency with JUnit Jupiter lifecycle callbacks, listener method pairs for
   started/finished and opened/closed events are now invoked using "wrapping" semantics.
   This means that finished/closed event methods are invoked in reverse order compared to
@@ -56,10 +62,6 @@ repository on GitHub.
   test engines and their extensions.
 * New dry-run mode to simulate test execution without actually running tests. Please refer
   to the <<../user-guide/index.adoc#launcher-api-dry-run-mode, User Guide>> for details.
-* Stack traces produced by failing tests are now pruned of calls from the `org.junit`,
-  `java`, and `jdk` packages by default. This feature can be disabled or configured to
-  prune other calls via configurations parameters. Please refer to the
-  <<../user-guide/index.adoc#stacktrace-pruning, User Guide>> for details.
 
 
 [[release-notes-5.10.0-M1-junit-jupiter]]
@@ -104,6 +106,8 @@ repository on GitHub.
   temporary directories. See the
   <<../user-guide/index.adoc#writing-tests-built-in-extensions-TempDirectory, User Guide>>
   for details.
+* New `junit.jupiter.tempdir.factory.default` configuration parameter to set the default
+  `TempDirFactory` for temporary directories.
 * If `@MethodSource` is used with a non-static factory method that should be `static`, the
   exception thrown now provides the user a meaningful explanation of how to address the
   problem.
diff --git a/documentation/src/docs/asciidoc/resources/themes/rouge_junit.rb b/documentation/src/docs/asciidoc/resources/themes/rouge_junit.rb
new file mode 100644
index 000000000..ec6a46109
--- /dev/null
+++ b/documentation/src/docs/asciidoc/resources/themes/rouge_junit.rb
@@ -0,0 +1,147 @@
+require 'rouge' unless defined? ::Rouge.version
+
+module Rouge; module Themes
+
+  class JUnit < CSSTheme
+    name 'junit'
+
+     # This is an extension of the official "github" theme to remove accessibility issues in code blocks
+     # Primer primitives (https://github.com/primer/primitives/tree/main/src/tokens)
+    P_RED_0        = {:light => '#ffebe9', :dark => '#ffdcd7'}
+    P_RED_3        = {:dark => '#ff7b72'}
+    P_RED_5        = {:light => '#cf222e'}
+    P_RED_7        = {:light => '#82071e', :dark => '#8e1519'}
+    P_RED_8        = {:dark => '#67060c'}
+    P_ORANGE_2     = {:dark => '#ffa657'}
+    P_ORANGE_6     = {:light => '#953800'}
+    P_GREEN_0      = {:light => '#dafbe1', :dark => '#aff5b4'}
+    P_GREEN_1      = {:dark => '#7ee787'}
+    P_GREEN_6      = {:light => '#116329'}
+    P_GREEN_8      = {:dark => '#033a16'}
+    P_BLUE_1       = {:dark => '#a5d6ff'}
+    P_BLUE_2       = {:dark => '#79c0ff'}
+    P_BLUE_5       = {:dark => '#1f6feb'}
+    P_BLUE_6       = {:light => '#0550ae'}
+    P_BLUE_8       = {:light => '#0a3069'}
+    P_PURPLE_2     = {:dark => '#d2a8ff'}
+    P_PURPLE_5     = {:light => '#8250df'}
+    P_GRAY_0       = {:light => '#f6f8fa', :dark => '#f0f6fc'}
+    P_GRAY_1       = {:dark => '#c9d1d9'}
+    P_GRAY_3       = {:dark => '#8b949e'}
+    P_GRAY_5       = {:light => '#34383d'} # '#6e7781'
+    P_GRAY_8       = {:dark => '#161b22'}
+    P_GRAY_9       = {:light => '#24292f'}
+
+    extend HasModes
+
+    def self.light!
+     mode :dark # indicate that there is a dark variant
+     mode! :light
+    end
+
+    def self.dark!
+     mode :light # indicate that there is a light variant
+     mode! :dark
+    end
+
+    def self.make_dark!
+     palette :comment     => P_GRAY_3[@mode]
+     palette :constant    => P_BLUE_2[@mode]
+     palette :entity      => P_PURPLE_2[@mode]
+     palette :heading     => P_BLUE_5[@mode]
+     palette :keyword     => P_RED_3[@mode]
+     palette :string      => P_BLUE_1[@mode]
+     palette :tag         => P_GREEN_1[@mode]
+     palette :variable    => P_ORANGE_2[@mode]
+
+     palette :fgDefault   => P_GRAY_1[@mode]
+     palette :bgDefault   => P_GRAY_8[@mode]
+
+     palette :fgInserted  => P_GREEN_0[@mode]
+     palette :bgInserted  => P_GREEN_8[@mode]
+
+     palette :fgDeleted   => P_RED_0[@mode]
+     palette :bgDeleted   => P_RED_8[@mode]
+
+     palette :fgError     => P_GRAY_0[@mode]
+     palette :bgError     => P_RED_7[@mode]
+    end
+
+    def self.make_light!
+     palette :comment     => P_GRAY_5[@mode]
+     palette :constant    => P_BLUE_6[@mode]
+     palette :entity      => P_PURPLE_5[@mode]
+     palette :heading     => P_BLUE_6[@mode]
+     palette :keyword     => P_RED_5[@mode]
+     palette :string      => P_BLUE_8[@mode]
+     palette :tag         => P_GREEN_6[@mode]
+     palette :variable    => P_ORANGE_6[@mode]
+
+     palette :fgDefault   => P_GRAY_9[@mode]
+     palette :bgDefault   => P_GRAY_0[@mode]
+
+     palette :fgInserted  => P_GREEN_6[@mode]
+     palette :bgInserted  => P_GREEN_0[@mode]
+
+     palette :fgDeleted   => P_RED_7[@mode]
+     palette :bgDeleted   => P_RED_0[@mode]
+
+     palette :fgError     => P_GRAY_0[@mode]
+     palette :bgError     => P_RED_7[@mode]
+    end
+
+    light!
+
+    style Text,                       :fg => :fgDefault, :bg => :bgDefault
+
+    style Keyword,                    :fg => :keyword
+
+    style Generic::Error,             :fg => :fgError
+
+    style Generic::Deleted,           :fg => :fgDeleted, :bg => :bgDeleted
+
+    style Name::Builtin,
+         Name::Class,
+         Name::Constant,
+         Name::Namespace,            :fg => :variable
+
+    style Literal::String::Regex,
+         Name::Attribute,
+         Name::Tag,                  :fg => :tag
+
+    style Generic::Inserted,          :fg => :fgInserted, :bg => :bgInserted
+
+    style Keyword::Constant,
+         Literal,
+         Literal::String::Backtick,
+         Name::Builtin::Pseudo,
+         Name::Exception,
+         Name::Label,
+         Name::Property,
+         Name::Variable,
+         Operator,                   :fg => :constant
+
+    style Generic::Heading,
+         Generic::Subheading,        :fg => :heading, :bold => true
+
+    style Literal::String,            :fg => :string
+
+    style Name::Decorator,
+         Name::Function,             :fg => :entity
+
+    style Error,                      :fg => :fgError, :bg => :bgError
+
+    style Comment,
+         Generic::Lineno,
+         Generic::Traceback,         :fg => :comment
+
+    style Name::Entity,
+         Literal::String::Interpol,  :fg => :fgDefault
+
+    style Generic::Emph,              :fg => :fgDefault, :italic => true
+
+    style Generic::Strong,            :fg => :fgDefault, :bold => true
+
+  end
+end; end
+
diff --git a/documentation/src/docs/asciidoc/user-guide/running-tests.adoc b/documentation/src/docs/asciidoc/user-guide/running-tests.adoc
index 507a60f90..e454b70c4 100644
--- a/documentation/src/docs/asciidoc/user-guide/running-tests.adoc
+++ b/documentation/src/docs/asciidoc/user-guide/running-tests.adoc
@@ -878,7 +878,6 @@ parameters_ used for the following features.
 
 - <<extensions-conditions-deactivation>>
 - <<launcher-api-listeners-custom-deactivation>>
-- <<stacktrace-pruning>>
 
 If the value for the given _configuration parameter_ consists solely of an asterisk
 (`+++*+++`), the pattern will match against all candidate classes. Otherwise, the value
@@ -1095,28 +1094,3 @@ https://jdk.java.net/jmc/[JDK Mission Control].
 WARNING: Flight Recorder support is currently an _experimental_ feature. You're invited to
 give it a try and provide feedback to the JUnit team so they can improve and eventually
 <<api-evolution, promote>> this feature.
-
-[[stacktrace-pruning]]
-=== Stack trace pruning
-
-Since version 1.10, the JUnit Platform provides built-in support for pruning stack traces
-produced by failing tests. This feature can be enabled or disabled via the
-`junit.platform.stacktrace.pruning.enabled` _configuration parameter_.
-
-By default, all calls from the `org.junit`, `java`, and `jdk` packages are removed from the
-stack trace. You can also configure the JUnit Platform to exclude different or additional
-calls. To do this, provide a pattern for the `junit.platform.stacktrace.pruning.pattern`
-_configuration parameter_ to specify which fully qualified class names should be excluded
-from the stack traces.
-
-In addition, and independently of the provided pattern, all elements prior to and
-including the first call from the JUnit Platform Launcher will be removed.
-
-NOTE: Since they provide necessary insights to understand a test failure, calls to
-`{Assertions}` or `{Assumptions}` will never be excluded from stack traces even though
-they are part of the `org.junit` package.
-
-[[stacktrace-pruning-pattern]]
-==== Pattern Matching Syntax
-
-Refer to <<running-tests-config-params-deactivation-pattern>> for details.
diff --git a/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc b/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc
index 9b355fce5..757a72a29 100644
--- a/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc
+++ b/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc
@@ -1303,7 +1303,7 @@ for parameterized tests that accept a single argument.
   `java.util.List`, `java.util.Set`, `java.util.SortedSet`, `java.util.NavigableSet`,
   `java.util.Map` (and concrete subtypes with a `public` no-arg constructor,
   `java.util.SortedMap`, `java.util.NavigableMap`, primitive arrays (e.g., `int[]`,
-  `char[][]`, etc.), object arrays (e.g.,`String[]`, `Integer[][]`, etc.).
+  `char[][]`, etc.), object arrays (e.g., `String[]`, `Integer[][]`, etc.).
 * `{NullAndEmptySource}`: a _composed annotation_ that combines the functionality of
   `@NullSource` and `@EmptySource`.
 
@@ -2643,3 +2643,19 @@ temporary directory. The following example shows how to do it.
 ----
 include::{testDir}/example/TempDirectoryDemo.java[tags=user_guide_factory_jimfs]
 ----
+
+You can use the `junit.jupiter.tempdir.factory.default`
+<<running-tests-config-params, configuration parameter>> to specify the fully qualified
+class name of the `TempDirFactory` you would like to use by default. Just like for
+factories configured via the `factory` attribute of the `@TempDir` annotation,
+the supplied class has to implement the `TempDirFactory` interface. The default factory
+will be used for all `@TempDir` annotations unless the `factory` attribute of the
+annotation specifies a different factory.
+
+In summary, the factory for a temporary directory is determined according to the
+following precedence rules:
+
+1. The `factory` attribute of the `@TempDir` annotation, if present
+2. The default `TempDirFactory` configured via the configuration
+parameter, if present
+3. Otherwise, `org.junit.jupiter.api.io.TempDirFactory$Standard` will be used.
diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
index 4292406a8..eef6fddd7 100644
--- a/gradle/libs.versions.toml
+++ b/gradle/libs.versions.toml
@@ -32,7 +32,7 @@ classgraph = { module = "io.github.classgraph:classgraph", version = "4.8.157" }
 commons-io = { module = "commons-io:commons-io", version = "2.11.0" }
 gradle-commonCustomUserData = { module = "com.gradle:common-custom-user-data-gradle-plugin", version = "1.10" }
 gradle-foojayResolver = { module = "org.gradle.toolchains:foojay-resolver", version = "0.5.0" }
-gradle-enterprise = { module = "com.gradle:gradle-enterprise-gradle-plugin", version = "3.13" }
+gradle-enterprise = { module = "com.gradle:gradle-enterprise-gradle-plugin", version = "3.13.1" }
 gradle-bnd = { module = "biz.aQute.bnd:biz.aQute.bnd.gradle", version.ref = "bnd" }
 gradle-shadow = { module = "gradle.plugin.com.github.johnrengelman:shadow", version = "8.0.0" }
 gradle-spotless = { module = "com.diffplug.spotless:spotless-plugin-gradle", version = "6.18.0" }
@@ -46,7 +46,7 @@ jmh-core = { module = "org.openjdk.jmh:jmh-core", version.ref = "jmh" }
 jmh-generator-annprocess = { module = "org.openjdk.jmh:jmh-generator-annprocess", version.ref = "jmh" }
 joox = { module = "org.jooq:joox", version = "2.0.0" }
 junit4 = { module = "junit:junit", version = { require = "[4.12,)", prefer = "4.13.2" } }
-kotlinx-coroutines = { module = "org.jetbrains.kotlinx:kotlinx-coroutines-core", version = "1.6.4" }
+kotlinx-coroutines = { module = "org.jetbrains.kotlinx:kotlinx-coroutines-core", version = "1.7.0" }
 log4j-core = { module = "org.apache.logging.log4j:log4j-core", version.ref = "log4j" }
 log4j-jul = { module = "org.apache.logging.log4j:log4j-jul", version.ref = "log4j" }
 maven = { module = "org.apache.maven:apache-maven", version = "3.9.1" }
diff --git a/gradle/plugins/common/src/main/kotlin/junitbuild.testing-conventions.gradle.kts b/gradle/plugins/common/src/main/kotlin/junitbuild.testing-conventions.gradle.kts
index 122db6b5b..8a1cdd899 100644
--- a/gradle/plugins/common/src/main/kotlin/junitbuild.testing-conventions.gradle.kts
+++ b/gradle/plugins/common/src/main/kotlin/junitbuild.testing-conventions.gradle.kts
@@ -41,7 +41,6 @@ tasks.withType<Test>().configureEach {
 		server.set(uri("https://ge.junit.org"))
 	}
 	systemProperty("java.util.logging.manager", "org.apache.logging.log4j.jul.LogManager")
-	systemProperty("junit.platform.stacktrace.pruning.enabled", false)
 	// Required until ASM officially supports the JDK 14
 	systemProperty("net.bytebuddy.experimental", true)
 	if (buildParameters.testing.enableJFR) {
diff --git a/gradle/plugins/settings.gradle.kts b/gradle/plugins/settings.gradle.kts
index 411d60f78..0b948c46d 100644
--- a/gradle/plugins/settings.gradle.kts
+++ b/gradle/plugins/settings.gradle.kts
@@ -1,3 +1,9 @@
+val expectedJavaVersion = JavaVersion.VERSION_17
+val actualJavaVersion = JavaVersion.current()
+require(actualJavaVersion == expectedJavaVersion) {
+	"The JUnit 5 build must be executed with Java ${expectedJavaVersion.majorVersion}. Currently executing with Java ${actualJavaVersion.majorVersion}."
+}
+
 dependencyResolutionManagement {
 	versionCatalogs {
 		create("libs") {
diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/Timeout.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/Timeout.java
index db9cc94cb..f80d8bf6f 100644
--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/Timeout.java
+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/Timeout.java
@@ -298,7 +298,7 @@ public @interface Timeout {
 	String DEFAULT_AFTER_ALL_METHOD_TIMEOUT_PROPERTY_NAME = "junit.jupiter.execution.timeout.afterall.method.default";
 
 	/**
-	 * Property used to determine if timeouts are applied to tests: {@value}.
+	 * Property name used to configure whether timeouts are applied to tests: {@value}.
 	 *
 	 * <p>The value of this property will be used to toggle whether
 	 * {@link Timeout @Timeout} is applied to tests.</p>
diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/ExtendWith.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/ExtendWith.java
index dbee47c2c..1030887ac 100644
--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/ExtendWith.java
+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/ExtendWith.java
@@ -76,10 +76,13 @@ import org.apiguardian.api.API;
  * <li>{@link AfterTestExecutionCallback}</li>
  * <li>{@link TestInstanceFactory}</li>
  * <li>{@link TestInstancePostProcessor}</li>
+ * <li>{@link TestInstancePreConstructCallback}</li>
  * <li>{@link TestInstancePreDestroyCallback}</li>
  * <li>{@link ParameterResolver}</li>
+ * <li>{@link LifecycleMethodExecutionExceptionHandler}</li>
  * <li>{@link TestExecutionExceptionHandler}</li>
  * <li>{@link TestTemplateInvocationContextProvider}</li>
+ * <li>{@link TestWatcher}</li>
  * </ul>
  *
  * @since 5.0
diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/RegisterExtension.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/RegisterExtension.java
index c3f89728f..16c51bfd3 100644
--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/RegisterExtension.java
+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/RegisterExtension.java
@@ -124,8 +124,10 @@ import org.apiguardian.api.API;
  * <li>{@link AfterTestExecutionCallback}</li>
  * <li>{@link TestInstanceFactory}</li>
  * <li>{@link TestInstancePostProcessor}</li>
+ * <li>{@link TestInstancePreConstructCallback}</li>
  * <li>{@link TestInstancePreDestroyCallback}</li>
  * <li>{@link ParameterResolver}</li>
+ * <li>{@link LifecycleMethodExecutionExceptionHandler}</li>
  * <li>{@link TestExecutionExceptionHandler}</li>
  * <li>{@link TestTemplateInvocationContextProvider}</li>
  * <li>{@link TestWatcher}</li>
diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java
index 01a7be31d..2a39549fd 100644
--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java
+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java
@@ -26,7 +26,6 @@ import java.nio.file.Path;
 import org.apiguardian.api.API;
 import org.junit.jupiter.api.extension.ExtensionConfigurationException;
 import org.junit.jupiter.api.extension.ParameterResolutionException;
-import org.junit.jupiter.api.io.TempDirFactory.Standard;
 
 /**
  * {@code @TempDir} can be used to annotate a field in a test class or a
@@ -97,22 +96,47 @@ import org.junit.jupiter.api.io.TempDirFactory.Standard;
 @API(status = STABLE, since = "5.10")
 public @interface TempDir {
 
+	/**
+	 * Property name used to set the default temporary directory factory class name:
+	 * {@value}
+	 *
+	 * <h4>Supported Values</h4>
+	 *
+	 * <p>Supported values include fully qualified class names for types that
+	 * implement {@link TempDirFactory}.
+	 *
+	 * <p>If not specified, the default is {@link TempDirFactory.Standard}.
+	 *
+	 * @since 5.10
+	 */
+	@API(status = EXPERIMENTAL, since = "5.10")
+	String DEFAULT_FACTORY_PROPERTY_NAME = "junit.jupiter.tempdir.factory.default";
+
 	/**
 	 * Factory for the temporary directory.
 	 *
-	 * <p>If {@value #SCOPE_PROPERTY_NAME} is set to {@code per_context}, no
-	 * custom factory is allowed.
+	 * <p>If the {@value #SCOPE_PROPERTY_NAME} configuration parameter is set to
+	 * {@code per_context}, no custom factory is allowed.
+	 *
+	 * <p>Defaults to {@link TempDirFactory.Standard}.
 	 *
-	 * @return the class instance of the factory
+	 * <p>As an alternative to setting this attribute, a global
+	 * {@link TempDirFactory} can be configured for the entire test suite via
+	 * the {@value #DEFAULT_FACTORY_PROPERTY_NAME} configuration parameter.
+	 * See the User Guide for details. Note, however, that a {@code @TempDir}
+	 * declaration with a custom {@code factory} always overrides a global
+	 * {@code TempDirFactory}.
 	 *
+	 * @return the type of {@code TempDirFactory} to use
 	 * @since 5.10
+	 * @see TempDirFactory
 	 */
 	@API(status = EXPERIMENTAL, since = "5.10")
-	Class<? extends TempDirFactory> factory() default Standard.class;
+	Class<? extends TempDirFactory> factory() default TempDirFactory.class;
 
 	/**
 	 * Property name used to set the scope of temporary directories created via
-	 * {@link TempDir @TempDir} annotation: {@value}
+	 * the {@link TempDir @TempDir} annotation: {@value}
 	 *
 	 * <h4>Supported Values</h4>
 	 * <ul>
diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDirFactory.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDirFactory.java
index 1f6958257..910daec3e 100644
--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDirFactory.java
+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDirFactory.java
@@ -16,7 +16,6 @@ import java.io.Closeable;
 import java.io.IOException;
 import java.nio.file.Files;
 import java.nio.file.Path;
-import java.nio.file.attribute.FileAttribute;
 
 import org.apiguardian.api.API;
 import org.junit.jupiter.api.extension.ExtensionContext;
@@ -25,13 +24,15 @@ import org.junit.jupiter.api.extension.ExtensionContext;
  * {@code TempDirFactory} defines the SPI for creating temporary directories
  * programmatically.
  *
- * <p>A temporary directory factory is typically used to gain more control on
- * the temporary directory creation, like defining the parent directory or even
- * the file system that should be used.
+ * <p>A temporary directory factory is typically used to gain control over the
+ * temporary directory creation, like defining the parent directory or the file
+ * system that should be used.
  *
  * <p>Concrete implementations must have a <em>default constructor</em>.
  *
- * <p>A {@link TempDirFactory} can be configured <em>locally</em>
+ * <p>A {@link TempDirFactory} can be configured <em>globally</em> for the
+ * entire test suite via the {@value TempDir#DEFAULT_FACTORY_PROPERTY_NAME}
+ * configuration parameter (see the User Guide for details) or <em>locally</em>
  * for a test class field or method parameter via the {@link TempDir @TempDir}
  * annotation.
  *
@@ -43,12 +44,14 @@ import org.junit.jupiter.api.extension.ExtensionContext;
 public interface TempDirFactory extends Closeable {
 
 	/**
-	 * Create a new temporary directory, using the given prefix to generate its name.
-	 * Depending on the implementation, the resulting {@code Path} may or may not be
-	 * associated with the default {@code FileSystem}.
+	 * Create a new temporary directory.
+	 *
+	 * <p>Depending on the implementation, the resulting {@link Path} may or may
+	 * not be associated with the {@link java.nio.file.FileSystems#getDefault()
+	 * default FileSystem}.
 	 *
 	 * @param context the current extension context; never {@code null}
-	 * @return the path to the newly created directory that did not exist before this method was invoked; never {@code null}
+	 * @return the path to the newly created temporary directory; never {@code null}
 	 * @throws Exception in case of failures
 	 */
 	Path createTempDirectory(ExtensionContext context) throws Exception;
@@ -61,10 +64,10 @@ public interface TempDirFactory extends Closeable {
 	}
 
 	/**
-	 * Standard temporary directory factory that delegates to
-	 * {@link Files#createTempDirectory}.
+	 * Standard {@link TempDirFactory} implementation which delegates to
+	 * {@link Files#createTempDirectory} using {@code "junit"} as the prefix.
 	 *
-	 * @see Files#createTempDirectory(String, FileAttribute[])
+	 * @see Files#createTempDirectory(java.lang.String, java.nio.file.attribute.FileAttribute[])
 	 */
 	class Standard implements TempDirFactory {
 
diff --git a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/Constants.java b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/Constants.java
index fbde0fc11..2c7b509c9 100644
--- a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/Constants.java
+++ b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/Constants.java
@@ -315,7 +315,7 @@ public final class Constants {
 	public static final String DEFAULT_AFTER_ALL_METHOD_TIMEOUT_PROPERTY_NAME = Timeout.DEFAULT_AFTER_ALL_METHOD_TIMEOUT_PROPERTY_NAME;
 
 	/**
-	 * Property used to determine if timeouts are applied to tests: {@value}.
+	 * Property name used to configure whether timeouts are applied to tests: {@value}.
 	 *
 	 * @see Timeout#TIMEOUT_MODE_PROPERTY_NAME
 	 */
@@ -340,7 +340,7 @@ public final class Constants {
 
 	/**
 	 * Property name used to set the scope of temporary directories created via
-	 * {@link TempDir @TempDir} annotation: {@value}
+	 * the {@link TempDir @TempDir} annotation: {@value}
 	 *
 	 * @see TempDir#SCOPE_PROPERTY_NAME
 	 */
@@ -359,6 +359,16 @@ public final class Constants {
 	@API(status = EXPERIMENTAL, since = "5.9")
 	public static final String DEFAULT_TIMEOUT_THREAD_MODE_PROPERTY_NAME = Timeout.DEFAULT_TIMEOUT_THREAD_MODE_PROPERTY_NAME;
 
+	/**
+	 * Property name used to set the default factory for temporary directories created via
+	 * the {@link TempDir @TempDir} annotation: {@value}
+	 *
+	 * @since 5.10
+	 * @see TempDir#DEFAULT_FACTORY_PROPERTY_NAME
+	 */
+	@API(status = EXPERIMENTAL, since = "5.10")
+	public static final String DEFAULT_TEMP_DIR_FACTORY_PROPERTY_NAME = TempDir.DEFAULT_FACTORY_PROPERTY_NAME;
+
 	private Constants() {
 		/* no-op */
 	}
diff --git a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/CachingJupiterConfiguration.java b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/CachingJupiterConfiguration.java
index ebf547344..2d61b58c1 100644
--- a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/CachingJupiterConfiguration.java
+++ b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/CachingJupiterConfiguration.java
@@ -12,11 +12,13 @@ package org.junit.jupiter.engine.config;
 
 import static org.apiguardian.api.API.Status.INTERNAL;
 import static org.junit.jupiter.api.io.TempDir.DEFAULT_CLEANUP_MODE_PROPERTY_NAME;
+import static org.junit.jupiter.api.io.TempDir.DEFAULT_FACTORY_PROPERTY_NAME;
 
 import java.util.Optional;
 import java.util.concurrent.ConcurrentHashMap;
 import java.util.function.Function;
 import java.util.function.Predicate;
+import java.util.function.Supplier;
 
 import org.apiguardian.api.API;
 import org.junit.jupiter.api.ClassOrderer;
@@ -25,6 +27,7 @@ import org.junit.jupiter.api.MethodOrderer;
 import org.junit.jupiter.api.TestInstance;
 import org.junit.jupiter.api.extension.ExecutionCondition;
 import org.junit.jupiter.api.io.CleanupMode;
+import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.api.parallel.ExecutionMode;
 
 /**
@@ -115,4 +118,11 @@ public class CachingJupiterConfiguration implements JupiterConfiguration {
 			key -> delegate.getDefaultTempDirCleanupMode());
 	}
 
+	@SuppressWarnings("unchecked")
+	@Override
+	public Supplier<TempDirFactory> getDefaultTempDirFactorySupplier() {
+		return (Supplier<TempDirFactory>) cache.computeIfAbsent(DEFAULT_FACTORY_PROPERTY_NAME,
+			key -> delegate.getDefaultTempDirFactorySupplier());
+	}
+
 }
diff --git a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/DefaultJupiterConfiguration.java b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/DefaultJupiterConfiguration.java
index ae8a49449..d64c4ceee 100644
--- a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/DefaultJupiterConfiguration.java
+++ b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/DefaultJupiterConfiguration.java
@@ -13,10 +13,12 @@ package org.junit.jupiter.engine.config;
 import static org.apiguardian.api.API.Status.INTERNAL;
 import static org.junit.jupiter.api.io.CleanupMode.ALWAYS;
 import static org.junit.jupiter.api.io.TempDir.DEFAULT_CLEANUP_MODE_PROPERTY_NAME;
+import static org.junit.jupiter.api.io.TempDir.DEFAULT_FACTORY_PROPERTY_NAME;
 
 import java.util.Optional;
 import java.util.function.Function;
 import java.util.function.Predicate;
+import java.util.function.Supplier;
 
 import org.apiguardian.api.API;
 import org.junit.jupiter.api.ClassOrderer;
@@ -25,6 +27,7 @@ import org.junit.jupiter.api.MethodOrderer;
 import org.junit.jupiter.api.TestInstance.Lifecycle;
 import org.junit.jupiter.api.extension.ExecutionCondition;
 import org.junit.jupiter.api.io.CleanupMode;
+import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.api.parallel.ExecutionMode;
 import org.junit.platform.commons.util.ClassNamePatternFilterUtils;
 import org.junit.platform.commons.util.Preconditions;
@@ -56,6 +59,9 @@ public class DefaultJupiterConfiguration implements JupiterConfiguration {
 	private static final EnumConfigurationParameterConverter<CleanupMode> cleanupModeConverter = //
 		new EnumConfigurationParameterConverter<>(CleanupMode.class, "cleanup mode");
 
+	private static final InstantiatingConfigurationParameterConverter<TempDirFactory> tempDirFactoryConverter = //
+		new InstantiatingConfigurationParameterConverter<>(TempDirFactory.class, "temp dir factory");
+
 	private final ConfigurationParameters configurationParameters;
 
 	public DefaultJupiterConfiguration(ConfigurationParameters configurationParameters) {
@@ -128,4 +134,11 @@ public class DefaultJupiterConfiguration implements JupiterConfiguration {
 		return cleanupModeConverter.get(configurationParameters, DEFAULT_CLEANUP_MODE_PROPERTY_NAME, ALWAYS);
 	}
 
+	@Override
+	public Supplier<TempDirFactory> getDefaultTempDirFactorySupplier() {
+		Supplier<Optional<TempDirFactory>> supplier = tempDirFactoryConverter.supply(configurationParameters,
+			DEFAULT_FACTORY_PROPERTY_NAME);
+		return () -> supplier.get().orElse(TempDirFactory.Standard.INSTANCE);
+	}
+
 }
diff --git a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/InstantiatingConfigurationParameterConverter.java b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/InstantiatingConfigurationParameterConverter.java
index 7f77d4712..ddc5acd12 100644
--- a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/InstantiatingConfigurationParameterConverter.java
+++ b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/InstantiatingConfigurationParameterConverter.java
@@ -11,7 +11,9 @@
 package org.junit.jupiter.engine.config;
 
 import java.util.Optional;
+import java.util.function.Supplier;
 
+import org.junit.platform.commons.function.Try;
 import org.junit.platform.commons.logging.Logger;
 import org.junit.platform.commons.logging.LoggerFactory;
 import org.junit.platform.commons.util.ReflectionUtils;
@@ -33,18 +35,23 @@ class InstantiatingConfigurationParameterConverter<T> {
 	}
 
 	Optional<T> get(ConfigurationParameters configurationParameters, String key) {
+		return supply(configurationParameters, key).get();
+	}
+
+	Supplier<Optional<T>> supply(ConfigurationParameters configurationParameters, String key) {
 		// @formatter:off
 		return configurationParameters.get(key)
 				.map(String::trim)
 				.filter(className -> !className.isEmpty())
-				.flatMap(className -> newInstance(className, key));
+				.map(className -> newInstanceSupplier(className, key))
+				.orElse(Optional::empty);
 		// @formatter:on
 	}
 
-	private Optional<T> newInstance(String className, String key) {
+	private Supplier<Optional<T>> newInstanceSupplier(String className, String key) {
+		Try<Class<?>> clazz = ReflectionUtils.tryToLoadClass(className);
 		// @formatter:off
-		return ReflectionUtils.tryToLoadClass(className)
-				.andThenTry(ReflectionUtils::newInstance)
+		return () -> clazz.andThenTry(ReflectionUtils::newInstance)
 				.andThenTry(this.clazz::cast)
 				.ifSuccess(generator -> logSuccessMessage(className, key))
 				.ifFailure(cause -> logFailureMessage(className, key, cause))
diff --git a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/JupiterConfiguration.java b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/JupiterConfiguration.java
index d0027c15e..559b4d7d5 100644
--- a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/JupiterConfiguration.java
+++ b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/JupiterConfiguration.java
@@ -15,6 +15,7 @@ import static org.apiguardian.api.API.Status.INTERNAL;
 import java.util.Optional;
 import java.util.function.Function;
 import java.util.function.Predicate;
+import java.util.function.Supplier;
 
 import org.apiguardian.api.API;
 import org.junit.jupiter.api.ClassOrderer;
@@ -23,6 +24,7 @@ import org.junit.jupiter.api.MethodOrderer;
 import org.junit.jupiter.api.TestInstance;
 import org.junit.jupiter.api.extension.ExecutionCondition;
 import org.junit.jupiter.api.io.CleanupMode;
+import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.api.parallel.Execution;
 import org.junit.jupiter.api.parallel.ExecutionMode;
 
@@ -66,4 +68,6 @@ public interface JupiterConfiguration {
 
 	CleanupMode getDefaultTempDirCleanupMode();
 
+	Supplier<TempDirFactory> getDefaultTempDirFactorySupplier();
+
 }
diff --git a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java
index 3cd8a47fc..d8dbdd377 100644
--- a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java
+++ b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java
@@ -117,15 +117,17 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 	private void injectFields(ExtensionContext context, Object testInstance, Class<?> testClass,
 			Predicate<Field> predicate) {
 
+		Scope scope = getScope(context);
+
 		findAnnotatedFields(testClass, TempDir.class, predicate).forEach(field -> {
 			assertNonFinalField(field);
 			assertSupportedType("field", field.getType());
 
 			try {
 				CleanupMode cleanupMode = determineCleanupModeForField(field);
-				TempDirFactory factory = getTempDirFactoryForField(field);
+				TempDirFactory factory = determineTempDirFactoryForField(field, scope);
 				makeAccessible(field).set(testInstance,
-					getPathOrFile(field, field.getType(), factory, cleanupMode, context));
+					getPathOrFile(field, field.getType(), factory, cleanupMode, scope, context));
 			}
 			catch (Throwable t) {
 				ExceptionUtils.throwAsUncheckedException(t);
@@ -156,8 +158,10 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		Class<?> parameterType = parameterContext.getParameter().getType();
 		assertSupportedType("parameter", parameterType);
 		CleanupMode cleanupMode = determineCleanupModeForParameter(parameterContext);
-		TempDirFactory factory = getTempDirFactoryForParameter(parameterContext);
-		return getPathOrFile(parameterContext.getParameter(), parameterType, factory, cleanupMode, extensionContext);
+		Scope scope = getScope(extensionContext);
+		TempDirFactory factory = determineTempDirFactoryForParameter(parameterContext, scope);
+		return getPathOrFile(parameterContext.getParameter(), parameterType, factory, cleanupMode, scope,
+			extensionContext);
 	}
 
 	private CleanupMode determineCleanupModeForField(Field field) {
@@ -177,22 +181,40 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		return cleanupMode == DEFAULT ? this.configuration.getDefaultTempDirCleanupMode() : cleanupMode;
 	}
 
-	private TempDirFactory getTempDirFactoryForField(Field field) {
+	@SuppressWarnings("deprecation")
+	private Scope getScope(ExtensionContext context) {
+		return context.getRoot().getStore(NAMESPACE).getOrComputeIfAbsent( //
+			Scope.class, //
+			__ -> new EnumConfigurationParameterConverter<>(Scope.class, "@TempDir scope") //
+					.get(TempDir.SCOPE_PROPERTY_NAME, context::getConfigurationParameter, Scope.PER_DECLARATION), //
+			Scope.class //
+		);
+	}
+
+	private TempDirFactory determineTempDirFactoryForField(Field field, Scope scope) {
 		TempDir tempDir = findAnnotation(field, TempDir.class).orElseThrow(
 			() -> new JUnitException("Field " + field + " must be annotated with @TempDir"));
-		return getTempDirFactory(tempDir);
+		return determineTempDirFactory(tempDir, scope);
 	}
 
-	private TempDirFactory getTempDirFactoryForParameter(ParameterContext parameterContext) {
+	private TempDirFactory determineTempDirFactoryForParameter(ParameterContext parameterContext, Scope scope) {
 		TempDir tempDir = parameterContext.findAnnotation(TempDir.class).orElseThrow(() -> new JUnitException(
 			"Parameter " + parameterContext.getParameter() + " must be annotated with @TempDir"));
-		return getTempDirFactory(tempDir);
+		return determineTempDirFactory(tempDir, scope);
 	}
 
-	private static TempDirFactory getTempDirFactory(TempDir tempDir) {
+	@SuppressWarnings("deprecation")
+	private TempDirFactory determineTempDirFactory(TempDir tempDir, Scope scope) {
 		Class<? extends TempDirFactory> factory = tempDir.factory();
-		return factory == TempDirFactory.Standard.class //
-				? TempDirFactory.Standard.INSTANCE
+
+		if (factory != TempDirFactory.class && scope == Scope.PER_CONTEXT) {
+			throw new ExtensionConfigurationException("Custom @TempDir factory is not supported with "
+					+ TempDir.SCOPE_PROPERTY_NAME + "=" + Scope.PER_CONTEXT.name().toLowerCase() + ". Use "
+					+ TempDir.DEFAULT_FACTORY_PROPERTY_NAME + " instead.");
+		}
+
+		return factory == TempDirFactory.class //
+				? this.configuration.getDefaultTempDirFactorySupplier().get()
 				: ReflectionUtils.newInstance(factory);
 	}
 
@@ -209,16 +231,8 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		}
 	}
 
-	@SuppressWarnings("deprecation")
 	private Object getPathOrFile(AnnotatedElement sourceElement, Class<?> type, TempDirFactory factory,
-			CleanupMode cleanupMode, ExtensionContext extensionContext) {
-		Scope scope = getScope(extensionContext);
-
-		if (scope == Scope.PER_CONTEXT && factory != TempDirFactory.Standard.INSTANCE) {
-			throw new ExtensionConfigurationException("Custom @TempDir factory is not supported with "
-					+ TempDir.SCOPE_PROPERTY_NAME + "=" + Scope.PER_CONTEXT.toString().toLowerCase());
-		}
-
+			CleanupMode cleanupMode, Scope scope, ExtensionContext extensionContext) {
 		Namespace namespace = scope == Scope.PER_DECLARATION //
 				? NAMESPACE.append(sourceElement) //
 				: NAMESPACE;
@@ -230,16 +244,6 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		return (type == Path.class) ? path : path.toFile();
 	}
 
-	@SuppressWarnings("deprecation")
-	private Scope getScope(ExtensionContext context) {
-		return context.getRoot().getStore(NAMESPACE).getOrComputeIfAbsent( //
-			Scope.class, //
-			__ -> new EnumConfigurationParameterConverter<>(Scope.class, "@TempDir scope") //
-					.get(TempDir.SCOPE_PROPERTY_NAME, context::getConfigurationParameter, Scope.PER_DECLARATION), //
-			Scope.class //
-		);
-	}
-
 	static CloseablePath createTempDir(TempDirFactory factory, CleanupMode cleanupMode,
 			ExtensionContext executionContext) {
 		try {
@@ -273,21 +277,24 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 
 		@Override
 		public void close() throws IOException {
-			if (cleanupMode == NEVER
-					|| (cleanupMode == ON_SUCCESS && executionContext.getExecutionException().isPresent())) {
-				logger.info(() -> "Skipping cleanup of temp dir " + dir + " due to cleanup mode configuration.");
-				return;
-			}
+			try {
+				if (cleanupMode == NEVER
+						|| (cleanupMode == ON_SUCCESS && executionContext.getExecutionException().isPresent())) {
+					logger.info(() -> "Skipping cleanup of temp dir " + dir + " due to cleanup mode configuration.");
+					return;
+				}
 
-			FileOperations fileOperations = executionContext.getStore(NAMESPACE) //
-					.getOrDefault(FILE_OPERATIONS_KEY, FileOperations.class, FileOperations.DEFAULT);
+				FileOperations fileOperations = executionContext.getStore(NAMESPACE) //
+						.getOrDefault(FILE_OPERATIONS_KEY, FileOperations.class, FileOperations.DEFAULT);
 
-			SortedMap<Path, IOException> failures = deleteAllFilesAndDirectories(fileOperations);
-			if (!failures.isEmpty()) {
-				throw createIOExceptionWithAttachedFailures(failures);
+				SortedMap<Path, IOException> failures = deleteAllFilesAndDirectories(fileOperations);
+				if (!failures.isEmpty()) {
+					throw createIOExceptionWithAttachedFailures(failures);
+				}
+			}
+			finally {
+				factory.close();
 			}
-
-			factory.close();
 		}
 
 		private SortedMap<Path, IOException> deleteAllFilesAndDirectories(FileOperations fileOperations)
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsAssertionsTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsAssertionsTests.java
index 7a807db61..73de6acbc 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsAssertionsTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsAssertionsTests.java
@@ -21,12 +21,11 @@ import static org.junit.jupiter.api.Assertions.assertThrows;
 
 import java.io.IOException;
 import java.io.Serial;
-import java.net.URL;
-import java.net.URLClassLoader;
 import java.util.concurrent.ExecutionException;
 import java.util.concurrent.FutureTask;
 
 import org.junit.jupiter.api.function.Executable;
+import org.junit.platform.commons.test.TestClassLoader;
 import org.opentest4j.AssertionFailedError;
 
 /**
@@ -242,8 +241,7 @@ class AssertThrowsAssertionsTests {
 	@Test
 	@SuppressWarnings("unchecked")
 	void assertThrowsWithExecutableThatThrowsSameExceptionTypeFromDifferentClassLoader() throws Exception {
-		try (EnigmaClassLoader enigmaClassLoader = new EnigmaClassLoader()) {
-
+		try (TestClassLoader enigmaClassLoader = TestClassLoader.forClasses(EnigmaThrowable.class)) {
 			// Load expected exception type from different class loader
 			Class<? extends Throwable> enigmaThrowableClass = (Class<? extends Throwable>) enigmaClassLoader.loadClass(
 				EnigmaThrowable.class.getName());
@@ -278,18 +276,4 @@ class AssertThrowsAssertionsTests {
 		private static final long serialVersionUID = 1L;
 	}
 
-	private static class EnigmaClassLoader extends URLClassLoader {
-
-		EnigmaClassLoader() {
-			super(new URL[] { EnigmaClassLoader.class.getProtectionDomain().getCodeSource().getLocation() },
-				getSystemClassLoader());
-		}
-
-		@Override
-		public Class<?> loadClass(String name) throws ClassNotFoundException {
-			return (EnigmaThrowable.class.getName().equals(name) ? findClass(name) : super.loadClass(name));
-		}
-
-	}
-
 }
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsExactlyAssertionsTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsExactlyAssertionsTests.java
index 79c1f3287..c8edc464a 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsExactlyAssertionsTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/api/AssertThrowsExactlyAssertionsTests.java
@@ -21,12 +21,11 @@ import static org.junit.jupiter.api.Assertions.assertThrowsExactly;
 
 import java.io.IOException;
 import java.io.Serial;
-import java.net.URL;
-import java.net.URLClassLoader;
 import java.util.concurrent.ExecutionException;
 import java.util.concurrent.FutureTask;
 
 import org.junit.jupiter.api.function.Executable;
+import org.junit.platform.commons.test.TestClassLoader;
 import org.opentest4j.AssertionFailedError;
 
 /**
@@ -282,8 +281,7 @@ class AssertThrowsExactlyAssertionsTests {
 	@Test
 	@SuppressWarnings("unchecked")
 	void assertThrowsWithExecutableThatThrowsSameExceptionTypeFromDifferentClassLoader() throws Exception {
-		try (EnigmaClassLoader enigmaClassLoader = new EnigmaClassLoader()) {
-
+		try (TestClassLoader enigmaClassLoader = TestClassLoader.forClasses(EnigmaThrowable.class)) {
 			// Load expected exception type from different class loader
 			Class<? extends Throwable> enigmaThrowableClass = (Class<? extends Throwable>) enigmaClassLoader.loadClass(
 				EnigmaThrowable.class.getName());
@@ -318,18 +316,4 @@ class AssertThrowsExactlyAssertionsTests {
 		private static final long serialVersionUID = 1L;
 	}
 
-	private static class EnigmaClassLoader extends URLClassLoader {
-
-		EnigmaClassLoader() {
-			super(new URL[] { EnigmaClassLoader.class.getProtectionDomain().getCodeSource().getLocation() },
-				getSystemClassLoader());
-		}
-
-		@Override
-		public Class<?> loadClass(String name) throws ClassNotFoundException {
-			return (EnigmaThrowable.class.getName().equals(name) ? findClass(name) : super.loadClass(name));
-		}
-
-	}
-
 }
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/CachingJupiterConfigurationTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/CachingJupiterConfigurationTests.java
index cb4f88f73..a978c1883 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/CachingJupiterConfigurationTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/CachingJupiterConfigurationTests.java
@@ -21,11 +21,13 @@ import static org.mockito.Mockito.when;
 
 import java.util.Optional;
 import java.util.function.Predicate;
+import java.util.function.Supplier;
 
 import org.junit.jupiter.api.MethodOrderer;
 import org.junit.jupiter.api.Test;
 import org.junit.jupiter.api.TestInstance.Lifecycle;
 import org.junit.jupiter.api.extension.ExecutionCondition;
+import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.api.parallel.ExecutionMode;
 import org.junit.jupiter.engine.descriptor.CustomDisplayNameGenerator;
 
@@ -123,6 +125,18 @@ class CachingJupiterConfigurationTests {
 		verify(delegate, only()).getDefaultTempDirCleanupMode();
 	}
 
+	@Test
+	void cachesDefaultTempDirFactorySupplier() {
+		Supplier<TempDirFactory> supplier = mock();
+		when(delegate.getDefaultTempDirFactorySupplier()).thenReturn(supplier);
+
+		// call `cache.getDefaultTempDirFactorySupplier()` twice to verify the delegate method is called only once.
+		assertThat(cache.getDefaultTempDirFactorySupplier()).isSameAs(supplier);
+		assertThat(cache.getDefaultTempDirFactorySupplier()).isSameAs(supplier);
+
+		verify(delegate, only()).getDefaultTempDirFactorySupplier();
+	}
+
 	@Test
 	void doesNotCacheRawParameters() {
 		when(delegate.getRawConfigurationParameter("foo")).thenReturn(Optional.of("bar")).thenReturn(
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/DefaultJupiterConfigurationTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/DefaultJupiterConfigurationTests.java
index 2592fe256..d6cfc1d41 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/DefaultJupiterConfigurationTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/config/DefaultJupiterConfigurationTests.java
@@ -20,13 +20,17 @@ import static org.junit.jupiter.engine.Constants.DEFAULT_TEST_INSTANCE_LIFECYCLE
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.when;
 
+import java.nio.file.Path;
 import java.util.Optional;
+import java.util.function.Supplier;
 
 import org.junit.jupiter.api.DisplayNameGenerator;
 import org.junit.jupiter.api.MethodOrderer;
 import org.junit.jupiter.api.Test;
 import org.junit.jupiter.api.TestInstance.Lifecycle;
+import org.junit.jupiter.api.extension.ExtensionContext;
 import org.junit.jupiter.api.io.CleanupMode;
+import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.engine.Constants;
 import org.junit.jupiter.engine.descriptor.CustomDisplayNameGenerator;
 import org.junit.platform.commons.PreconditionViolationException;
@@ -108,6 +112,38 @@ class DefaultJupiterConfigurationTests {
 		assertThat(defaultTestMethodOrder).isEmpty();
 	}
 
+	@Test
+	void shouldGetDefaultTempDirFactorySupplierWithConfigParamSet() {
+		ConfigurationParameters parameters = mock();
+		String key = Constants.DEFAULT_TEMP_DIR_FACTORY_PROPERTY_NAME;
+		when(parameters.get(key)).thenReturn(Optional.of(CustomFactory.class.getName()));
+		JupiterConfiguration configuration = new DefaultJupiterConfiguration(parameters);
+
+		Supplier<TempDirFactory> supplier = configuration.getDefaultTempDirFactorySupplier();
+
+		assertThat(supplier.get()).isInstanceOf(TempDirFactory.class);
+	}
+
+	private static class CustomFactory implements TempDirFactory {
+
+		@Override
+		public Path createTempDirectory(ExtensionContext context) {
+			throw new UnsupportedOperationException();
+		}
+	}
+
+	@Test
+	void shouldGetStandardAsDefaultTempDirFactorySupplierWithoutConfigParamSet() {
+		ConfigurationParameters parameters = mock();
+		String key = Constants.DEFAULT_TEMP_DIR_FACTORY_PROPERTY_NAME;
+		when(parameters.get(key)).thenReturn(Optional.empty());
+		JupiterConfiguration configuration = new DefaultJupiterConfiguration(parameters);
+
+		Supplier<TempDirFactory> supplier = configuration.getDefaultTempDirFactorySupplier();
+
+		assertThat(supplier.get()).isSameAs(TempDirFactory.Standard.INSTANCE);
+	}
+
 	private void assertDefaultConfigParam(String configValue, Lifecycle expected) {
 		ConfigurationParameters configParams = mock();
 		when(configParams.get(KEY)).thenReturn(Optional.ofNullable(configValue));
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/CloseablePathCleanupTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/CloseablePathCleanupTests.java
index da549d491..43c510504 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/CloseablePathCleanupTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/CloseablePathCleanupTests.java
@@ -36,7 +36,6 @@ import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.engine.AbstractJupiterTestEngineTests;
 import org.junit.jupiter.engine.execution.NamespaceAwareStore;
 import org.junit.platform.engine.support.store.NamespacedHierarchicalStore;
-import org.mockito.Mockito;
 
 /**
  * Integration tests for cleanup of the {@link TempDirectory} when the {@link CleanupMode} is
@@ -84,7 +83,7 @@ class CloseablePathCleanupTests extends AbstractJupiterTestEngineTests {
 
 		closeablePath.close();
 		assertThat(closeablePath.get()).exists();
-		verify(factory, Mockito.never()).close();
+		verify(factory).close();
 	}
 
 	@Test
@@ -97,7 +96,7 @@ class CloseablePathCleanupTests extends AbstractJupiterTestEngineTests {
 
 		closeablePath.close();
 		assertThat(closeablePath.get()).exists();
-		verify(factory, Mockito.never()).close();
+		verify(factory).close();
 	}
 
 	@Test
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerContextTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerContextTests.java
index 9179d7c1a..84addd7dd 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerContextTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerContextTests.java
@@ -55,7 +55,9 @@ import org.junit.jupiter.api.extension.ParameterResolutionException;
 import org.junit.jupiter.api.io.TempDir;
 import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.engine.AbstractJupiterTestEngineTests;
+import org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder;
 import org.junit.platform.testkit.engine.EngineExecutionResults;
+import org.junit.platform.testkit.engine.Events;
 
 /**
  * Integration tests for the legacy behavior of the {@link TempDirectory}
@@ -67,13 +69,16 @@ import org.junit.platform.testkit.engine.EngineExecutionResults;
 @DisplayName("TempDirectory extension (per context)")
 class TempDirectoryPerContextTests extends AbstractJupiterTestEngineTests {
 
-	@SuppressWarnings("deprecation")
 	@Override
 	protected EngineExecutionResults executeTestsForClass(Class<?> testClass) {
-		return executeTests(request() //
+		return executeTests(requestBuilder(testClass).build());
+	}
+
+	@SuppressWarnings("deprecation")
+	private static LauncherDiscoveryRequestBuilder requestBuilder(Class<?> testClass) {
+		return request() //
 				.selectors(selectClass(testClass)) //
-				.configurationParameter(TempDir.SCOPE_PROPERTY_NAME, TempDirectory.Scope.PER_CONTEXT.toString()) //
-				.build());
+				.configurationParameter(TempDir.SCOPE_PROPERTY_NAME, TempDirectory.Scope.PER_CONTEXT.name());
 	}
 
 	@BeforeEach
@@ -287,6 +292,42 @@ class TempDirectoryPerContextTests extends AbstractJupiterTestEngineTests {
 
 	}
 
+	@Nested
+	@DisplayName("supports default factory")
+	@TestMethodOrder(OrderAnnotation.class)
+	class DefaultFactory {
+
+		private Events executeTestsForClassWithDefaultFactory(Class<?> testClass,
+				Class<? extends TempDirFactory> factoryClass) {
+			return TempDirectoryPerContextTests.super.executeTests(requestBuilder(testClass) //
+					.configurationParameter(TempDir.DEFAULT_FACTORY_PROPERTY_NAME, factoryClass.getName()) //
+					.build()).testEvents();
+		}
+
+		@Test
+		@DisplayName("set to Jupiter's default")
+		void supportsStandardDefaultFactory() {
+			executeTestsForClassWithDefaultFactory(StandardDefaultFactoryTestCase.class, TempDirFactory.Standard.class) //
+					.assertStatistics(stats -> stats.started(1).succeeded(1));
+		}
+
+		@Test
+		@DisplayName("set to custom factory")
+		void supportsCustomDefaultFactory() {
+			executeTestsForClassWithDefaultFactory(NonStandardDefaultFactoryTestCase.class, Factory.class) //
+					.assertStatistics(stats -> stats.started(1).succeeded(1));
+		}
+
+		private static class Factory implements TempDirFactory {
+
+			@Override
+			public Path createTempDirectory(ExtensionContext context) throws Exception {
+				return Files.createTempDirectory("junit");
+			}
+		}
+
+	}
+
 	@Nested
 	@DisplayName("reports failure")
 	@TestMethodOrder(OrderAnnotation.class)
@@ -360,7 +401,8 @@ class TempDirectoryPerContextTests extends AbstractJupiterTestEngineTests {
 					message(m -> m.matches("Failed to resolve parameter \\[.+] in method \\[.+]: .+")),
 					cause(
 							instanceOf(ExtensionConfigurationException.class),
-							message("Custom @TempDir factory is not supported with junit.jupiter.tempdir.scope=per_context")));
+							message("Custom @TempDir factory is not supported with junit.jupiter.tempdir.scope=per_context. "
+									+ "Use junit.jupiter.tempdir.factory.default instead.")));
 			// @formatter:on
 		}
 
@@ -661,6 +703,24 @@ class TempDirectoryPerContextTests extends AbstractJupiterTestEngineTests {
 
 	}
 
+	static class StandardDefaultFactoryTestCase {
+
+		@Test
+		void test(@TempDir Path tempDir1, @TempDir Path tempDir2) {
+			assertSame(tempDir1, tempDir2);
+		}
+
+	}
+
+	static class NonStandardDefaultFactoryTestCase {
+
+		@Test
+		void test(@TempDir Path tempDir1, @TempDir Path tempDir2) {
+			assertSame(tempDir1, tempDir2);
+		}
+
+	}
+
 	static class AnnotationOnBeforeAllMethodParameterTestCase extends BaseSharedTempDirParameterInjectionTestCase {
 
 		@BeforeAll
@@ -1340,4 +1400,5 @@ class TempDirectoryPerContextTests extends AbstractJupiterTestEngineTests {
 			}
 		}
 	}
+
 }
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerDeclarationTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerDeclarationTests.java
index fe4a9a90a..33a5297e2 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerDeclarationTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TempDirectoryPerDeclarationTests.java
@@ -13,6 +13,7 @@ package org.junit.jupiter.engine.extension;
 import static org.assertj.core.api.Assertions.assertThat;
 import static org.junit.jupiter.api.Assertions.assertNotEquals;
 import static org.junit.jupiter.api.Assertions.assertNotNull;
+import static org.junit.jupiter.api.Assertions.assertNotSame;
 import static org.junit.jupiter.api.Assertions.assertSame;
 import static org.junit.jupiter.api.Assertions.assertTrue;
 import static org.junit.jupiter.api.Assertions.fail;
@@ -68,6 +69,7 @@ import org.junit.jupiter.api.extension.ParameterResolutionException;
 import org.junit.jupiter.api.extension.RegisterExtension;
 import org.junit.jupiter.api.io.TempDir;
 import org.junit.jupiter.api.io.TempDirFactory;
+import org.junit.jupiter.api.io.TempDirFactory.Standard;
 import org.junit.jupiter.engine.AbstractJupiterTestEngineTests;
 import org.junit.jupiter.engine.Constants;
 import org.junit.jupiter.engine.extension.TempDirectory.FileOperations;
@@ -98,7 +100,7 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 				var results = executeTests(request() //
 						.selectors(selectClass(AllPossibleDeclarationLocationsTestCase.class)) //
 						.configurationParameter(Constants.DEFAULT_TEST_INSTANCE_LIFECYCLE_PROPERTY_NAME,
-							lifecycle.toString()).build());
+							lifecycle.name()).build());
 
 				results.containerEvents().assertStatistics(stats -> stats.started(2).succeeded(2));
 				results.testEvents().assertStatistics(stats -> stats.started(2).succeeded(2));
@@ -345,6 +347,64 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 
 	}
 
+	@Nested
+	@DisplayName("supports default factory")
+	@TestMethodOrder(OrderAnnotation.class)
+	class DefaultFactory {
+
+		private EngineExecutionResults executeTestsForClassWithDefaultFactory(Class<?> testClass,
+				Class<? extends TempDirFactory> factoryClass) {
+			return TempDirectoryPerDeclarationTests.super.executeTests(request() //
+					.selectors(selectClass(testClass)) //
+					.configurationParameter(TempDir.DEFAULT_FACTORY_PROPERTY_NAME, factoryClass.getName()) //
+					.build());
+		}
+
+		@Test
+		@DisplayName("set to Jupiter's default")
+		void supportsStandardDefaultFactory() {
+			executeTestsForClassWithDefaultFactory(StandardDefaultFactoryTestCase.class, Standard.class) //
+					.testEvents()//
+					.assertStatistics(stats -> stats.started(1).succeeded(1));
+		}
+
+		@Test
+		@DisplayName("set to custom factory")
+		void supportsCustomDefaultFactory() {
+			executeTestsForClassWithDefaultFactory(CustomDefaultFactoryTestCase.class, Factory.class) //
+					.testEvents()//
+					.assertStatistics(stats -> stats.started(1).succeeded(1));
+		}
+
+		@Test
+		@DisplayName("set to custom factory together with declaration of Jupiter's default")
+		void supportsCustomDefaultFactoryWithStandardFactoryOnDeclaration() {
+			executeTestsForClassWithDefaultFactory( //
+				CustomDefaultFactoryWithStandardDeclarationTestCase.class, Factory.class) //
+					.testEvents()//
+					.assertStatistics(stats -> stats.started(1).succeeded(1));
+		}
+
+		private static class Factory implements TempDirFactory {
+
+			private boolean closed;
+
+			@Override
+			public Path createTempDirectory(ExtensionContext context) throws Exception {
+				return Files.createTempDirectory("custom");
+			}
+
+			@Override
+			public void close() {
+				if (closed) {
+					throw new IllegalStateException("already closed");
+				}
+				closed = true;
+			}
+		}
+
+	}
+
 	private static void assertSingleFailedContainer(EngineExecutionResults results, Class<? extends Throwable> clazz,
 			String message) {
 
@@ -1112,7 +1172,7 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 		@Test
 		void test(@TempDir(factory = Factory.class) Path tempDir) {
 			assertTrue(Files.exists(tempDir));
-			assertThat(tempDir.getFileName().toString()).startsWith("test");
+			assertThat(tempDir.getFileName()).asString().startsWith("test");
 		}
 
 		private static class Factory implements TempDirFactory {
@@ -1131,7 +1191,7 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 		@Test
 		void test(@TempDir(factory = Factory.class) Path tempDir) {
 			assertThat(tempDir).exists().hasParent(Factory.parent);
-			assertThat(tempDir.getFileName().toString()).startsWith("prefix");
+			assertThat(tempDir.getFileName()).asString().startsWith("prefix");
 		}
 
 		private static class Factory implements TempDirFactory {
@@ -1155,7 +1215,7 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 		@Test
 		void test(@TempDir(factory = Factory.class) Path tempDir) {
 			assertThat(tempDir).exists().hasFileSystem(Factory.fileSystem);
-			assertThat(tempDir.getFileName().toString()).startsWith("prefix");
+			assertThat(tempDir.getFileName()).asString().startsWith("prefix");
 		}
 
 		private static class Factory implements TempDirFactory {
@@ -1171,6 +1231,7 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 			@Override
 			public void close() throws IOException {
 				fileSystem.close();
+				fileSystem = null;
 			}
 		}
 
@@ -1181,7 +1242,7 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 		@Test
 		void test(@TempDir(factory = Factory.class) Path tempDir) {
 			assertThat(tempDir).exists().hasFileSystem(Factory.fileSystem);
-			assertThat(tempDir.getFileName().toString()).startsWith("prefix");
+			assertThat(tempDir.getFileName()).asString().startsWith("prefix");
 		}
 
 		private static class Factory implements TempDirFactory {
@@ -1197,9 +1258,43 @@ class TempDirectoryPerDeclarationTests extends AbstractJupiterTestEngineTests {
 			@Override
 			public void close() throws IOException {
 				fileSystem.close();
+				fileSystem = null;
 			}
 		}
 
 	}
 
+	static class StandardDefaultFactoryTestCase {
+
+		@Test
+		void test(@TempDir Path tempDir1, @TempDir Path tempDir2) {
+			assertNotSame(tempDir1, tempDir2);
+			assertThat(tempDir1.getFileName()).asString().startsWith("junit");
+			assertThat(tempDir2.getFileName()).asString().startsWith("junit");
+		}
+
+	}
+
+	static class CustomDefaultFactoryTestCase {
+
+		@Test
+		void test(@TempDir Path tempDir1, @TempDir Path tempDir2) {
+			assertNotSame(tempDir1, tempDir2);
+			assertThat(tempDir1.getFileName()).asString().startsWith("custom");
+			assertThat(tempDir2.getFileName()).asString().startsWith("custom");
+		}
+
+	}
+
+	static class CustomDefaultFactoryWithStandardDeclarationTestCase {
+
+		@Test
+		void test(@TempDir Path tempDir1, @TempDir(factory = Standard.class) Path tempDir2) {
+			assertNotSame(tempDir1, tempDir2);
+			assertThat(tempDir1.getFileName()).asString().startsWith("custom");
+			assertThat(tempDir2.getFileName()).asString().startsWith("junit");
+		}
+
+	}
+
 }
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TestInstanceFactoryTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TestInstanceFactoryTests.java
index b773e9eef..9a89a1653 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TestInstanceFactoryTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/extension/TestInstanceFactoryTests.java
@@ -25,8 +25,6 @@ import static org.junit.platform.testkit.engine.EventConditions.test;
 import static org.junit.platform.testkit.engine.TestExecutionResultConditions.instanceOf;
 import static org.junit.platform.testkit.engine.TestExecutionResultConditions.message;
 
-import java.net.URL;
-import java.net.URLClassLoader;
 import java.util.ArrayList;
 import java.util.List;
 import java.util.concurrent.atomic.AtomicInteger;
@@ -45,6 +43,7 @@ import org.junit.jupiter.api.extension.TestInstanceFactory;
 import org.junit.jupiter.api.extension.TestInstanceFactoryContext;
 import org.junit.jupiter.api.extension.TestInstantiationException;
 import org.junit.jupiter.engine.AbstractJupiterTestEngineTests;
+import org.junit.platform.commons.test.TestClassLoader;
 import org.junit.platform.commons.util.ReflectionUtils;
 import org.junit.platform.testkit.engine.EngineExecutionResults;
 
@@ -693,9 +692,11 @@ class TestInstanceFactoryTests extends AbstractJupiterTestEngineTests {
 		public Object createTestInstance(TestInstanceFactoryContext factoryContext, ExtensionContext extensionContext) {
 			Class<?> testClass = factoryContext.getTestClass();
 			String className = testClass.getName();
+			String prefix = TestInstanceFactoryTests.class.getName();
+
 			instantiated(getClass(), testClass);
 
-			try (ProxyClassLoader proxyClassLoader = new ProxyClassLoader()) {
+			try (TestClassLoader proxyClassLoader = TestClassLoader.forClassNamePrefix(prefix)) {
 				// Load test class from different class loader
 				Class<?> clazz = proxyClassLoader.loadClass(className);
 				return ReflectionUtils.newInstance(clazz);
@@ -706,20 +707,6 @@ class TestInstanceFactoryTests extends AbstractJupiterTestEngineTests {
 		}
 	}
 
-	private static class ProxyClassLoader extends URLClassLoader {
-
-		ProxyClassLoader() {
-			super(new URL[] { ProxyClassLoader.class.getProtectionDomain().getCodeSource().getLocation() },
-				getSystemClassLoader());
-		}
-
-		@Override
-		public Class<?> loadClass(String name) throws ClassNotFoundException {
-			return (name.startsWith(TestInstanceFactoryTests.class.getName()) ? findClass(name)
-					: super.loadClass(name));
-		}
-	}
-
 	private static boolean instantiated(Class<? extends TestInstanceFactory> factoryClass, Class<?> testClass) {
 		return callSequence.add(factoryClass.getSimpleName() + " instantiated: " + testClass.getSimpleName());
 	}
diff --git a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/support/OpenTest4JAndJUnit4AwareThrowableCollectorTests.java b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/support/OpenTest4JAndJUnit4AwareThrowableCollectorTests.java
index a3b492b8e..a22b9f336 100644
--- a/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/support/OpenTest4JAndJUnit4AwareThrowableCollectorTests.java
+++ b/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/support/OpenTest4JAndJUnit4AwareThrowableCollectorTests.java
@@ -95,7 +95,7 @@ class OpenTest4JAndJUnit4AwareThrowableCollectorTests {
 
 	private static class TestClassLoader extends URLClassLoader {
 
-		private static URL[] CLASSPATH_URLS = new URL[] {
+		private static final URL[] CLASSPATH_URLS = new URL[] {
 				OpenTest4JAndJUnit4AwareThrowableCollector.class.getProtectionDomain().getCodeSource().getLocation() };
 
 		private final boolean simulateJUnit4Missing;
diff --git a/junit-jupiter-params/src/main/java/org/junit/jupiter/params/converter/AnnotationBasedArgumentConverter.java b/junit-jupiter-params/src/main/java/org/junit/jupiter/params/converter/AnnotationBasedArgumentConverter.java
index fa67ae7c8..e86a1558d 100644
--- a/junit-jupiter-params/src/main/java/org/junit/jupiter/params/converter/AnnotationBasedArgumentConverter.java
+++ b/junit-jupiter-params/src/main/java/org/junit/jupiter/params/converter/AnnotationBasedArgumentConverter.java
@@ -20,7 +20,7 @@ import org.junit.jupiter.params.support.AnnotationConsumer;
 import org.junit.platform.commons.util.Preconditions;
 
 /**
- * {@code SimpleArgumentConverter} is an abstract base class for
+ * {@code AnnotationBasedArgumentConverter} is an abstract base class for
  * {@link ArgumentConverter} implementations that also need to consume an
  * annotation in order to perform the conversion.
  *
diff --git a/junit-platform-commons/src/main/java/org/junit/platform/commons/support/ReflectionSupport.java b/junit-platform-commons/src/main/java/org/junit/platform/commons/support/ReflectionSupport.java
index dffe8ea50..6b6c98d3d 100644
--- a/junit-platform-commons/src/main/java/org/junit/platform/commons/support/ReflectionSupport.java
+++ b/junit-platform-commons/src/main/java/org/junit/platform/commons/support/ReflectionSupport.java
@@ -351,6 +351,11 @@ public final class ReflectionSupport {
 	 * interface and traversing up the type hierarchy until such a method is
 	 * found or the type hierarchy is exhausted.
 	 *
+	 * <p>As of JUnit Platform 1.10, this method uses the {@link ClassLoader} of
+	 * the supplied {@code clazz} to load parameter types instead of using the
+	 * <em>default</em> {@code ClassLoader}, which allows parameter types to be
+	 * resolved in different {@code ClassLoader} arrangements.
+	 *
 	 * <p>The algorithm does not search for methods in {@link java.lang.Object}.
 	 *
 	 * @param clazz the class or interface in which to find the method; never {@code null}
diff --git a/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNamePatternFilterUtils.java b/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNamePatternFilterUtils.java
index 020376d34..cea745d15 100644
--- a/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNamePatternFilterUtils.java
+++ b/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNamePatternFilterUtils.java
@@ -16,7 +16,6 @@ import static org.apiguardian.api.API.Status.INTERNAL;
 import java.util.Arrays;
 import java.util.List;
 import java.util.Optional;
-import java.util.function.Function;
 import java.util.function.Predicate;
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
@@ -51,36 +50,21 @@ public class ClassNamePatternFilterUtils {
 	 * @param patterns a comma-separated list of patterns
 	 */
 	public static <T> Predicate<T> excludeMatchingClasses(String patterns) {
-		return excludeMatchingClasses(patterns, object -> object.getClass().getName());
-	}
-
-	/**
-	 * Create a {@link Predicate} that can be used to exclude (i.e., filter out)
-	 * fully qualified class names matching any of the supplied patterns.
-	 *
-	 * @param patterns a comma-separated list of patterns
-	 */
-	public static Predicate<String> excludeMatchingClassNames(String patterns) {
-		return excludeMatchingClasses(patterns, Function.identity());
-	}
-
-	private static <T> Predicate<T> excludeMatchingClasses(String patterns, Function<T, String> classNameGetter) {
 		// @formatter:off
 		return Optional.ofNullable(patterns)
 				.filter(StringUtils::isNotBlank)
 				.map(String::trim)
-				.map(trimmedPatterns -> createPredicateFromPatterns(trimmedPatterns, classNameGetter))
+				.map(ClassNamePatternFilterUtils::<T>createPredicateFromPatterns)
 				.orElse(object -> true);
 		// @formatter:on
 	}
 
-	private static <T> Predicate<T> createPredicateFromPatterns(String patterns,
-			Function<T, String> classNameProvider) {
+	private static <T> Predicate<T> createPredicateFromPatterns(String patterns) {
 		if (DEACTIVATE_ALL_PATTERN.equals(patterns)) {
 			return object -> false;
 		}
 		List<Pattern> patternList = convertToRegularExpressions(patterns);
-		return object -> patternList.stream().noneMatch(it -> it.matcher(classNameProvider.apply(object)).matches());
+		return object -> patternList.stream().noneMatch(it -> it.matcher(object.getClass().getName()).matches());
 	}
 
 	private static List<Pattern> convertToRegularExpressions(String patterns) {
diff --git a/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ExceptionUtils.java b/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ExceptionUtils.java
index 64f59d12d..d81770372 100644
--- a/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ExceptionUtils.java
+++ b/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ExceptionUtils.java
@@ -14,15 +14,6 @@ import static org.apiguardian.api.API.Status.INTERNAL;
 
 import java.io.PrintWriter;
 import java.io.StringWriter;
-import java.util.ArrayDeque;
-import java.util.ArrayList;
-import java.util.Arrays;
-import java.util.Collections;
-import java.util.Deque;
-import java.util.LinkedHashSet;
-import java.util.List;
-import java.util.Set;
-import java.util.function.Predicate;
 
 import org.apiguardian.api.API;
 
@@ -40,8 +31,6 @@ import org.apiguardian.api.API;
 @API(status = INTERNAL, since = "1.0")
 public final class ExceptionUtils {
 
-	private static final String JUNIT_PLATFORM_LAUNCHER_PACKAGE_PREFIX = "org.junit.platform.launcher.";
-
 	private ExceptionUtils() {
 		/* no-op */
 	}
@@ -91,78 +80,4 @@ public final class ExceptionUtils {
 		return stringWriter.toString();
 	}
 
-	/**
-	 * Prune the stack trace of the supplied {@link Throwable} by filtering its
-	 * elements using the supplied {@link Predicate}, except for
-	 * {@code org.junit.jupiter.api.Assertions} and
-	 * {@code org.junit.jupiter.api.Assumptions} that will always remain
-	 * present.
-	 *
-	 * <p>Additionally, all elements prior to and including the first
-	 * JUnit Launcher call will be removed.
-	 *
-	 * @param throwable the {@code Throwable} whose stack trace should be
-	 * pruned; never {@code null}
-	 * @param stackTraceElementFilter the {@code Predicate} used to filter
-	 * elements of the stack trace; never {@code null}
-	 *
-	 * @since 5.10
-	 */
-	@API(status = INTERNAL, since = "5.10")
-	public static void pruneStackTrace(Throwable throwable, Predicate<String> stackTraceElementFilter) {
-		Preconditions.notNull(throwable, "Throwable must not be null");
-		Preconditions.notNull(stackTraceElementFilter, "Predicate must not be null");
-
-		List<StackTraceElement> stackTrace = Arrays.asList(throwable.getStackTrace());
-		List<StackTraceElement> prunedStackTrace = new ArrayList<>();
-
-		Collections.reverse(stackTrace);
-
-		for (StackTraceElement element : stackTrace) {
-			String className = element.getClassName();
-			if (className.startsWith(JUNIT_PLATFORM_LAUNCHER_PACKAGE_PREFIX)) {
-				prunedStackTrace.clear();
-			}
-			else if (stackTraceElementFilter.test(className)) {
-				prunedStackTrace.add(element);
-			}
-		}
-
-		Collections.reverse(prunedStackTrace);
-		throwable.setStackTrace(prunedStackTrace.toArray(new StackTraceElement[0]));
-	}
-
-	/**
-	 * Find all causes and suppressed exceptions in the backtrace of the
-	 * supplied {@link Throwable}.
-	 *
-	 * @param rootThrowable the {@code Throwable} to explore; never {@code null}
-	 * @return an immutable list of all throwables found, including the supplied
-	 * one; never {@code null}
-	 *
-	 * @since 5.10
-	 */
-	@API(status = INTERNAL, since = "5.10")
-	public static List<Throwable> findNestedThrowables(Throwable rootThrowable) {
-		Preconditions.notNull(rootThrowable, "Throwable must not be null");
-
-		Set<Throwable> visited = new LinkedHashSet<>();
-		Deque<Throwable> toVisit = new ArrayDeque<>();
-		toVisit.add(rootThrowable);
-
-		while (!toVisit.isEmpty()) {
-			Throwable current = toVisit.remove();
-			boolean isFirstVisit = visited.add(current);
-			if (isFirstVisit) {
-				Throwable cause = current.getCause();
-				if (cause != null) {
-					toVisit.add(cause);
-				}
-				toVisit.addAll(Arrays.asList(current.getSuppressed()));
-			}
-		}
-
-		return Collections.unmodifiableList(new ArrayList<>(visited));
-	}
-
 }
diff --git a/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ReflectionUtils.java b/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ReflectionUtils.java
index 71d51d534..c33f514f3 100644
--- a/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ReflectionUtils.java
+++ b/junit-platform-commons/src/main/java/org/junit/platform/commons/util/ReflectionUtils.java
@@ -1375,8 +1375,13 @@ public final class ReflectionUtils {
 	}
 
 	private static Class<?> loadRequiredParameterType(Class<?> clazz, String methodName, String typeName) {
+		ClassLoader classLoader = clazz.getClassLoader();
+		if (classLoader == null) {
+			classLoader = ClassLoaderUtils.getDefaultClassLoader();
+		}
+
 		// @formatter:off
-		return tryToLoadClass(typeName)
+		return tryToLoadClass(typeName, classLoader)
 				.getOrThrow(cause -> new JUnitException(
 						String.format("Failed to load parameter type [%s] for method [%s] in class [%s].",
 								typeName, methodName, clazz.getName()), cause));
diff --git a/junit-platform-commons/src/testFixtures/java/org/junit/platform/commons/test/TestClassLoader.java b/junit-platform-commons/src/testFixtures/java/org/junit/platform/commons/test/TestClassLoader.java
new file mode 100644
index 000000000..239885fde
--- /dev/null
+++ b/junit-platform-commons/src/testFixtures/java/org/junit/platform/commons/test/TestClassLoader.java
@@ -0,0 +1,89 @@
+/*
+ * Copyright 2015-2023 the original author or authors.
+ *
+ * All rights reserved. This program and the accompanying materials are
+ * made available under the terms of the Eclipse Public License v2.0 which
+ * accompanies this distribution and is available at
+ *
+ * https://www.eclipse.org/legal/epl-v20.html
+ */
+
+package org.junit.platform.commons.test;
+
+import java.lang.StackWalker.Option;
+import java.lang.StackWalker.StackFrame;
+import java.net.URL;
+import java.net.URLClassLoader;
+import java.security.CodeSource;
+import java.util.Arrays;
+import java.util.function.Predicate;
+
+import org.junit.platform.commons.util.ClassLoaderUtils;
+
+/**
+ * Test {@link ClassLoader} which accepts a class name {@link Predicate} to
+ * filter classes that should be loaded by this {@code ClassLoader} instead of
+ * the {@linkplain ClassLoaderUtils#getDefaultClassLoader() default ClassLoader}.
+ *
+ * <p>This class loader is only suitable for specific testing scenarios, where
+ * you need to load particular classes from a different class loader.
+ *
+ * @since 5.10
+ */
+public class TestClassLoader extends URLClassLoader {
+
+	private static final Predicate<Class<?>> notTestClassLoader = clazz -> !clazz.equals(TestClassLoader.class);
+
+	private final Predicate<String> classNameFilter;
+
+	/**
+	 * Create a {@link TestClassLoader} that filters the provided classes.
+	 *
+	 * @see #forClassNamePrefix(String)
+	 */
+	public static TestClassLoader forClasses(Class<?>... classes) {
+		Predicate<String> classNameFilter = name -> Arrays.stream(classes).map(Class::getName).anyMatch(name::equals);
+		return new TestClassLoader(classNameFilter);
+	}
+
+	/**
+	 * Create a {@link TestClassLoader} that filters classes whose fully
+	 * qualified names start with the provided prefix.
+	 *
+	 * @see #forClasses(Class...)
+	 */
+	public static TestClassLoader forClassNamePrefix(String prefix) {
+		return new TestClassLoader(name -> name.startsWith(prefix));
+	}
+
+	public TestClassLoader(Predicate<String> classNameFilter) {
+		super(new URL[] { getCodeSourceUrl() }, ClassLoaderUtils.getDefaultClassLoader());
+
+		this.classNameFilter = classNameFilter;
+	}
+
+	@Override
+	public Class<?> loadClass(String name) throws ClassNotFoundException {
+		return (this.classNameFilter.test(name) ? findClass(name) : super.loadClass(name));
+	}
+
+	/**
+	 * Get the {@link CodeSource} {@link URL} of the class that instantiated the
+	 * {@code TestClassLoader}.
+	 */
+	private static URL getCodeSourceUrl() {
+		StackWalker walker = StackWalker.getInstance(Option.RETAIN_CLASS_REFERENCE);
+
+		// @formatter:off
+		Class<?> callerClass = walker.walk(stream -> stream
+				.map(StackFrame::getDeclaringClass)
+				.filter(notTestClassLoader)
+				.findFirst()
+				.get()
+			);
+		// @formatter:on
+
+		return callerClass.getProtectionDomain().getCodeSource().getLocation();
+	}
+
+}
diff --git a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/LauncherConstants.java b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/LauncherConstants.java
index 02f4378f3..806478728 100644
--- a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/LauncherConstants.java
+++ b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/LauncherConstants.java
@@ -159,65 +159,11 @@ public class LauncherConstants {
 	 * build or to verify a listener is called as expected without having to
 	 * wait for all tests to be executed.
 	 *
-	 * <p>Value must either {@code true} or {@code false}; defaults to {@code false}.
+	 * <p>Value must be either {@code true} or {@code false}; defaults to {@code false}.
 	 */
 	@API(status = EXPERIMENTAL, since = "1.10")
 	public static final String DRY_RUN_PROPERTY_NAME = "junit.platform.execution.dryRun.enabled";
 
-	/**
-	 * Property name used to enable or disable stack trace pruning.
-	 *
-	 * <p>By default, stack trace pruning is enabled.
-	 *
-	 * @see org.junit.platform.launcher.core.EngineExecutionOrchestrator
-	 */
-	@API(status = EXPERIMENTAL, since = "1.10")
-	public static final String STACKTRACE_PRUNING_ENABLED_PROPERTY_NAME = "junit.platform.stacktrace.pruning.enabled";
-
-	/**
-	 * Property name used to provide patterns to remove elements from stack traces.
-	 *
-	 * <h4>Pattern Matching Syntax</h4>
-	 *
-	 * <p>If the property value consists solely of an asterisk ({@code *}), all
-	 * elements will be removed. Otherwise, the property value will be treated
-	 * as a comma-separated list of patterns where each individual pattern will
-	 * be matched against the fully qualified class name (<em>FQCN</em>) of the
-	 * stack trace element. Any dot ({@code .}) in a pattern will match against
-	 * a dot ({@code .}) or a dollar sign ({@code $}) in a FQCN. Any asterisk
-	 * ({@code *}) will match against one or more characters in a FQCN. All
-	 * other characters in a pattern will be matched one-to-one against a FQCN.
-	 *
-	 * <h4>Examples</h4>
-	 *
-	 * <ul>
-	 * <li>{@code *}: remove all elements.
-	 * <li>{@code org.junit.*}: remove every element with the {@code org.junit}
-	 * base package and any of its subpackages.
-	 * <li>{@code *.MyClass}: remove every element whose simple class name is
-	 * exactly {@code MyClass}.
-	 * <li>{@code *System*, *Dev*}: exclude every element whose FQCN contains
-	 * {@code System} or {@code Dev}.
-	 * <li>{@code org.example.MyClass, org.example.TheirClass}: remove
-	 * elements whose FQCN is exactly {@code org.example.MyClass} or
-	 * {@code org.example.TheirClass}.
-	 * </ul>
-	 *
-	 * @see #STACKTRACE_PRUNING_DEFAULT_PATTERN
-	 */
-	@API(status = EXPERIMENTAL, since = "1.10")
-	public static final String STACKTRACE_PRUNING_PATTERN_PROPERTY_NAME = "junit.platform.stacktrace.pruning.pattern";
-
-	/**
-	 * Default pattern for stack trace pruning which matches the
-	 * {@code org.junit}, {@code java}, and {@code jdk} base packages as well
-	 * as any of their subpackages.
-	 *
-	 * @see #STACKTRACE_PRUNING_PATTERN_PROPERTY_NAME
-	 */
-	@API(status = EXPERIMENTAL, since = "1.10")
-	public static final String STACKTRACE_PRUNING_DEFAULT_PATTERN = "org.junit.*,java.*,jdk.*";
-
 	private LauncherConstants() {
 		/* no-op */
 	}
diff --git a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/EngineExecutionOrchestrator.java b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/EngineExecutionOrchestrator.java
index ab1a8e94b..8ec4a133c 100644
--- a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/EngineExecutionOrchestrator.java
+++ b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/EngineExecutionOrchestrator.java
@@ -12,9 +12,6 @@ package org.junit.platform.launcher.core;
 
 import static org.apiguardian.api.API.Status.INTERNAL;
 import static org.junit.platform.launcher.LauncherConstants.DRY_RUN_PROPERTY_NAME;
-import static org.junit.platform.launcher.LauncherConstants.STACKTRACE_PRUNING_DEFAULT_PATTERN;
-import static org.junit.platform.launcher.LauncherConstants.STACKTRACE_PRUNING_ENABLED_PROPERTY_NAME;
-import static org.junit.platform.launcher.LauncherConstants.STACKTRACE_PRUNING_PATTERN_PROPERTY_NAME;
 import static org.junit.platform.launcher.core.ListenerRegistry.forEngineExecutionListeners;
 
 import java.util.Optional;
@@ -158,34 +155,20 @@ public class EngineExecutionOrchestrator {
 		Preconditions.notNull(discoveryResult, "discoveryResult must not be null");
 		Preconditions.notNull(engineExecutionListener, "engineExecutionListener must not be null");
 
-		ConfigurationParameters configurationParameters = discoveryResult.getConfigurationParameters();
-		EngineExecutionListener listener = selectExecutionListener(engineExecutionListener, configurationParameters);
-
 		for (TestEngine testEngine : discoveryResult.getTestEngines()) {
 			TestDescriptor engineDescriptor = discoveryResult.getEngineTestDescriptor(testEngine);
 			if (engineDescriptor instanceof EngineDiscoveryErrorDescriptor) {
-				listener.executionStarted(engineDescriptor);
-				listener.executionFinished(engineDescriptor,
+				engineExecutionListener.executionStarted(engineDescriptor);
+				engineExecutionListener.executionFinished(engineDescriptor,
 					TestExecutionResult.failed(((EngineDiscoveryErrorDescriptor) engineDescriptor).getCause()));
 			}
 			else {
-				execute(engineDescriptor, listener, configurationParameters, testEngine);
+				execute(engineDescriptor, engineExecutionListener, discoveryResult.getConfigurationParameters(),
+					testEngine);
 			}
 		}
 	}
 
-	private static EngineExecutionListener selectExecutionListener(EngineExecutionListener engineExecutionListener,
-			ConfigurationParameters configurationParameters) {
-		boolean stackTracePruningEnabled = configurationParameters.getBoolean(STACKTRACE_PRUNING_ENABLED_PROPERTY_NAME) //
-				.orElse(true);
-		if (stackTracePruningEnabled) {
-			String pruningPattern = configurationParameters.get(STACKTRACE_PRUNING_PATTERN_PROPERTY_NAME) //
-					.orElse(STACKTRACE_PRUNING_DEFAULT_PATTERN);
-			return new StackTracePruningEngineExecutionListener(engineExecutionListener, pruningPattern);
-		}
-		return engineExecutionListener;
-	}
-
 	private ListenerRegistry<TestExecutionListener> buildListenerRegistryForExecution(
 			TestExecutionListener... listeners) {
 		if (listeners.length == 0) {
diff --git a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/StackTracePruningEngineExecutionListener.java b/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/StackTracePruningEngineExecutionListener.java
deleted file mode 100644
index 574ce4827..000000000
--- a/junit-platform-launcher/src/main/java/org/junit/platform/launcher/core/StackTracePruningEngineExecutionListener.java
+++ /dev/null
@@ -1,58 +0,0 @@
-/*
- * Copyright 2015-2023 the original author or authors.
- *
- * All rights reserved. This program and the accompanying materials are
- * made available under the terms of the Eclipse Public License v2.0 which
- * accompanies this distribution and is available at
- *
- * https://www.eclipse.org/legal/epl-v20.html
- */
-
-package org.junit.platform.launcher.core;
-
-import java.util.Arrays;
-import java.util.List;
-import java.util.function.Predicate;
-
-import org.junit.platform.commons.util.ClassNamePatternFilterUtils;
-import org.junit.platform.commons.util.ExceptionUtils;
-import org.junit.platform.engine.EngineExecutionListener;
-import org.junit.platform.engine.TestDescriptor;
-import org.junit.platform.engine.TestExecutionResult;
-
-/**
- * Prunes the stack trace in case of a failed event.
- *
- * @since 1.10
- * @see org.junit.platform.commons.util.ExceptionUtils#pruneStackTrace(Throwable, Predicate)
- */
-class StackTracePruningEngineExecutionListener extends DelegatingEngineExecutionListener {
-
-	private static final List<String> ALWAYS_INCLUDED_STACK_TRACE_ELEMENTS = Arrays.asList( //
-		"org.junit.jupiter.api.Assertions", //
-		"org.junit.jupiter.api.Assumptions" //
-	);
-
-	private final Predicate<String> stackTraceElementFilter;
-
-	StackTracePruningEngineExecutionListener(EngineExecutionListener delegate, String pruningPattern) {
-		super(delegate);
-		this.stackTraceElementFilter = ClassNamePatternFilterUtils.excludeMatchingClassNames(pruningPattern) //
-				.or(ALWAYS_INCLUDED_STACK_TRACE_ELEMENTS::contains);
-	}
-
-	@Override
-	public void executionFinished(TestDescriptor testDescriptor, TestExecutionResult testExecutionResult) {
-		if (testExecutionResult.getThrowable().isPresent()) {
-			Throwable throwable = testExecutionResult.getThrowable().get();
-
-			ExceptionUtils.findNestedThrowables(throwable).forEach(this::pruneStackTrace);
-		}
-		super.executionFinished(testDescriptor, testExecutionResult);
-	}
-
-	private void pruneStackTrace(Throwable throwable) {
-		ExceptionUtils.pruneStackTrace(throwable, stackTraceElementFilter);
-	}
-
-}
diff --git a/platform-tests/src/test/java/org/junit/platform/StackTracePruningTests.java b/platform-tests/src/test/java/org/junit/platform/StackTracePruningTests.java
deleted file mode 100644
index 397dacc31..000000000
--- a/platform-tests/src/test/java/org/junit/platform/StackTracePruningTests.java
+++ /dev/null
@@ -1,205 +0,0 @@
-/*
- * Copyright 2015-2023 the original author or authors.
- *
- * All rights reserved. This program and the accompanying materials are
- * made available under the terms of the Eclipse Public License v2.0 which
- * accompanies this distribution and is available at
- *
- * https://www.eclipse.org/legal/epl-v20.html
- */
-
-package org.junit.platform;
-
-import static org.assertj.core.api.Assertions.assertThat;
-import static org.junit.jupiter.api.Assertions.assertLinesMatch;
-import static org.junit.platform.engine.discovery.DiscoverySelectors.selectMethod;
-
-import java.util.Arrays;
-import java.util.List;
-import java.util.stream.Collectors;
-
-import org.junit.jupiter.api.Assertions;
-import org.junit.jupiter.api.Assumptions;
-import org.junit.jupiter.api.Test;
-import org.junit.platform.engine.TestExecutionResult;
-import org.junit.platform.testkit.engine.EngineExecutionResults;
-import org.junit.platform.testkit.engine.EngineTestKit;
-
-/**
- * Test cases for stacktrace pruning.
- *
- * <p>Note: the package {@code org.junit.platform} this class resides in is
- * chosen on purpose. If it was in {@code org.junit.platform.launcher}
- * stack traces would be fully pruned.
- *
- * @since 5.10
- */
-class StackTracePruningTests {
-
-	@Test
-	void shouldPruneStackTraceByDefault() {
-		EngineExecutionResults results = EngineTestKit.engine("junit-jupiter") //
-				.selectors(selectMethod(StackTracePruningTestCase.class, "failingAssertion")) //
-				.execute();
-
-		List<StackTraceElement> stackTrace = extractStackTrace(results);
-
-		assertStackTraceMatch(stackTrace, """
-				\\Qorg.junit.jupiter.api.Assertions.fail(Assertions.java:\\E.+
-				""");
-
-		assertStackTraceDoesNotContain(stackTrace, "java.util.ArrayList.forEach(ArrayList.java:");
-		assertStackTraceDoesNotContain(stackTrace,
-			"jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:");
-	}
-
-	@Test
-	void shouldPruneStackTraceWhenEnabled() {
-		EngineExecutionResults results = EngineTestKit.engine("junit-jupiter") //
-				.configurationParameter("junit.platform.stacktrace.pruning.enabled", "true") //
-				.selectors(selectMethod(StackTracePruningTestCase.class, "failingAssertion")) //
-				.execute();
-
-		List<StackTraceElement> stackTrace = extractStackTrace(results);
-
-		assertStackTraceMatch(stackTrace, """
-				\\Qorg.junit.jupiter.api.Assertions.fail(Assertions.java:\\E.+
-				""");
-
-		assertStackTraceDoesNotContain(stackTrace, "java.util.ArrayList.forEach(ArrayList.java:");
-		assertStackTraceDoesNotContain(stackTrace,
-			"jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:");
-	}
-
-	@Test
-	void shouldNotPruneStackTraceWhenDisabled() {
-		EngineExecutionResults results = EngineTestKit.engine("junit-jupiter") //
-				.configurationParameter("junit.platform.stacktrace.pruning.enabled", "false") //
-				.selectors(selectMethod(StackTracePruningTestCase.class, "failingAssertion")) //
-				.execute();
-
-		List<StackTraceElement> stackTrace = extractStackTrace(results);
-
-		assertStackTraceMatch(stackTrace, """
-				\\Qorg.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:\\E.+
-				\\Qorg.junit.jupiter.api.Assertions.fail(Assertions.java:\\E.+
-				>>>>
-				\\Qjava.base/java.util.ArrayList.forEach(ArrayList.java:\\E.+
-				>>>>
-				""");
-	}
-
-	@Test
-	void shouldPruneStackTraceAccordingToPattern() {
-		EngineExecutionResults results = EngineTestKit.engine("junit-jupiter") //
-				.configurationParameter("junit.platform.stacktrace.pruning.enabled", "true") //
-				.configurationParameter("junit.platform.stacktrace.pruning.pattern", "jdk.*") //
-				.selectors(selectMethod(StackTracePruningTestCase.class, "failingAssertion")) //
-				.execute();
-
-		List<StackTraceElement> stackTrace = extractStackTrace(results);
-
-		assertStackTraceMatch(stackTrace, """
-				\\Qorg.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:\\E.+
-				\\Qorg.junit.jupiter.api.Assertions.fail(Assertions.java:\\E.+
-				>>>>
-				\\Qjava.base/java.util.ArrayList.forEach(ArrayList.java:\\E.+
-				>>>>
-				""");
-
-		assertStackTraceDoesNotContain(stackTrace, "jdk.");
-	}
-
-	@Test
-	void shouldAlwaysKeepJupiterAssertionStackTraceElement() {
-		EngineExecutionResults results = EngineTestKit.engine("junit-jupiter") //
-				.configurationParameter("junit.platform.stacktrace.pruning.enabled", "true") //
-				.configurationParameter("junit.platform.stacktrace.pruning.pattern", "*") //
-				.selectors(selectMethod(StackTracePruningTestCase.class, "failingAssertion")) //
-				.execute();
-
-		List<StackTraceElement> stackTrace = extractStackTrace(results);
-
-		assertStackTraceMatch(stackTrace, """
-				\\Qorg.junit.jupiter.api.Assertions.fail(Assertions.java:\\E.+
-				""");
-	}
-
-	@Test
-	void shouldAlwaysKeepJupiterAssumptionStackTraceElement() {
-		EngineExecutionResults results = EngineTestKit.engine("junit-jupiter") //
-				.configurationParameter("junit.platform.stacktrace.pruning.enabled", "true") //
-				.configurationParameter("junit.platform.stacktrace.pruning.pattern", "*") //
-				.selectors(selectMethod(StackTracePruningTestCase.class, "failingAssumption")) //
-				.execute();
-
-		List<StackTraceElement> stackTrace = extractStackTrace(results);
-
-		assertStackTraceMatch(stackTrace, """
-				\\Qorg.junit.jupiter.api.Assumptions.assumeTrue(Assumptions.java:\\E.+
-				""");
-	}
-
-	@Test
-	void shouldPruneStackTracesOfSuppressedExceptions() {
-		EngineExecutionResults results = EngineTestKit.engine("junit-jupiter") //
-				.configurationParameter("junit.platform.stacktrace.pruning.enabled", "true") //
-				.selectors(selectMethod(StackTracePruningTestCase.class, "multipleFailingAssertions")) //
-				.execute();
-
-		Throwable throwable = getThrowable(results);
-
-		for (Throwable suppressed : throwable.getSuppressed()) {
-			List<StackTraceElement> stackTrace = Arrays.asList(suppressed.getStackTrace());
-			assertStackTraceDoesNotContain(stackTrace, "java.util.ArrayList.forEach(ArrayList.java:");
-		}
-	}
-
-	private static List<StackTraceElement> extractStackTrace(EngineExecutionResults results) {
-		return Arrays.asList(getThrowable(results).getStackTrace());
-	}
-
-	private static Throwable getThrowable(EngineExecutionResults results) {
-		var failedTestEvent = results.testEvents().failed().list().get(0);
-		var testResult = failedTestEvent.getRequiredPayload(TestExecutionResult.class);
-		return testResult.getThrowable().orElseThrow();
-	}
-
-	private static void assertStackTraceMatch(List<StackTraceElement> stackTrace, String expectedLines) {
-		List<String> stackStraceAsLines = stackTrace.stream() //
-				.map(StackTraceElement::toString) //
-				.collect(Collectors.toList());
-		assertLinesMatch(expectedLines.lines().toList(), stackStraceAsLines);
-	}
-
-	private static void assertStackTraceDoesNotContain(List<StackTraceElement> stackTrace, String element) {
-		String stackStraceAsString = stackTrace.stream() //
-				.map(StackTraceElement::toString) //
-				.collect(Collectors.joining());
-		assertThat(stackStraceAsString).doesNotContain(element);
-	}
-
-	// -------------------------------------------------------------------
-
-	static class StackTracePruningTestCase {
-
-		@Test
-		void failingAssertion() {
-			Assertions.fail();
-		}
-
-		@Test
-		void multipleFailingAssertions() {
-			Assertions.assertAll(Assertions::fail, Assertions::fail);
-		}
-
-		@Test
-		void failingAssumption() {
-			Assumptions.assumeTrue(() -> {
-				throw new RuntimeException();
-			});
-		}
-
-	}
-
-}
diff --git a/platform-tests/src/test/java/org/junit/platform/commons/util/ClassNamePatternFilterUtilsTests.java b/platform-tests/src/test/java/org/junit/platform/commons/util/ClassNamePatternFilterUtilsTests.java
index 214daefbb..7f0d6a7f3 100644
--- a/platform-tests/src/test/java/org/junit/platform/commons/util/ClassNamePatternFilterUtilsTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/commons/util/ClassNamePatternFilterUtilsTests.java
@@ -45,11 +45,11 @@ class ClassNamePatternFilterUtilsTests {
 	})
 	//@formatter:on
 	@ParameterizedTest
-	void neverExcludedConditions(String pattern) {
+	void alwaysEnabledConditions(String pattern) {
 		List<? extends ExecutionCondition> executionConditions = List.of(new AExecutionConditionClass(),
 			new BExecutionConditionClass());
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)) //
-				.hasSize(2);
+		assertThat(executionConditions).filteredOn(
+			ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)).isNotEmpty();
 	}
 
 	//@formatter:off
@@ -62,11 +62,11 @@ class ClassNamePatternFilterUtilsTests {
 	})
 	//@formatter:on
 	@ParameterizedTest
-	void alwaysExcludedConditions(String pattern) {
+	void alwaysDisabledConditions(String pattern) {
 		List<? extends ExecutionCondition> executionConditions = List.of(new AExecutionConditionClass(),
 			new BExecutionConditionClass());
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)) //
-				.isEmpty();
+		assertThat(executionConditions).filteredOn(
+			ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)).isEmpty();
 	}
 
 	//@formatter:off
@@ -79,11 +79,11 @@ class ClassNamePatternFilterUtilsTests {
 	})
 	//@formatter:on
 	@ParameterizedTest
-	void neverExcludedListeners(String pattern) {
+	void alwaysEnabledListeners(String pattern) {
 		List<? extends TestExecutionListener> executionConditions = List.of(new ATestExecutionListenerClass(),
 			new BTestExecutionListenerClass());
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)) //
-				.hasSize(2);
+		assertThat(executionConditions).filteredOn(
+			ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)).isNotEmpty();
 	}
 
 	//@formatter:off
@@ -96,11 +96,11 @@ class ClassNamePatternFilterUtilsTests {
 	})
 	//@formatter:on
 	@ParameterizedTest
-	void alwaysExcludedListeners(String pattern) {
+	void alwaysDisabledListeners(String pattern) {
 		List<? extends TestExecutionListener> executionConditions = List.of(new ATestExecutionListenerClass(),
 			new BTestExecutionListenerClass());
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)) //
-				.isEmpty();
+		assertThat(executionConditions).filteredOn(
+			ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)).isEmpty();
 	}
 
 	//@formatter:off
@@ -113,10 +113,10 @@ class ClassNamePatternFilterUtilsTests {
 	})
 	//@formatter:on
 	@ParameterizedTest
-	void neverExcludedClass(String pattern) {
+	void alwaysEnabledClass(String pattern) {
 		var executionConditions = List.of(new AVanillaEmpty(), new BVanillaEmpty());
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)) //
-				.hasSize(2);
+		assertThat(executionConditions).filteredOn(
+			ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)).isNotEmpty();
 	}
 
 	//@formatter:off
@@ -129,44 +129,9 @@ class ClassNamePatternFilterUtilsTests {
 	})
 	//@formatter:on
 	@ParameterizedTest
-	void alwaysExcludedClass(String pattern) {
+	void alwaysDisabledClass(String pattern) {
 		var executionConditions = List.of(new AVanillaEmpty(), new BVanillaEmpty());
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)) //
-				.isEmpty();
+		assertThat(executionConditions).filteredOn(
+			ClassNamePatternFilterUtils.excludeMatchingClasses(pattern)).isEmpty();
 	}
-
-	//@formatter:off
-	@ValueSource(strings = {
-			"org.junit.jupiter.*",
-			"org.junit.platform.*.NonExistentClass",
-			"*.NonExistentClass*",
-			"*NonExistentClass*",
-			"AVanillaEmpty, BVanillaEmpty"
-	})
-	//@formatter:on
-	@ParameterizedTest
-	void neverExcludedClassName(String pattern) {
-		var executionConditions = List.of("org.junit.platform.commons.util.classes.AVanillaEmpty",
-			"org.junit.platform.commons.util.classes.BVanillaEmpty");
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClassNames(pattern)) //
-				.hasSize(2);
-	}
-
-	//@formatter:off
-	@ValueSource(strings = {
-			"org.junit.platform.*",
-			"*.platform.*",
-			"*",
-			"*AVanillaEmpty, *BVanillaEmpty",
-			"*VanillaEmpty"
-	})
-	//@formatter:on
-	@ParameterizedTest
-	void alwaysExcludedClassName(String pattern) {
-		var executionConditions = List.of("org.junit.platform.commons.util.classes.AVanillaEmpty",
-			"org.junit.platform.commons.util.classes.BVanillaEmpty");
-		assertThat(executionConditions).filteredOn(ClassNamePatternFilterUtils.excludeMatchingClassNames(pattern)) //
-				.isEmpty();
-	}
-
 }
diff --git a/platform-tests/src/test/java/org/junit/platform/commons/util/ExceptionUtilsTests.java b/platform-tests/src/test/java/org/junit/platform/commons/util/ExceptionUtilsTests.java
index 4d04fa970..b3750f529 100644
--- a/platform-tests/src/test/java/org/junit/platform/commons/util/ExceptionUtilsTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/commons/util/ExceptionUtilsTests.java
@@ -11,17 +11,11 @@
 package org.junit.platform.commons.util;
 
 import static org.assertj.core.api.Assertions.assertThat;
-import static org.junit.jupiter.api.Assertions.assertLinesMatch;
 import static org.junit.jupiter.api.Assertions.assertThrows;
-import static org.junit.platform.commons.util.ExceptionUtils.findNestedThrowables;
-import static org.junit.platform.commons.util.ExceptionUtils.pruneStackTrace;
 import static org.junit.platform.commons.util.ExceptionUtils.readStackTrace;
 import static org.junit.platform.commons.util.ExceptionUtils.throwAsUncheckedException;
 
 import java.io.IOException;
-import java.util.Arrays;
-import java.util.List;
-import java.util.stream.Collectors;
 
 import org.junit.jupiter.api.Test;
 import org.junit.platform.commons.JUnitException;
@@ -68,80 +62,4 @@ class ExceptionUtilsTests {
 		}
 	}
 
-	@Test
-	void pruneStackTraceOfCallsFromSpecificPackage() {
-		try {
-			throw new JUnitException("expected");
-		}
-		catch (JUnitException e) {
-			pruneStackTrace(e, element -> !element.startsWith("org.junit."));
-			assertThat(e.getStackTrace()) //
-					.noneMatch(element -> element.toString().contains("org.junit."));
-		}
-	}
-
-	@Test
-	void pruneStackTraceOfAllLauncherCalls() {
-		try {
-			throw new JUnitException("expected");
-		}
-		catch (JUnitException e) {
-			pruneStackTrace(e, element -> true);
-			assertThat(e.getStackTrace()) //
-					.noneMatch(element -> element.toString().contains("org.junit.platform.launcher."));
-		}
-	}
-
-	@Test
-	void pruneStackTraceOfEverythingPriorToFirstLauncherCall() {
-		try {
-			throw new JUnitException("expected");
-		}
-		catch (JUnitException e) {
-			StackTraceElement[] stackTrace = e.getStackTrace();
-			stackTrace[stackTrace.length - 1] = new StackTraceElement("org.example.Class", "method", "file", 123);
-			e.setStackTrace(stackTrace);
-
-			pruneStackTrace(e, element -> true);
-			assertThat(e.getStackTrace()) //
-					.noneMatch(element -> element.toString().contains("org.example.Class.method(file:123)"));
-		}
-	}
-
-	@Test
-	void findSuppressedExceptionsAndCausesOfThrowable() {
-		Throwable t1 = new Throwable("#1");
-		Throwable t2 = new Throwable("#2");
-		Throwable t3 = new Throwable("#3");
-		Throwable t4 = new Throwable("#4");
-		Throwable t5 = new Throwable("#5");
-		t1.initCause(t2);
-		t2.initCause(t3);
-		t1.addSuppressed(t4);
-		t2.addSuppressed(t5);
-
-		assertThat(findNestedThrowables(t1)) //
-				.extracting(Throwable::getMessage) //
-				.containsExactlyInAnyOrder("#1", "#2", "#3", "#4", "#5");
-	}
-
-	@Test
-	void avoidCyclesWhileSearchingForNestedThrowables() {
-		Throwable t1 = new Throwable();
-		Throwable t2 = new Throwable(t1);
-		Throwable t3 = new Throwable(t1);
-		t1.initCause(t2);
-		t1.addSuppressed(t3);
-		t2.addSuppressed(t3);
-
-		assertThat(findNestedThrowables(t1)).hasSize(3);
-	}
-
-	private static void assertStackTraceMatch(StackTraceElement[] stackTrace, String expectedLines) {
-		List<String> stackStraceAsLines = Arrays.stream(stackTrace) //
-				.map(StackTraceElement::toString) //
-				.collect(Collectors.toList());
-		assertLinesMatch(expectedLines.lines().toList(), stackStraceAsLines);
-	}
-
 }
diff --git a/platform-tests/src/test/java/org/junit/platform/commons/util/ReflectionUtilsTests.java b/platform-tests/src/test/java/org/junit/platform/commons/util/ReflectionUtilsTests.java
index d667bce77..52bf8b442 100644
--- a/platform-tests/src/test/java/org/junit/platform/commons/util/ReflectionUtilsTests.java
+++ b/platform-tests/src/test/java/org/junit/platform/commons/util/ReflectionUtilsTests.java
@@ -58,6 +58,7 @@ import org.junit.jupiter.api.io.TempDir;
 import org.junit.platform.commons.JUnitException;
 import org.junit.platform.commons.PreconditionViolationException;
 import org.junit.platform.commons.logging.LogRecordListener;
+import org.junit.platform.commons.test.TestClassLoader;
 import org.junit.platform.commons.util.ReflectionUtilsTests.ClassWithNestedClasses.Nested1;
 import org.junit.platform.commons.util.ReflectionUtilsTests.ClassWithNestedClasses.Nested2;
 import org.junit.platform.commons.util.ReflectionUtilsTests.ClassWithNestedClasses.Nested3;
@@ -70,6 +71,7 @@ import org.junit.platform.commons.util.ReflectionUtilsTests.OuterClass.Recursive
 import org.junit.platform.commons.util.ReflectionUtilsTests.OuterClass.StaticNestedClass;
 import org.junit.platform.commons.util.ReflectionUtilsTests.OuterClass.StaticNestedSiblingClass;
 import org.junit.platform.commons.util.ReflectionUtilsTests.OuterClassImplementingInterface.InnerClassImplementingInterface;
+import org.junit.platform.commons.util.classes.CustomType;
 
 /**
  * Unit tests for {@link ReflectionUtils}.
@@ -1023,6 +1025,33 @@ class ReflectionUtilsTests {
 		assertFindMethodByParameterNames("methodWithMultidimensionalObjectArray", Double[][][][][].class);
 	}
 
+	/**
+	 * @since 5.10
+	 */
+	@Test
+	void findMethodByParameterNamesWithWithCustomTypeFromDifferentClassLoader() throws Exception {
+		var methodName = "customMethod";
+		var customTypeName = CustomType.class.getName();
+		var nestedTypeName = CustomType.NestedType.class.getName();
+
+		try (TestClassLoader customTypeClassLoader = TestClassLoader.forClassNamePrefix(customTypeName)) {
+			var customType = customTypeClassLoader.loadClass(customTypeName);
+
+			var optional = findMethod(customType, methodName, nestedTypeName);
+			assertThat(optional).get().satisfies(method -> {
+				assertThat(method.getName()).isEqualTo(methodName);
+
+				var declaringClass = method.getDeclaringClass();
+				assertThat(declaringClass.getName()).isEqualTo(customTypeName);
+				assertThat(declaringClass).isNotEqualTo(CustomType.class);
+
+				var parameterTypes = method.getParameterTypes();
+				assertThat(parameterTypes).extracting(Class::getName).containsExactly(nestedTypeName);
+				assertThat(parameterTypes[0].getClass()).isNotEqualTo(CustomType.NestedType.class);
+			});
+		}
+	}
+
 	@Test
 	void findMethodByParameterNamesWithParameterizedMapParameter() throws Exception {
 		var methodName = "methodWithParameterizedMap";
diff --git a/platform-tests/src/test/java/org/junit/platform/commons/util/classes/CustomType.java b/platform-tests/src/test/java/org/junit/platform/commons/util/classes/CustomType.java
new file mode 100644
index 000000000..8a56cae42
--- /dev/null
+++ b/platform-tests/src/test/java/org/junit/platform/commons/util/classes/CustomType.java
@@ -0,0 +1,21 @@
+/*
+ * Copyright 2015-2023 the original author or authors.
+ *
+ * All rights reserved. This program and the accompanying materials are
+ * made available under the terms of the Eclipse Public License v2.0 which
+ * accompanies this distribution and is available at
+ *
+ * https://www.eclipse.org/legal/epl-v20.html
+ */
+
+package org.junit.platform.commons.util.classes;
+
+public class CustomType {
+
+	void customMethod(NestedType arg) {
+	}
+
+	public static class NestedType {
+	}
+
+}
diff --git a/platform-tooling-support-tests/projects/graalvm-starter/build.gradle.kts b/platform-tooling-support-tests/projects/graalvm-starter/build.gradle.kts
index cd346c7f1..26f76f8b8 100644
--- a/platform-tooling-support-tests/projects/graalvm-starter/build.gradle.kts
+++ b/platform-tooling-support-tests/projects/graalvm-starter/build.gradle.kts
@@ -32,6 +32,7 @@ graalvmNative {
 	binaries {
 		named("test") {
 			buildArgs.add("--initialize-at-build-time=org.junit.platform.launcher.core.LauncherConfig")
+			buildArgs.add("--initialize-at-build-time=org.junit.jupiter.engine.config.InstantiatingConfigurationParameterConverter")
 			buildArgs.add("-H:+ReportExceptionStackTraces")
 		}
 	}
diff --git a/settings.gradle.kts b/settings.gradle.kts
index 6b2001350..8ae205fbc 100644
--- a/settings.gradle.kts
+++ b/settings.gradle.kts
@@ -72,12 +72,6 @@ buildCache {
 	}
 }
 
-val expectedJavaVersion = JavaVersion.VERSION_17
-val actualJavaVersion = JavaVersion.current()
-require(actualJavaVersion == expectedJavaVersion) {
-	"The JUnit 5 build must be executed with Java ${expectedJavaVersion.majorVersion}. Currently executing with Java ${actualJavaVersion.majorVersion}."
-}
-
 rootProject.name = "junit5"
 
 include("documentation")
