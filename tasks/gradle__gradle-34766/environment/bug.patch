diff --git a/.teamcity/src/main/kotlin/common/CommonExtensions.kt b/.teamcity/src/main/kotlin/common/CommonExtensions.kt
index c039c465f74..e8456ffcb83 100644
--- a/.teamcity/src/main/kotlin/common/CommonExtensions.kt
+++ b/.teamcity/src/main/kotlin/common/CommonExtensions.kt
@@ -332,11 +332,10 @@ fun functionalTestParameters(
 ): List<String> =
     listOf(
         "-PteamCityBuildId=%teamcity.build.id%",
-        "-Dorg.gradle.java.installations.auto-download=false",
+        os.javaInstallationLocations(arch),
         "-Porg.gradle.java.installations.auto-download=false",
-        "-Dorg.gradle.java.installations.auto-detect=false",
         "-Porg.gradle.java.installations.auto-detect=false",
-    ) + os.javaInstallationLocations(arch)
+    )
 
 fun promotionBuildParameters(
     dependencyBuildId: RelativeId,
diff --git a/.teamcity/src/main/kotlin/common/Os.kt b/.teamcity/src/main/kotlin/common/Os.kt
index a0ae2bb884d..f47544cc527 100644
--- a/.teamcity/src/main/kotlin/common/Os.kt
+++ b/.teamcity/src/main/kotlin/common/Os.kt
@@ -69,7 +69,7 @@ enum class Os(
 
     fun asName() = name.lowercase().toCapitalized()
 
-    fun javaInstallationLocations(arch: Arch = Arch.AMD64): List<String> {
+    fun javaInstallationLocations(arch: Arch = Arch.AMD64): String {
         val paths =
             when {
                 this == LINUX ->
@@ -99,9 +99,6 @@ enum class Os(
                         DefaultJvm(JvmVersion.JAVA_25, JvmVendor.OPENJDK),
                     )
             }.joinToString(",") { javaHome(it, this, arch) }
-        return listOf(
-            """"-Dorg.gradle.java.installations.paths=$paths"""",
-            """"-Porg.gradle.java.installations.paths=$paths"""",
-        )
+        return """"-Porg.gradle.java.installations.paths=$paths""""
     }
 }
diff --git a/.teamcity/src/main/kotlin/common/PerformanceTestExtensions.kt b/.teamcity/src/main/kotlin/common/PerformanceTestExtensions.kt
index cf1426619d0..b875d6b3b63 100644
--- a/.teamcity/src/main/kotlin/common/PerformanceTestExtensions.kt
+++ b/.teamcity/src/main/kotlin/common/PerformanceTestExtensions.kt
@@ -59,9 +59,9 @@ fun performanceTestCommandLine(
     "-PtestJavaVendor=$testJavaVendor",
     "-PautoDownloadAndroidStudio=true",
     "-PrunAndroidStudioInHeadlessMode=true",
-    "-Dorg.gradle.java.installations.auto-download=false",
     "-Porg.gradle.java.installations.auto-download=false",
-) + os.javaInstallationLocations(arch) +
+    os.javaInstallationLocations(arch),
+) +
     listOf(
         "-Porg.gradle.performance.branchName" to "%teamcity.build.branch%",
         "-Porg.gradle.performance.db.url" to "%performance.db.url%",
diff --git a/.teamcity/src/main/kotlin/configurations/BuildDistributions.kt b/.teamcity/src/main/kotlin/configurations/BuildDistributions.kt
index 8c2e4b09c0e..d0d9669200a 100644
--- a/.teamcity/src/main/kotlin/configurations/BuildDistributions.kt
+++ b/.teamcity/src/main/kotlin/configurations/BuildDistributions.kt
@@ -23,7 +23,6 @@ class BuildDistributions(
                     stage.getBuildScanCustomValueParam(),
                     buildScanTagParam("BuildDistributions"),
                     "-PtestJavaVersion=${LINUX.buildJavaVersion.major}",
-                    "-Dorg.gradle.java.installations.auto-download=false",
                     "-Porg.gradle.java.installations.auto-download=false",
                 ).joinToString(" "),
         )
diff --git a/.teamcity/src/main/kotlin/configurations/BuildLogicTest.kt b/.teamcity/src/main/kotlin/configurations/BuildLogicTest.kt
index 16167f66ad3..86958a2109c 100644
--- a/.teamcity/src/main/kotlin/configurations/BuildLogicTest.kt
+++ b/.teamcity/src/main/kotlin/configurations/BuildLogicTest.kt
@@ -26,7 +26,6 @@ class BuildLogicTest(
                 listOf(
                     stage.getBuildScanCustomValueParam(),
                     buildScanTagParam("BuildLogitTest"),
-                    "-Dorg.gradle.java.installations.auto-download=false",
                     "-Porg.gradle.java.installations.auto-download=false",
                 ).joinToString(" "),
         )
diff --git a/.teamcity/src/main/kotlin/configurations/CheckLinks.kt b/.teamcity/src/main/kotlin/configurations/CheckLinks.kt
index 03d58e4a3b0..f1caa244b9c 100644
--- a/.teamcity/src/main/kotlin/configurations/CheckLinks.kt
+++ b/.teamcity/src/main/kotlin/configurations/CheckLinks.kt
@@ -20,7 +20,6 @@ class CheckLinks(
             extraParameters =
                 listOf(
                     buildScanTagParam("CheckLinks"),
-                    "-Dorg.gradle.java.installations.auto-download=false",
                     "-Porg.gradle.java.installations.auto-download=false",
                 ).joinToString(""),
         )
diff --git a/.teamcity/src/main/kotlin/configurations/CompileAll.kt b/.teamcity/src/main/kotlin/configurations/CompileAll.kt
index 1882c530f38..7e9f021f9d8 100644
--- a/.teamcity/src/main/kotlin/configurations/CompileAll.kt
+++ b/.teamcity/src/main/kotlin/configurations/CompileAll.kt
@@ -26,7 +26,6 @@ class CompileAll(
                 listOf(
                     stage.getBuildScanCustomValueParam(),
                     buildScanTagParam("CompileAll"),
-                    "-Dorg.gradle.java.installations.auto-download=false",
                     "-Porg.gradle.java.installations.auto-download=false",
                 ).joinToString(" "),
         )
diff --git a/.teamcity/src/main/kotlin/configurations/SanityCheck.kt b/.teamcity/src/main/kotlin/configurations/SanityCheck.kt
index b7a3dd4d195..6c7144cc367 100644
--- a/.teamcity/src/main/kotlin/configurations/SanityCheck.kt
+++ b/.teamcity/src/main/kotlin/configurations/SanityCheck.kt
@@ -26,7 +26,6 @@ class SanityCheck(
                 listOf(
                     stage.getBuildScanCustomValueParam(),
                     buildScanTagParam("SanityCheck"),
-                    "-Dorg.gradle.java.installations.auto-download=false",
                     "-Porg.gradle.java.installations.auto-download=false",
                 ).joinToString(" "),
         )
diff --git a/.teamcity/src/main/kotlin/configurations/TestPerformanceTest.kt b/.teamcity/src/main/kotlin/configurations/TestPerformanceTest.kt
index 6d7b1b223d6..a653083c93c 100644
--- a/.teamcity/src/main/kotlin/configurations/TestPerformanceTest.kt
+++ b/.teamcity/src/main/kotlin/configurations/TestPerformanceTest.kt
@@ -60,7 +60,8 @@ class TestPerformanceTest(
                     "-PtestJavaVendor=${os.perfTestJavaVendor.name.lowercase()}",
                     "-PautoDownloadAndroidStudio=true",
                     "-PrunAndroidStudioInHeadlessMode=true",
-                ) + os.javaInstallationLocations(),
+                    os.javaInstallationLocations(),
+                ),
             )
         }
 
diff --git a/.teamcity/src/test/kotlin/ApplyDefaultConfigurationTest.kt b/.teamcity/src/test/kotlin/ApplyDefaultConfigurationTest.kt
index a4a36274232..3484f769313 100644
--- a/.teamcity/src/test/kotlin/ApplyDefaultConfigurationTest.kt
+++ b/.teamcity/src/test/kotlin/ApplyDefaultConfigurationTest.kt
@@ -190,12 +190,9 @@ class ApplyDefaultConfigurationTest {
             "%additional.gradle.parameters%",
             "--continue $extraParameters -Dscan.tag.Check",
             "-Dscan.tag.PullRequestFeedback -PteamCityBuildId=%teamcity.build.id%",
-            "-Dorg.gradle.java.installations.auto-download=false",
+            "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
             "-Porg.gradle.java.installations.auto-download=false",
-            "-Dorg.gradle.java.installations.auto-detect=false",
             "-Porg.gradle.java.installations.auto-detect=false",
-            "\"-Dorg.gradle.java.installations.paths=$expectedInstallationPaths\"",
-            "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
         ).joinToString(" ")
     }
 }
diff --git a/.teamcity/src/test/kotlin/BuildTypeTest.kt b/.teamcity/src/test/kotlin/BuildTypeTest.kt
index 27cb5ec7f48..ffe22742476 100644
--- a/.teamcity/src/test/kotlin/BuildTypeTest.kt
+++ b/.teamcity/src/test/kotlin/BuildTypeTest.kt
@@ -66,16 +66,12 @@ class BuildTypeTest {
                 "--continue",
                 "-DbuildScan.PartOf=QuickFeedbackLinuxOnly,QuickFeedback,PullRequestFeedback,ReadyforNightly,ReadyforRelease",
                 "-Dscan.tag.CompileAll",
-                "-Dorg.gradle.java.installations.auto-download=false",
                 "-Porg.gradle.java.installations.auto-download=false",
                 "-Dscan.tag.Check",
                 "-PteamCityBuildId=%teamcity.build.id%",
-                "-Dorg.gradle.java.installations.auto-download=false",
+                "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
                 "-Porg.gradle.java.installations.auto-download=false",
-                "-Dorg.gradle.java.installations.auto-detect=false",
                 "-Porg.gradle.java.installations.auto-detect=false",
-                "\"-Dorg.gradle.java.installations.paths=$expectedInstallationPaths\"",
-                "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
             ).joinToString(" "),
             gradleStep.gradleParams,
         )
@@ -123,12 +119,9 @@ class BuildTypeTest {
                 "-PflakyTests=exclude",
                 "-Dscan.tag.Check",
                 "-PteamCityBuildId=%teamcity.build.id%",
-                "-Dorg.gradle.java.installations.auto-download=false",
+                "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
                 "-Porg.gradle.java.installations.auto-download=false",
-                "-Dorg.gradle.java.installations.auto-detect=false",
                 "-Porg.gradle.java.installations.auto-detect=false",
-                "\"-Dorg.gradle.java.installations.paths=$expectedInstallationPaths\"",
-                "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
             ).joinToString(" "),
             gradleStep.gradleParams,
         )
diff --git a/.teamcity/src/test/kotlin/PerformanceTestBuildTypeTest.kt b/.teamcity/src/test/kotlin/PerformanceTestBuildTypeTest.kt
index 54a1a75093e..819eabe9400 100644
--- a/.teamcity/src/test/kotlin/PerformanceTestBuildTypeTest.kt
+++ b/.teamcity/src/test/kotlin/PerformanceTestBuildTypeTest.kt
@@ -88,9 +88,7 @@ class PerformanceTestBuildTypeTest {
                 "-PtestJavaVendor=openjdk",
                 "-PautoDownloadAndroidStudio=true",
                 "-PrunAndroidStudioInHeadlessMode=true",
-                "-Dorg.gradle.java.installations.auto-download=false",
                 "-Porg.gradle.java.installations.auto-download=false",
-                "\"-Dorg.gradle.java.installations.paths=$expectedInstallationPaths\"",
                 "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
                 "\"-Porg.gradle.performance.branchName=%teamcity.build.branch%\"",
                 "\"-Porg.gradle.performance.db.url=%performance.db.url%\"",
@@ -165,9 +163,7 @@ class PerformanceTestBuildTypeTest {
                 "-PtestJavaVendor=openjdk",
                 "-PautoDownloadAndroidStudio=true",
                 "-PrunAndroidStudioInHeadlessMode=true",
-                "-Dorg.gradle.java.installations.auto-download=false",
                 "-Porg.gradle.java.installations.auto-download=false",
-                "\"-Dorg.gradle.java.installations.paths=$expectedInstallationPaths\"",
                 "\"-Porg.gradle.java.installations.paths=$expectedInstallationPaths\"",
                 "-Porg.gradle.performance.branchName=\"%teamcity.build.branch%\"",
                 "-Porg.gradle.performance.db.url=\"%performance.db.url%\"",
diff --git a/build-logic/performance-testing/src/main/kotlin/gradlebuild/performance/tasks/BuildCommitDistribution.kt b/build-logic/performance-testing/src/main/kotlin/gradlebuild/performance/tasks/BuildCommitDistribution.kt
index d6f122ae082..dc7c888b750 100644
--- a/build-logic/performance-testing/src/main/kotlin/gradlebuild/performance/tasks/BuildCommitDistribution.kt
+++ b/build-logic/performance-testing/src/main/kotlin/gradlebuild/performance/tasks/BuildCommitDistribution.kt
@@ -206,7 +206,6 @@ abstract class BuildCommitDistribution @Inject internal constructor(
             ":distributions-full:binDistributionZip",
             ":tooling-api:installToolingApiShadedJar",
             "-PtoolingApiShadedJarInstallPath=" + commitDistributionToolingApiJar.get().asFile.absolutePath,
-            "-Dorg.gradle.java.installations.paths=${getJavaHomeFor(11)},${getJavaHomeFor(17)}",
             "-Porg.gradle.java.installations.paths=${getJavaHomeFor(11)},${getJavaHomeFor(17)}",
             "-PbuildCommitDistribution=true",
             "-Dorg.gradle.ignoreBuildJavaVersionCheck=true"
