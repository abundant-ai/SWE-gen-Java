diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
index 32ee29a32..f263e7c25 100644
--- a/gradle/libs.versions.toml
+++ b/gradle/libs.versions.toml
@@ -48,7 +48,7 @@ gradlePlugin-kotlinSerialization = { module = "org.jetbrains.kotlin:kotlin-seria
 gradlePlugin-mavenPublish = "com.vanniktech:gradle-maven-publish-plugin:0.28.0"
 gradlePlugin-shadow = "gradle.plugin.com.github.johnrengelman:shadow:8.0.0"
 gradlePlugin-spotless = "com.diffplug.spotless:spotless-plugin-gradle:6.25.0"
-guava-jre = "com.google.guava:guava:33.2.0-jre"
+guava-jre = "com.google.guava:guava:33.1.0-jre"
 hamcrestLibrary = "org.hamcrest:hamcrest-library:2.2"
 httpClient5 = "org.apache.httpcomponents.client5:httpclient5:5.3"
 jettyClient = "org.eclipse.jetty:jetty-client:9.4.54.v20240208"
diff --git a/okhttp/src/main/kotlin/okhttp3/internal/-UtilCommon.kt b/okhttp/src/main/kotlin/okhttp3/internal/-UtilCommon.kt
index 3db8d43a9..16d1321b5 100644
--- a/okhttp/src/main/kotlin/okhttp3/internal/-UtilCommon.kt
+++ b/okhttp/src/main/kotlin/okhttp3/internal/-UtilCommon.kt
@@ -55,12 +55,12 @@ internal val UNICODE_BOMS =
     "efbbbf".decodeHex(),
     // UTF-16BE.
     "feff".decodeHex(),
+    // UTF-32LE.
+    "fffe0000".decodeHex(),
     // UTF-16LE.
     "fffe".decodeHex(),
     // UTF-32BE.
-    "0000ffff".decodeHex(),
-    // UTF-32LE.
-    "ffff0000".decodeHex(),
+    "0000feff".decodeHex(),
   )
 
 /**
diff --git a/okhttp/src/main/kotlin/okhttp3/internal/-UtilJvm.kt b/okhttp/src/main/kotlin/okhttp3/internal/-UtilJvm.kt
index 1f1c4f4e3..71014a703 100644
--- a/okhttp/src/main/kotlin/okhttp3/internal/-UtilJvm.kt
+++ b/okhttp/src/main/kotlin/okhttp3/internal/-UtilJvm.kt
@@ -94,14 +94,18 @@ internal fun format(
   return String.format(Locale.US, format, *args)
 }
 
+/**
+ * will also strip BOM from the source
+ */
 @Throws(IOException::class)
 internal fun BufferedSource.readBomAsCharset(default: Charset): Charset {
   return when (select(UNICODE_BOMS)) {
+    // a mapping from the index of encoding methods in UNICODE_BOMS to its corresponding encoding method
     0 -> UTF_8
     1 -> UTF_16BE
-    2 -> UTF_16LE
-    3 -> UTF_32BE
-    4 -> UTF_32LE
+    2 -> UTF_32LE
+    3 -> UTF_16LE
+    4 -> UTF_32BE
     -1 -> default
     else -> throw AssertionError()
   }
