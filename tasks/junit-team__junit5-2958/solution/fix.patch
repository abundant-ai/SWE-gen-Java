diff --git a/documentation/documentation.gradle.kts b/documentation/documentation.gradle.kts
index 2b5530d2d..4c6d673c0 100644
--- a/documentation/documentation.gradle.kts
+++ b/documentation/documentation.gradle.kts
@@ -54,6 +54,10 @@ dependencies {
 		because("ApiReportGenerator needs it")
 	}
 
+	testImplementation(libs.jimfs) {
+		because("Jimfs is used in src/test/java")
+	}
+
 	standaloneConsoleLauncher(projects.junitPlatformConsoleStandalone)
 }
 
diff --git a/documentation/src/docs/asciidoc/link-attributes.adoc b/documentation/src/docs/asciidoc/link-attributes.adoc
index a3e7638b6..6aa27c3d4 100644
--- a/documentation/src/docs/asciidoc/link-attributes.adoc
+++ b/documentation/src/docs/asciidoc/link-attributes.adoc
@@ -181,6 +181,7 @@ endif::[]
 :AssertJ:                                    https://assertj.github.io/doc/[AssertJ]
 :Gitter:                                     https://gitter.im/junit-team/junit5[Gitter]
 :Hamcrest:                                   https://hamcrest.org/JavaHamcrest/[Hamcrest]
+:Jimfs:                                      https://google.github.io/jimfs/[Jimfs]
 :Log4j:                                      https://logging.apache.org/log4j/2.x/[Log4j]
 :Log4j_JDK_Logging_Adapter:                  https://logging.apache.org/log4j/2.x/log4j-jul/index.html[Log4j JDK Logging Adapter]
 :Logback:                                    https://logback.qos.ch/[Logback]
diff --git a/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc b/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc
index 56c41b328..a20ddfe9b 100644
--- a/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc
+++ b/documentation/src/docs/asciidoc/release-notes/release-notes-5.10.0-M1.adoc
@@ -82,6 +82,10 @@ default.
   parameter to set the maximum pool size factor.
 * New `junit.jupiter.execution.parallel.config.dynamic.saturate` configuration
   parameter to disable pool saturation.
+* New `TempDirFactory` SPI for customizing how the `TempDirectory` extension creates
+  temporary directories. See the
+  <<../user-guide/index.adoc#writing-tests-built-in-extensions-TempDirectory, User Guide>>
+  for details.
 
 
 [[release-notes-5.10.0-M1-junit-vintage]]
diff --git a/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc b/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc
index cf5068052..9da5858b6 100644
--- a/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc
+++ b/documentation/src/docs/asciidoc/user-guide/writing-tests.adoc
@@ -2613,5 +2613,33 @@ The default cleanup mode is `ALWAYS`. You can use the
 [source,java,indent=0]
 .A test class with a temporary directory that doesn't get cleaned up
 ----
-include::{testDir}/example/TempDirCleanupModeDemo.java[tags=user_guide]
+include::{testDir}/example/TempDirectoryDemo.java[tags=user_guide_cleanup_mode]
+----
+
+`@TempDir` supports custom creation of temporary directories via the optional
+`factory` attribute. This allows to define how the temporary directory is created,
+giving control over characteristics such as the directory name, root folder,
+and underlying file system.
+
+Factories can be created by implementing `TempDirFactory`. The default implementation
+available in Jupiter delegates the directory creation to
+`java.nio.file.Files::createTempDirectory`, passing `junit` as the prefix string
+to be used in generating the directory's name.
+
+The following example defines a factory that uses the test name as the directory name
+prefix instead of the `junit` constant value.
+
+[source,java,indent=0]
+.A test class with a temporary directory having the test name as the directory name prefix
+----
+include::{testDir}/example/TempDirectoryDemo.java[tags=user_guide_factory_name_prefix]
+----
+
+It's also possible to use an in-memory file system like `{Jimfs}` for the creation of the
+temporary directory. The following example shows how to do it.
+
+[source,java,indent=0]
+.A test class with a temporary directory created with the Jimfs in-memory file system
+----
+include::{testDir}/example/TempDirectoryDemo.java[tags=user_guide_factory_jimfs]
 ----
diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
index 51f09b24c..ccab4e47b 100644
--- a/gradle/libs.versions.toml
+++ b/gradle/libs.versions.toml
@@ -31,6 +31,7 @@ groovy4 = { module = "org.apache.groovy:groovy", version = "4.0.11" }
 groovy2-bom = { module = "org.codehaus.groovy:groovy-bom", version = "2.5.21" }
 hamcrest = { module = "org.hamcrest:hamcrest", version = "2.2" }
 jfrunit = { module = "org.moditect.jfrunit:jfrunit-core", version = "1.0.0.Alpha2" }
+jimfs = { module = "com.google.jimfs:jimfs", version = "1.2" }
 jmh-core = { module = "org.openjdk.jmh:jmh-core", version.ref = "jmh" }
 jmh-generator-annprocess = { module = "org.openjdk.jmh:jmh-generator-annprocess", version.ref = "jmh" }
 joox = { module = "org.jooq:joox", version = "2.0.0" }
@@ -39,6 +40,7 @@ kotlinx-coroutines = { module = "org.jetbrains.kotlinx:kotlinx-coroutines-core",
 log4j-core = { module = "org.apache.logging.log4j:log4j-core", version.ref = "log4j" }
 log4j-jul = { module = "org.apache.logging.log4j:log4j-jul", version.ref = "log4j" }
 maven = { module = "org.apache.maven:apache-maven", version = "3.9.1" }
+memoryfilesystem = { module = "com.github.marschall:memoryfilesystem", version = "2.5.1" }
 mockito = { module = "org.mockito:mockito-junit-jupiter", version = "5.3.1" }
 opentest4j = { module = "org.opentest4j:opentest4j", version.ref = "opentest4j" }
 openTestReporting-events = { module = "org.opentest4j.reporting:open-test-reporting-events", version.ref = "openTestReporting" }
diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java
index 2352f6286..01a7be31d 100644
--- a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java
+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDir.java
@@ -26,6 +26,7 @@ import java.nio.file.Path;
 import org.apiguardian.api.API;
 import org.junit.jupiter.api.extension.ExtensionConfigurationException;
 import org.junit.jupiter.api.extension.ParameterResolutionException;
+import org.junit.jupiter.api.io.TempDirFactory.Standard;
 
 /**
  * {@code @TempDir} can be used to annotate a field in a test class or a
@@ -96,9 +97,22 @@ import org.junit.jupiter.api.extension.ParameterResolutionException;
 @API(status = STABLE, since = "5.10")
 public @interface TempDir {
 
+	/**
+	 * Factory for the temporary directory.
+	 *
+	 * <p>If {@value #SCOPE_PROPERTY_NAME} is set to {@code per_context}, no
+	 * custom factory is allowed.
+	 *
+	 * @return the class instance of the factory
+	 *
+	 * @since 5.10
+	 */
+	@API(status = EXPERIMENTAL, since = "5.10")
+	Class<? extends TempDirFactory> factory() default Standard.class;
+
 	/**
 	 * Property name used to set the scope of temporary directories created via
-	 * {@link org.junit.jupiter.api.io.TempDir @TempDir} annotation: {@value}
+	 * {@link TempDir @TempDir} annotation: {@value}
 	 *
 	 * <h4>Supported Values</h4>
 	 * <ul>
diff --git a/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDirFactory.java b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDirFactory.java
new file mode 100644
index 000000000..1f6958257
--- /dev/null
+++ b/junit-jupiter-api/src/main/java/org/junit/jupiter/api/io/TempDirFactory.java
@@ -0,0 +1,85 @@
+/*
+ * Copyright 2015-2023 the original author or authors.
+ *
+ * All rights reserved. This program and the accompanying materials are
+ * made available under the terms of the Eclipse Public License v2.0 which
+ * accompanies this distribution and is available at
+ *
+ * https://www.eclipse.org/legal/epl-v20.html
+ */
+
+package org.junit.jupiter.api.io;
+
+import static org.apiguardian.api.API.Status.EXPERIMENTAL;
+
+import java.io.Closeable;
+import java.io.IOException;
+import java.nio.file.Files;
+import java.nio.file.Path;
+import java.nio.file.attribute.FileAttribute;
+
+import org.apiguardian.api.API;
+import org.junit.jupiter.api.extension.ExtensionContext;
+
+/**
+ * {@code TempDirFactory} defines the SPI for creating temporary directories
+ * programmatically.
+ *
+ * <p>A temporary directory factory is typically used to gain more control on
+ * the temporary directory creation, like defining the parent directory or even
+ * the file system that should be used.
+ *
+ * <p>Concrete implementations must have a <em>default constructor</em>.
+ *
+ * <p>A {@link TempDirFactory} can be configured <em>locally</em>
+ * for a test class field or method parameter via the {@link TempDir @TempDir}
+ * annotation.
+ *
+ * @since 5.10
+ * @see TempDir @TempDir
+ */
+@FunctionalInterface
+@API(status = EXPERIMENTAL, since = "5.10")
+public interface TempDirFactory extends Closeable {
+
+	/**
+	 * Create a new temporary directory, using the given prefix to generate its name.
+	 * Depending on the implementation, the resulting {@code Path} may or may not be
+	 * associated with the default {@code FileSystem}.
+	 *
+	 * @param context the current extension context; never {@code null}
+	 * @return the path to the newly created directory that did not exist before this method was invoked; never {@code null}
+	 * @throws Exception in case of failures
+	 */
+	Path createTempDirectory(ExtensionContext context) throws Exception;
+
+	/**
+	 * {@inheritDoc}
+	 */
+	@Override
+	default void close() throws IOException {
+	}
+
+	/**
+	 * Standard temporary directory factory that delegates to
+	 * {@link Files#createTempDirectory}.
+	 *
+	 * @see Files#createTempDirectory(String, FileAttribute[])
+	 */
+	class Standard implements TempDirFactory {
+
+		public static final TempDirFactory INSTANCE = new Standard();
+
+		private static final String TEMP_DIR_PREFIX = "junit";
+
+		public Standard() {
+		}
+
+		@Override
+		public Path createTempDirectory(ExtensionContext context) throws IOException {
+			return Files.createTempDirectory(TEMP_DIR_PREFIX);
+		}
+
+	}
+
+}
diff --git a/junit-jupiter-engine/junit-jupiter-engine.gradle.kts b/junit-jupiter-engine/junit-jupiter-engine.gradle.kts
index daa45cd35..63d45183f 100644
--- a/junit-jupiter-engine/junit-jupiter-engine.gradle.kts
+++ b/junit-jupiter-engine/junit-jupiter-engine.gradle.kts
@@ -21,9 +21,11 @@ dependencies {
 	testImplementation(projects.junitPlatformTestkit)
 	testImplementation(testFixtures(projects.junitPlatformCommons))
 	testImplementation(kotlin("stdlib"))
+	testImplementation(libs.jimfs)
 	testImplementation(libs.junit4)
 	testImplementation(libs.kotlinx.coroutines)
 	testImplementation(libs.groovy4)
+	testImplementation(libs.memoryfilesystem)
 	testImplementation(testFixtures(projects.junitJupiterApi))
 
 	osgiVerification(projects.junitPlatformLauncher)
diff --git a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java
index 624c9adbc..3cd8a47fc 100644
--- a/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java
+++ b/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java
@@ -51,6 +51,7 @@ import org.junit.jupiter.api.extension.ParameterResolutionException;
 import org.junit.jupiter.api.extension.ParameterResolver;
 import org.junit.jupiter.api.io.CleanupMode;
 import org.junit.jupiter.api.io.TempDir;
+import org.junit.jupiter.api.io.TempDirFactory;
 import org.junit.jupiter.engine.config.EnumConfigurationParameterConverter;
 import org.junit.jupiter.engine.config.JupiterConfiguration;
 import org.junit.platform.commons.JUnitException;
@@ -74,7 +75,6 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 
 	static final Namespace NAMESPACE = Namespace.create(TempDirectory.class);
 	private static final String KEY = "temp.dir";
-	private static final String TEMP_DIR_PREFIX = "junit";
 
 	// for testing purposes
 	static final String FILE_OPERATIONS_KEY = "file.operations";
@@ -123,7 +123,9 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 
 			try {
 				CleanupMode cleanupMode = determineCleanupModeForField(field);
-				makeAccessible(field).set(testInstance, getPathOrFile(field, field.getType(), cleanupMode, context));
+				TempDirFactory factory = getTempDirFactoryForField(field);
+				makeAccessible(field).set(testInstance,
+					getPathOrFile(field, field.getType(), factory, cleanupMode, context));
 			}
 			catch (Throwable t) {
 				ExceptionUtils.throwAsUncheckedException(t);
@@ -154,7 +156,8 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		Class<?> parameterType = parameterContext.getParameter().getType();
 		assertSupportedType("parameter", parameterType);
 		CleanupMode cleanupMode = determineCleanupModeForParameter(parameterContext);
-		return getPathOrFile(parameterContext.getParameter(), parameterType, cleanupMode, extensionContext);
+		TempDirFactory factory = getTempDirFactoryForParameter(parameterContext);
+		return getPathOrFile(parameterContext.getParameter(), parameterType, factory, cleanupMode, extensionContext);
 	}
 
 	private CleanupMode determineCleanupModeForField(Field field) {
@@ -174,6 +177,25 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		return cleanupMode == DEFAULT ? this.configuration.getDefaultTempDirCleanupMode() : cleanupMode;
 	}
 
+	private TempDirFactory getTempDirFactoryForField(Field field) {
+		TempDir tempDir = findAnnotation(field, TempDir.class).orElseThrow(
+			() -> new JUnitException("Field " + field + " must be annotated with @TempDir"));
+		return getTempDirFactory(tempDir);
+	}
+
+	private TempDirFactory getTempDirFactoryForParameter(ParameterContext parameterContext) {
+		TempDir tempDir = parameterContext.findAnnotation(TempDir.class).orElseThrow(() -> new JUnitException(
+			"Parameter " + parameterContext.getParameter() + " must be annotated with @TempDir"));
+		return getTempDirFactory(tempDir);
+	}
+
+	private static TempDirFactory getTempDirFactory(TempDir tempDir) {
+		Class<? extends TempDirFactory> factory = tempDir.factory();
+		return factory == TempDirFactory.Standard.class //
+				? TempDirFactory.Standard.INSTANCE
+				: ReflectionUtils.newInstance(factory);
+	}
+
 	private void assertNonFinalField(Field field) {
 		if (ReflectionUtils.isFinal(field)) {
 			throw new ExtensionConfigurationException("@TempDir field [" + field + "] must not be declared as final.");
@@ -187,13 +209,22 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		}
 	}
 
-	private Object getPathOrFile(AnnotatedElement sourceElement, Class<?> type, CleanupMode cleanupMode,
-			ExtensionContext extensionContext) {
-		Namespace namespace = getScope(extensionContext) == Scope.PER_DECLARATION //
+	@SuppressWarnings("deprecation")
+	private Object getPathOrFile(AnnotatedElement sourceElement, Class<?> type, TempDirFactory factory,
+			CleanupMode cleanupMode, ExtensionContext extensionContext) {
+		Scope scope = getScope(extensionContext);
+
+		if (scope == Scope.PER_CONTEXT && factory != TempDirFactory.Standard.INSTANCE) {
+			throw new ExtensionConfigurationException("Custom @TempDir factory is not supported with "
+					+ TempDir.SCOPE_PROPERTY_NAME + "=" + Scope.PER_CONTEXT.toString().toLowerCase());
+		}
+
+		Namespace namespace = scope == Scope.PER_DECLARATION //
 				? NAMESPACE.append(sourceElement) //
 				: NAMESPACE;
 		Path path = extensionContext.getStore(namespace) //
-				.getOrComputeIfAbsent(KEY, __ -> createTempDir(cleanupMode, extensionContext), CloseablePath.class) //
+				.getOrComputeIfAbsent(KEY, __ -> createTempDir(factory, cleanupMode, extensionContext),
+					CloseablePath.class) //
 				.get();
 
 		return (type == Path.class) ? path : path.toFile();
@@ -209,9 +240,10 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		);
 	}
 
-	static CloseablePath createTempDir(CleanupMode cleanupMode, ExtensionContext executionContext) {
+	static CloseablePath createTempDir(TempDirFactory factory, CleanupMode cleanupMode,
+			ExtensionContext executionContext) {
 		try {
-			return new CloseablePath(Files.createTempDirectory(TEMP_DIR_PREFIX), cleanupMode, executionContext);
+			return new CloseablePath(factory, cleanupMode, executionContext);
 		}
 		catch (Exception ex) {
 			throw new ExtensionConfigurationException("Failed to create default temp directory", ex);
@@ -223,11 +255,14 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		private static final Logger logger = LoggerFactory.getLogger(CloseablePath.class);
 
 		private final Path dir;
+		private final TempDirFactory factory;
 		private final CleanupMode cleanupMode;
 		private final ExtensionContext executionContext;
 
-		CloseablePath(Path dir, CleanupMode cleanupMode, ExtensionContext executionContext) {
-			this.dir = dir;
+		CloseablePath(TempDirFactory factory, CleanupMode cleanupMode, ExtensionContext executionContext)
+				throws Exception {
+			this.dir = factory.createTempDirectory(executionContext);
+			this.factory = factory;
 			this.cleanupMode = cleanupMode;
 			this.executionContext = executionContext;
 		}
@@ -251,6 +286,8 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 			if (!failures.isEmpty()) {
 				throw createIOExceptionWithAttachedFailures(failures);
 			}
+
+			factory.close();
 		}
 
 		private SortedMap<Path, IOException> deleteAllFilesAndDirectories(FileOperations fileOperations)
@@ -261,13 +298,13 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 
 			SortedMap<Path, IOException> failures = new TreeMap<>();
 			Set<Path> retriedPaths = new HashSet<>();
-			resetPermissions(dir);
+			tryToResetPermissions(dir);
 			Files.walkFileTree(dir, new SimpleFileVisitor<Path>() {
 
 				@Override
 				public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) {
 					if (!dir.equals(CloseablePath.this.dir)) {
-						resetPermissions(dir);
+						tryToResetPermissions(dir);
 					}
 					return CONTINUE;
 				}
@@ -310,7 +347,7 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 					boolean notYetRetried = retriedPaths.add(path);
 					if (notYetRetried) {
 						try {
-							resetPermissions(path);
+							tryToResetPermissions(path);
 							if (Files.isDirectory(path)) {
 								Files.walkFileTree(path, this);
 							}
@@ -332,8 +369,15 @@ class TempDirectory implements BeforeAllCallback, BeforeEachCallback, ParameterR
 		}
 
 		@SuppressWarnings("ResultOfMethodCallIgnored")
-		private static void resetPermissions(Path path) {
-			File file = path.toFile();
+		private static void tryToResetPermissions(Path path) {
+			File file;
+			try {
+				file = path.toFile();
+			}
+			catch (UnsupportedOperationException ignore) {
+				// Might happen when the `TempDirFactory` uses a custom `FileSystem`
+				return;
+			}
 			file.setReadable(true);
 			file.setWritable(true);
 			if (Files.isDirectory(path)) {
