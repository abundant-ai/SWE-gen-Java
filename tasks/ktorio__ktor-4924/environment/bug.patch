diff --git a/ktor-client/ktor-client-cio/jvm/test/io/ktor/client/engine/cio/UnixSocketTest.kt b/ktor-client/ktor-client-cio/jvm/test/io/ktor/client/engine/cio/UnixSocketTest.kt
index eaac1d247..48bed1b5e 100644
--- a/ktor-client/ktor-client-cio/jvm/test/io/ktor/client/engine/cio/UnixSocketTest.kt
+++ b/ktor-client/ktor-client-cio/jvm/test/io/ktor/client/engine/cio/UnixSocketTest.kt
@@ -5,7 +5,6 @@
 package io.ktor.client.engine.cio
 
 import io.ktor.client.HttpClient
-import io.ktor.client.plugins.defaultRequest
 import io.ktor.client.request.get
 import io.ktor.client.request.unixSocket
 import io.ktor.client.statement.bodyAsText
@@ -14,6 +13,7 @@ import io.ktor.server.application.*
 import io.ktor.server.cio.*
 import io.ktor.server.cio.CIO
 import io.ktor.server.engine.*
+import io.ktor.server.request.*
 import io.ktor.server.response.*
 import io.ktor.server.routing.*
 import kotlinx.coroutines.delay
@@ -45,7 +45,7 @@ class UnixSocketTest {
 
         val client = HttpClient(io.ktor.client.engine.cio.CIO)
         try {
-            server.start(wait = false)
+            server.startSuspend(wait = false)
             delay(1000)
 
             val response = client.get("http://localhost/") {
@@ -55,55 +55,7 @@ class UnixSocketTest {
             assertEquals("Hello, Unix socket world!", response.bodyAsText())
         } finally {
             client.close()
-            server.stop(0, 0)
-        }
-    }
-
-    @Test
-    fun testUnixSocketClientWithDefaultRequest() = runBlocking {
-        if (!UnixSocketAddress.isSupported()) return@runBlocking
-
-        val server = embeddedServer(
-            CIO,
-            serverConfig {
-                module {
-                    routing {
-                        get("/test") {
-                            call.respondText("Hello from default Unix socket!")
-                        }
-                        get("/custom") {
-                            call.respondText("Hello from custom endpoint!")
-                        }
-                    }
-                }
-            },
-            configure = {
-                unixConnector("/tmp/test-unix-socket-default.sock")
-            }
-        )
-
-        val client = HttpClient(io.ktor.client.engine.cio.CIO) {
-            defaultRequest {
-                unixSocket("/tmp/test-unix-socket-default.sock/")
-            }
-        }
-
-        try {
-            server.start(wait = false)
-            delay(1000)
-
-            // Test that the default Unix socket is used
-            val response1 = client.get("http://localhost/test")
-            assertEquals(200, response1.status.value)
-            assertEquals("Hello from default Unix socket!", response1.bodyAsText())
-
-            // Test another endpoint with the same default Unix socket
-            val response2 = client.get("http://localhost/custom")
-            assertEquals(200, response2.status.value)
-            assertEquals("Hello from custom endpoint!", response2.bodyAsText())
-        } finally {
-            client.close()
-            server.stop(0, 0)
+            server.stop()
         }
     }
 }
diff --git a/ktor-client/ktor-client-core/api/ktor-client-core.api b/ktor-client/ktor-client-core/api/ktor-client-core.api
index fa66ed041..d56510221 100644
--- a/ktor-client/ktor-client-core/api/ktor-client-core.api
+++ b/ktor-client/ktor-client-core/api/ktor-client-core.api
@@ -263,10 +263,8 @@ public final class io/ktor/client/plugins/DefaultRequest$DefaultRequestBuilder :
 	public final fun getPort ()I
 	public final fun getUrl ()Lio/ktor/http/URLBuilder;
 	public final fun setAttributes (Lkotlin/jvm/functions/Function1;)V
-	public final fun setCapability (Lio/ktor/client/engine/HttpClientEngineCapability;Ljava/lang/Object;)V
 	public final fun setHost (Ljava/lang/String;)V
 	public final fun setPort (I)V
-	public final fun unixSocket (Ljava/lang/String;)V
 	public final fun url (Ljava/lang/String;)V
 	public final fun url (Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;Ljava/lang/String;Lkotlin/jvm/functions/Function1;)V
 	public final fun url (Lkotlin/jvm/functions/Function1;)V
diff --git a/ktor-client/ktor-client-core/api/ktor-client-core.klib.api b/ktor-client/ktor-client-core/api/ktor-client-core.klib.api
index 1666fc948..dbf0ad6f3 100644
--- a/ktor-client/ktor-client-core/api/ktor-client-core.klib.api
+++ b/ktor-client/ktor-client-core/api/ktor-client-core.klib.api
@@ -615,9 +615,7 @@ final class io.ktor.client.plugins/DefaultRequest { // io.ktor.client.plugins/De
             final fun <get-port>(): kotlin/Int // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.port.<get-port>|<get-port>(){}[0]
             final fun <set-port>(kotlin/Int) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.port.<set-port>|<set-port>(kotlin.Int){}[0]
 
-        final fun <#A2: kotlin/Any> setCapability(io.ktor.client.engine/HttpClientEngineCapability<#A2>, #A2) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.setCapability|setCapability(io.ktor.client.engine.HttpClientEngineCapability<0:0>;0:0){0ยง<kotlin.Any>}[0]
         final fun setAttributes(kotlin/Function1<io.ktor.util/Attributes, kotlin/Unit>) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.setAttributes|setAttributes(kotlin.Function1<io.ktor.util.Attributes,kotlin.Unit>){}[0]
-        final fun unixSocket(kotlin/String) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.unixSocket|unixSocket(kotlin.String){}[0]
         final fun url(kotlin/Function1<io.ktor.http/URLBuilder, kotlin/Unit>) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.url|url(kotlin.Function1<io.ktor.http.URLBuilder,kotlin.Unit>){}[0]
         final fun url(kotlin/String) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.url|url(kotlin.String){}[0]
         final fun url(kotlin/String? = ..., kotlin/String? = ..., kotlin/Int? = ..., kotlin/String? = ..., kotlin/Function1<io.ktor.http/URLBuilder, kotlin/Unit> = ...) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.url|url(kotlin.String?;kotlin.String?;kotlin.Int?;kotlin.String?;kotlin.Function1<io.ktor.http.URLBuilder,kotlin.Unit>){}[0]
diff --git a/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt b/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt
index 598cb2f0a..81b219fc3 100644
--- a/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt
+++ b/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt
@@ -5,7 +5,6 @@
 package io.ktor.client.plugins
 
 import io.ktor.client.*
-import io.ktor.client.engine.*
 import io.ktor.client.request.*
 import io.ktor.http.*
 import io.ktor.util.*
@@ -232,16 +231,6 @@ public class DefaultRequest private constructor(private val block: DefaultReques
         public fun setAttributes(block: Attributes.() -> Unit) {
             attributes.apply(block)
         }
-
-        public fun <T : Any> setCapability(key: HttpClientEngineCapability<T>, capability: T) {
-            val capabilities = attributes.computeIfAbsent(ENGINE_CAPABILITIES_KEY) { mutableMapOf() }
-            capabilities[key] = capability
-        }
-
-        @OptIn(InternalAPI::class)
-        public fun unixSocket(path: String) {
-            setCapability(UnixSocketCapability, UnixSocketSettings(path))
-        }
     }
 }
 
