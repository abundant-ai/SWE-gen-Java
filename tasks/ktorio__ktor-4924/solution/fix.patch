diff --git a/ktor-client/ktor-client-core/api/ktor-client-core.api b/ktor-client/ktor-client-core/api/ktor-client-core.api
index d56510221..fa66ed041 100644
--- a/ktor-client/ktor-client-core/api/ktor-client-core.api
+++ b/ktor-client/ktor-client-core/api/ktor-client-core.api
@@ -263,8 +263,10 @@ public final class io/ktor/client/plugins/DefaultRequest$DefaultRequestBuilder :
 	public final fun getPort ()I
 	public final fun getUrl ()Lio/ktor/http/URLBuilder;
 	public final fun setAttributes (Lkotlin/jvm/functions/Function1;)V
+	public final fun setCapability (Lio/ktor/client/engine/HttpClientEngineCapability;Ljava/lang/Object;)V
 	public final fun setHost (Ljava/lang/String;)V
 	public final fun setPort (I)V
+	public final fun unixSocket (Ljava/lang/String;)V
 	public final fun url (Ljava/lang/String;)V
 	public final fun url (Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;Ljava/lang/String;Lkotlin/jvm/functions/Function1;)V
 	public final fun url (Lkotlin/jvm/functions/Function1;)V
diff --git a/ktor-client/ktor-client-core/api/ktor-client-core.klib.api b/ktor-client/ktor-client-core/api/ktor-client-core.klib.api
index dbf0ad6f3..1666fc948 100644
--- a/ktor-client/ktor-client-core/api/ktor-client-core.klib.api
+++ b/ktor-client/ktor-client-core/api/ktor-client-core.klib.api
@@ -615,7 +615,9 @@ final class io.ktor.client.plugins/DefaultRequest { // io.ktor.client.plugins/De
             final fun <get-port>(): kotlin/Int // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.port.<get-port>|<get-port>(){}[0]
             final fun <set-port>(kotlin/Int) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.port.<set-port>|<set-port>(kotlin.Int){}[0]
 
+        final fun <#A2: kotlin/Any> setCapability(io.ktor.client.engine/HttpClientEngineCapability<#A2>, #A2) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.setCapability|setCapability(io.ktor.client.engine.HttpClientEngineCapability<0:0>;0:0){0ยง<kotlin.Any>}[0]
         final fun setAttributes(kotlin/Function1<io.ktor.util/Attributes, kotlin/Unit>) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.setAttributes|setAttributes(kotlin.Function1<io.ktor.util.Attributes,kotlin.Unit>){}[0]
+        final fun unixSocket(kotlin/String) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.unixSocket|unixSocket(kotlin.String){}[0]
         final fun url(kotlin/Function1<io.ktor.http/URLBuilder, kotlin/Unit>) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.url|url(kotlin.Function1<io.ktor.http.URLBuilder,kotlin.Unit>){}[0]
         final fun url(kotlin/String) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.url|url(kotlin.String){}[0]
         final fun url(kotlin/String? = ..., kotlin/String? = ..., kotlin/Int? = ..., kotlin/String? = ..., kotlin/Function1<io.ktor.http/URLBuilder, kotlin/Unit> = ...) // io.ktor.client.plugins/DefaultRequest.DefaultRequestBuilder.url|url(kotlin.String?;kotlin.String?;kotlin.Int?;kotlin.String?;kotlin.Function1<io.ktor.http.URLBuilder,kotlin.Unit>){}[0]
diff --git a/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt b/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt
index 81b219fc3..598cb2f0a 100644
--- a/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt
+++ b/ktor-client/ktor-client-core/common/src/io/ktor/client/plugins/DefaultRequest.kt
@@ -5,6 +5,7 @@
 package io.ktor.client.plugins
 
 import io.ktor.client.*
+import io.ktor.client.engine.*
 import io.ktor.client.request.*
 import io.ktor.http.*
 import io.ktor.util.*
@@ -231,6 +232,16 @@ public class DefaultRequest private constructor(private val block: DefaultReques
         public fun setAttributes(block: Attributes.() -> Unit) {
             attributes.apply(block)
         }
+
+        public fun <T : Any> setCapability(key: HttpClientEngineCapability<T>, capability: T) {
+            val capabilities = attributes.computeIfAbsent(ENGINE_CAPABILITIES_KEY) { mutableMapOf() }
+            capabilities[key] = capability
+        }
+
+        @OptIn(InternalAPI::class)
+        public fun unixSocket(path: String) {
+            setCapability(UnixSocketCapability, UnixSocketSettings(path))
+        }
     }
 }
 
